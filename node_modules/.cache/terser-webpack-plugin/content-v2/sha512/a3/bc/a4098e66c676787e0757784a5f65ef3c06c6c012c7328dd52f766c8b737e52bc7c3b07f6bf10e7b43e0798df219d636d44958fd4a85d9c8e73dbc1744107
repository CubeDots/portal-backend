{"code":"(this[\"webpackJsonpmy-app\"]=this[\"webpackJsonpmy-app\"]||[]).push([[35],{291:function(e,t,a){\"use strict\";var c=a(11),r=a(0);t.a=function(){var e=Object(c.h)();return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(\"div\",{className:\"container\",children:Object(r.jsx)(\"div\",{className:\"row my-5 py-5\",children:Object(r.jsxs)(\"div\",{className:\"col my-5 text-center\",children:[Object(r.jsx)(\"h3\",{children:\"401 Unauthenticated.\"}),Object(r.jsx)(\"div\",{children:Object(r.jsx)(\"br\",{})}),Object(r.jsx)(\"button\",{className:\"btn btn-primary\",onClick:function(){return e(-1)},children:\"Go back\"})]})})})})}},472:function(e,t,a){\"use strict\";a.r(t);var c=a(14),r=a.n(c),n=a(25),s=a(4),l=a(1),i=a(11),o=a(18),u=a(400),d=a.n(u),j=a(15),b=a.n(j),h=a(291),m=a(27),O=a(0);t.default=function(){var e=Object(i.i)(),t=e.id,a=(e.sdk,Object(o.b)()),c=Object(o.d)(),u=Object(i.h)(),j=Object(l.useState)(!1),v=Object(s.a)(j,2),p=v[0],x=v[1],g=Object(l.useState)(null),f=Object(s.a)(g,2),w=f[0],F=f[1];if(Object(l.useEffect)((function(){!function(){k.apply(this,arguments)}(),console.log(\"Platform \",d.a)}),[]),!c())return console.log(\"valid Redirect to login\"),Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(h.a,{})});function k(){return(k=Object(n.a)(r.a.mark((function e(){var c,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),c={test:null,project_id:t},e.prev=2,e.next=5,b.a.post(m.a+\"vagon/getStream\",c,{headers:{Authorization:a()}});case 5:(n=e.sent).data.data&&(x(!1),F(n.data.data)),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(2),console.error(\"error \",e.t0),x(!1),422===e.t0.response.status&&(console.log(\"errors data \",e.t0.response.data.errors),4601===e.t0.response.data.errors.client_code&&alert(\"Insufficient Capacity. Please try again later.\"));case 14:case\"end\":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}var y=a().replace(\"Bearer \",\"-token%20\"),N=\"\";return N=\"Android\"===d.a.OS&&\"mobile\"===d.a.DeviceType?\"Android\":\"iOS\"===d.a.OS&&\"mobile\"===d.a.DeviceType?\"iPhone\":\"iOS\"===d.a.OS&&\"tablet\"===d.a.DeviceType?\"iPad\":\"Desktop\",Object(O.jsx)(O.Fragment,{children:p?Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(\"div\",{className:\"text-center\",children:\"Loading...\"})}):Object(O.jsx)(O.Fragment,{children:w?Object(O.jsx)(\"div\",{children:w.project.is_3d_enabled?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)(\"div\",{className:\"col-auto twoDbackBtn\",children:[Object(O.jsx)(\"button\",{title:\"Back\",className:\"cusocialBackBtn\",onClick:function(){return u(-1)},children:Object(O.jsx)(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:\"16\",height:\"16\",fill:\"currentColor\",className:\"bi bi-arrow-left\",viewBox:\"0 0 16 16\",children:Object(O.jsx)(\"path\",{fillRule:\"evenodd\",d:\"M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z\"})})}),\"\\xa0\",Object(O.jsx)(\"button\",{title:\"FullScreen\",className:\"cusocialBackBtn\",onClick:function(){return function(){var e=document.getElementsByTagName(\"iframe\")[0];e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):e.msRequestFullscreen?e.msRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitEnterFullScreen?e.webkitEnterFullScreen():alert(\"The requested browser does not support full-screen mode.\")}()},children:Object(O.jsx)(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:\"16\",height:\"16\",fill:\"currentColor\",className:\"bi bi-fullscreen\",viewBox:\"0 0 16 16\",children:Object(O.jsx)(\"path\",{d:\"M1.5 1a.5.5 0 0 0-.5.5v4a.5.5 0 0 1-1 0v-4A1.5 1.5 0 0 1 1.5 0h4a.5.5 0 0 1 0 1h-4zM10 .5a.5.5 0 0 1 .5-.5h4A1.5 1.5 0 0 1 16 1.5v4a.5.5 0 0 1-1 0v-4a.5.5 0 0 0-.5-.5h-4a.5.5 0 0 1-.5-.5zM.5 10a.5.5 0 0 1 .5.5v4a.5.5 0 0 0 .5.5h4a.5.5 0 0 1 0 1h-4A1.5 1.5 0 0 1 0 14.5v-4a.5.5 0 0 1 .5-.5zm15 0a.5.5 0 0 1 .5.5v4a1.5 1.5 0 0 1-1.5 1.5h-4a.5.5 0 0 1 0-1h4a.5.5 0 0 0 .5-.5v-4a.5.5 0 0 1 .5-.5z\"})})})]}),Object(O.jsx)(\"iframe\",{title:\"3Dstream\",src:\"\".concat(w.stream.vagon_stream_url,\"?launchFlags=\").concat(y,\"%20-platform%20\").concat(N),width:\"100%\",height:\"100%\",style:{border:0,margin:0,height:\"calc(100vh - 8px)\"},allowFullScreen:!0})]}):Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(\"div\",{className:\"text-center\",children:\"3d system is not available.\"})})}):Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(\"div\",{className:\"text-center\",children:\"No data available.\"})})})})}}}]);","name":"static/js/35.eb4074a2.chunk.js","map":{"version":3,"sources":["static/js/35.eb4074a2.chunk.js"],"names":["this","push","module","__webpack_exports__","__webpack_require__","react_router_dom__WEBPACK_IMPORTED_MODULE_0__","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__","navigate","Object","children","className","onClick","r","_var_www_html_cuengine_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__","_var_www_html_cuengine_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","n","_var_www_html_cuengine_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","_var_www_html_cuengine_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__","react__WEBPACK_IMPORTED_MODULE_3__","react_router_dom__WEBPACK_IMPORTED_MODULE_4__","react_auth_kit__WEBPACK_IMPORTED_MODULE_5__","react_platform_js__WEBPACK_IMPORTED_MODULE_6__","react_platform_js__WEBPACK_IMPORTED_MODULE_6___default","axios__WEBPACK_IMPORTED_MODULE_7__","axios__WEBPACK_IMPORTED_MODULE_7___default","_errors_Unauthorized__WEBPACK_IMPORTED_MODULE_8__","_common_Constants__WEBPACK_IMPORTED_MODULE_9__","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__","_useParams","id","authHeader","sdk","isAuthenticated","_useState","_useState2","projectStreamLoading","setProjectStreamLoading","_useState3","_useState4","projectStream","setProjectStream","_fetchProjectStream","apply","arguments","fetchProjectStream","console","log","a","mark","_callee","postData","res","wrap","_context","prev","next","test","project_id","post","headers","Authorization","sent","data","t0","error","response","status","errors","client_code","alert","stop","simpleToken","replace","devicePlatform","OS","DeviceType","project","is_3d_enabled","title","xmlns","width","height","fill","viewBox","fillRule","d","elem","document","getElementsByTagName","requestFullscreen","webkitRequestFullscreen","Element","ALLOW_KEYBOARD_INPUT","msRequestFullscreen","mozRequestFullScreen","webkitEnterFullScreen","openFullscreen","src","concat","stream","vagon_stream_url","style","border","margin","allowFullScreen"],"mappings":"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"},"input":"(this[\"webpackJsonpmy-app\"] = this[\"webpackJsonpmy-app\"] || []).push([[35],{\n\n/***/ 291:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(11);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(0);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__);\nfunction UnauthenticatedPage(){var navigate=Object(react_router_dom__WEBPACK_IMPORTED_MODULE_0__[/* useNavigate */ \"h\"])();return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__[\"jsx\"])(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__[\"Fragment\"],{children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__[\"jsx\"])(\"div\",{className:\"container\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__[\"jsx\"])(\"div\",{className:\"row my-5 py-5\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__[\"jsxs\"])(\"div\",{className:\"col my-5 text-center\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__[\"jsx\"])(\"h3\",{children:\"401 Unauthenticated.\"}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__[\"jsx\"])(\"br\",{})}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__[\"jsx\"])(\"button\",{className:\"btn btn-primary\",onClick:function onClick(){return navigate(-1);},children:\"Go back\"})]})})})});}/* harmony default export */ __webpack_exports__[\"a\"] = (UnauthenticatedPage);\n\n/***/ }),\n\n/***/ 472:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _var_www_html_cuengine_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(14);\n/* harmony import */ var _var_www_html_cuengine_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_var_www_html_cuengine_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _var_www_html_cuengine_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(25);\n/* harmony import */ var _var_www_html_cuengine_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(4);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(1);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(11);\n/* harmony import */ var react_auth_kit__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(18);\n/* harmony import */ var react_platform_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(400);\n/* harmony import */ var react_platform_js__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react_platform_js__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(15);\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _errors_Unauthorized__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(291);\n/* harmony import */ var _common_Constants__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(27);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(0);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__);\nfunction ThreeDSystemPage(){var _useParams=Object(react_router_dom__WEBPACK_IMPORTED_MODULE_4__[/* useParams */ \"i\"])(),id=_useParams.id,sdk=_useParams.sdk;var authHeader=Object(react_auth_kit__WEBPACK_IMPORTED_MODULE_5__[/* useAuthHeader */ \"b\"])();var isAuthenticated=Object(react_auth_kit__WEBPACK_IMPORTED_MODULE_5__[/* useIsAuthenticated */ \"d\"])();var navigate=Object(react_router_dom__WEBPACK_IMPORTED_MODULE_4__[/* useNavigate */ \"h\"])();var _useState=Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useState\"])(false),_useState2=Object(_var_www_html_cuengine_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(_useState,2),projectStreamLoading=_useState2[0],setProjectStreamLoading=_useState2[1];var _useState3=Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useState\"])(null),_useState4=Object(_var_www_html_cuengine_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(_useState3,2),projectStream=_useState4[0],setProjectStream=_useState4[1];Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useEffect\"])(function(){fetchProjectStream();console.log(\"Platform \",react_platform_js__WEBPACK_IMPORTED_MODULE_6___default.a);},[]);if(!isAuthenticated()){// Redirect to login\nconsole.log(\"valid Redirect to login\");return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"Fragment\"],{children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(_errors_Unauthorized__WEBPACK_IMPORTED_MODULE_8__[/* default */ \"a\"],{})});}function fetchProjectStream(){return _fetchProjectStream.apply(this,arguments);}function _fetchProjectStream(){_fetchProjectStream=Object(_var_www_html_cuengine_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(/*#__PURE__*/_var_www_html_cuengine_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(){var postData,res,errors;return _var_www_html_cuengine_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setProjectStreamLoading(true);postData={test:null,project_id:id};_context.prev=2;_context.next=5;return axios__WEBPACK_IMPORTED_MODULE_7___default.a.post(_common_Constants__WEBPACK_IMPORTED_MODULE_9__[/* API_ENDPOINT */ \"a\"]+\"vagon/getStream\",postData,{headers:{Authorization:authHeader()}});case 5:res=_context.sent;if(res.data.data){setProjectStreamLoading(false);setProjectStream(res.data.data);}_context.next=14;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](2);console.error(\"error \",_context.t0);setProjectStreamLoading(false);if(_context.t0.response.status===422){console.log(\"errors data \",_context.t0.response.data.errors);errors=_context.t0.response.data.errors;if(errors.client_code===4601){alert(\"Insufficient Capacity. Please try again later.\");}// console.log(\"error \\n\", error.response.data.message)\n// setFormValidationErrors(error.response.data.errors);\n// setFormErrors(error.response.data.message);\n// setTimeout(() => {\n//     setFormValidationErrors({});\n//     setFormErrors('');\n// }, 5000);\n}case 14:case\"end\":return _context.stop();}}},_callee,null,[[2,9]]);}));return _fetchProjectStream.apply(this,arguments);}var mobileCheck=function mobileCheck(){var check=false;(function(a){if(/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipad|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(a.substr(0,4)))check=true;})(navigator.userAgent||navigator.vendor||window.opera);return check;};// 896.992\n//const userId = auth().user.id;\nvar token=authHeader();var simpleToken=token.replace('Bearer ','-token%20');var devicePlatform='';if(react_platform_js__WEBPACK_IMPORTED_MODULE_6___default.a.OS==='Android'&&react_platform_js__WEBPACK_IMPORTED_MODULE_6___default.a.DeviceType==='mobile')devicePlatform='Android';else if(react_platform_js__WEBPACK_IMPORTED_MODULE_6___default.a.OS==='iOS'&&react_platform_js__WEBPACK_IMPORTED_MODULE_6___default.a.DeviceType==='mobile')devicePlatform='iPhone';else if(react_platform_js__WEBPACK_IMPORTED_MODULE_6___default.a.OS==='iOS'&&react_platform_js__WEBPACK_IMPORTED_MODULE_6___default.a.DeviceType==='tablet')devicePlatform='iPad';else devicePlatform='Desktop';function openFullscreen(){var elem=document.getElementsByTagName(\"iframe\")[0];//document.getElementById(\"twoDSales\");\nif(elem.requestFullscreen){elem.requestFullscreen();}else if(elem.webkitRequestFullscreen){/* Safari */elem.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT);}else if(elem.msRequestFullscreen){/* IE11 */elem.msRequestFullscreen();}else if(elem.mozRequestFullScreen){/* moz */elem.mozRequestFullScreen();}else if(elem.webkitEnterFullScreen){elem.webkitEnterFullScreen();}else{//elem.webkitEnterFullscreen();\nalert('The requested browser does not support full-screen mode.');}}return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"Fragment\"],{children:projectStreamLoading?/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"Fragment\"],{children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(\"div\",{className:\"text-center\",children:\"Loading...\"})}):/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"Fragment\"],{children:projectStream?/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(\"div\",{children:projectStream.project.is_3d_enabled?/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsxs\"])(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"Fragment\"],{children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsxs\"])(\"div\",{className:\"col-auto twoDbackBtn\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(\"button\",{title:\"Back\",className:\"cusocialBackBtn\",onClick:function onClick(){return navigate(-1);},children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:\"16\",height:\"16\",fill:\"currentColor\",className:\"bi bi-arrow-left\",viewBox:\"0 0 16 16\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(\"path\",{fillRule:\"evenodd\",d:\"M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z\"})})}),\"\\xA0\",/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(\"button\",{title:\"FullScreen\",className:\"cusocialBackBtn\",onClick:function onClick(){return openFullscreen();},children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:\"16\",height:\"16\",fill:\"currentColor\",className:\"bi bi-fullscreen\",viewBox:\"0 0 16 16\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(\"path\",{d:\"M1.5 1a.5.5 0 0 0-.5.5v4a.5.5 0 0 1-1 0v-4A1.5 1.5 0 0 1 1.5 0h4a.5.5 0 0 1 0 1h-4zM10 .5a.5.5 0 0 1 .5-.5h4A1.5 1.5 0 0 1 16 1.5v4a.5.5 0 0 1-1 0v-4a.5.5 0 0 0-.5-.5h-4a.5.5 0 0 1-.5-.5zM.5 10a.5.5 0 0 1 .5.5v4a.5.5 0 0 0 .5.5h4a.5.5 0 0 1 0 1h-4A1.5 1.5 0 0 1 0 14.5v-4a.5.5 0 0 1 .5-.5zm15 0a.5.5 0 0 1 .5.5v4a1.5 1.5 0 0 1-1.5 1.5h-4a.5.5 0 0 1 0-1h4a.5.5 0 0 0 .5-.5v-4a.5.5 0 0 1 .5-.5z\"})})})]}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(\"iframe\",{title:\"3Dstream\",src:\"\".concat(projectStream.stream.vagon_stream_url,\"?launchFlags=\").concat(simpleToken,\"%20-platform%20\").concat(devicePlatform),width:\"100%\",height:\"100%\",style:{border:0,margin:0,height:'calc(100vh - 8px)'},allowFullScreen:true})]}):/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"Fragment\"],{children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(\"div\",{className:\"text-center\",children:\"3d system is not available.\"})})}):/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"Fragment\"],{children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(\"div\",{className:\"text-center\",children:\"No data available.\"})})})});}/* harmony default export */ __webpack_exports__[\"default\"] = (ThreeDSystemPage);\n\n/***/ })\n\n}]);","inputSourceMap":{"version":3,"sources":["/var/www/html/cuengine-portal/src/errors/Unauthorized.js","/var/www/html/cuengine-portal/src/pages/ThreeDSystemPage.js"],"names":["UnauthenticatedPage","navigate","useNavigate","ThreeDSystemPage","useParams","id","sdk","authHeader","useAuthHeader","isAuthenticated","useIsAuthenticated","useState","projectStreamLoading","setProjectStreamLoading","projectStream","setProjectStream","useEffect","fetchProjectStream","console","log","Platform","postData","test","project_id","axios","post","API_ENDPOINT","headers","Authorization","res","data","error","response","status","errors","client_code","alert","mobileCheck","check","a","substr","navigator","userAgent","vendor","window","opera","token","simpleToken","replace","devicePlatform","OS","DeviceType","openFullscreen","elem","document","getElementsByTagName","requestFullscreen","webkitRequestFullscreen","Element","ALLOW_KEYBOARD_INPUT","msRequestFullscreen","mozRequestFullScreen","webkitEnterFullScreen","project","is_3d_enabled","stream","vagon_stream_url","border","margin","height"],"mappings":"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","file":"x","sourcesContent":["import { useNavigate } from \"react-router-dom\";\n\nfunction UnauthenticatedPage() {\n    const navigate = useNavigate();\n    return (\n        <>\n            <div className=\"container\">\n                <div className=\"row my-5 py-5\">\n                    <div className=\"col my-5 text-center\">\n                        <h3>401 Unauthenticated.</h3>\n                        <div><br /></div>\n                        <button className=\"btn btn-primary\" onClick={() => navigate(-1)}>Go back</button>\n                    </div>\n                </div>\n            </div>\n        </>\n    );\n}\n\nexport default UnauthenticatedPage;","import { useEffect, useState } from \"react\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport { useAuthHeader, useIsAuthenticated } from 'react-auth-kit';\nimport Platform from 'react-platform-js';\nimport axios from \"axios\";\nimport UnauthenticatedPage from \"../errors/Unauthorized\";\nimport { API_ENDPOINT } from '../common/Constants';\n\nfunction ThreeDSystemPage() {\n  let { id, sdk } = useParams();\n  const authHeader = useAuthHeader();\n  const isAuthenticated = useIsAuthenticated();\n  let navigate = useNavigate();\n  const [projectStreamLoading, setProjectStreamLoading] = useState(false);\n  const [projectStream, setProjectStream] = useState(null);\n\n  useEffect(() => {\n    fetchProjectStream();\n    console.log(\"Platform \", Platform);\n  }, []);\n\n\n  if (!isAuthenticated()) {\n    // Redirect to login\n    console.log(\"valid Redirect to login\");\n    return (\n      <>\n        <UnauthenticatedPage />\n        {/* <Navigate to=\"/401\" replace /> */}\n      </>\n    );\n  }\n\n\n  async function fetchProjectStream() {\n    setProjectStreamLoading(true);\n    let postData = {\n      test: null,\n      project_id: id\n    };\n    try {\n\n      const res = await axios.post(API_ENDPOINT + \"vagon/getStream\", postData, { headers: { Authorization: authHeader() } });\n      if (res.data.data) {\n        setProjectStreamLoading(false);\n        setProjectStream(res.data.data);\n      }\n    } catch (error) {\n      console.error(\"error \", error);\n      setProjectStreamLoading(false);\n\n      if (error.response.status === 422) {\n        console.log(\"errors data \", error.response.data.errors);\n        let errors = error.response.data.errors;\n        if (errors.client_code === 4601) {\n          alert(\"Insufficient Capacity. Please try again later.\");\n        }\n        // console.log(\"error \\n\", error.response.data.message)\n        // setFormValidationErrors(error.response.data.errors);\n        // setFormErrors(error.response.data.message);\n        // setTimeout(() => {\n        //     setFormValidationErrors({});\n        //     setFormErrors('');\n        // }, 5000);\n      }\n\n    }\n  }\n\n\n  const mobileCheck = () => {\n    let check = false;\n    (function (a) { if (/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipad|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(a.substr(0, 4))) check = true; })(navigator.userAgent || navigator.vendor || window.opera);\n    return check;\n  };\n\n\n\n  // 896.992\n  //const userId = auth().user.id;\n  const token = authHeader();\n  const simpleToken = token.replace('Bearer ', '-token%20');\n\n  let devicePlatform = '';\n  if (Platform.OS === 'Android' && Platform.DeviceType === 'mobile')\n    devicePlatform = 'Android';\n  else if (Platform.OS === 'iOS' && Platform.DeviceType === 'mobile')\n    devicePlatform = 'iPhone';\n  else if (Platform.OS === 'iOS' && Platform.DeviceType === 'tablet')\n    devicePlatform = 'iPad';\n  else\n    devicePlatform = 'Desktop';\n\n    function openFullscreen() {\n      var elem = document.getElementsByTagName(\"iframe\")[0];//document.getElementById(\"twoDSales\");\n  \n      if (elem.requestFullscreen) {\n        elem.requestFullscreen();\n      } else if (elem.webkitRequestFullscreen) { /* Safari */\n        elem.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT);\n      } else if (elem.msRequestFullscreen) { /* IE11 */\n        elem.msRequestFullscreen();\n      } else if (elem.mozRequestFullScreen) { /* moz */\n        elem.mozRequestFullScreen();\n      } else if (elem.webkitEnterFullScreen) {\n        elem.webkitEnterFullScreen();\n      } else {\n        //elem.webkitEnterFullscreen();\n        alert('The requested browser does not support full-screen mode.');\n      }\n    }\n  return (\n    <>\n\n      {projectStreamLoading ?\n        <>\n          <div className=\"text-center\">Loading...</div>\n        </>\n        :\n        <>\n          {projectStream ?\n            <div>\n              {projectStream.project.is_3d_enabled ?\n                <>\n                  <div className=\"col-auto twoDbackBtn\">\n                    <button title=\"Back\" className=\"cusocialBackBtn\" onClick={() => navigate(-1)}>\n                      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" className=\"bi bi-arrow-left\" viewBox=\"0 0 16 16\">\n                        <path fillRule=\"evenodd\" d=\"M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z\" />\n                      </svg>\n                    </button>\n                    &nbsp;\n                    <button title=\"FullScreen\" className=\"cusocialBackBtn\" onClick={() => openFullscreen()}>\n                      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" className=\"bi bi-fullscreen\" viewBox=\"0 0 16 16\">\n                        <path d=\"M1.5 1a.5.5 0 0 0-.5.5v4a.5.5 0 0 1-1 0v-4A1.5 1.5 0 0 1 1.5 0h4a.5.5 0 0 1 0 1h-4zM10 .5a.5.5 0 0 1 .5-.5h4A1.5 1.5 0 0 1 16 1.5v4a.5.5 0 0 1-1 0v-4a.5.5 0 0 0-.5-.5h-4a.5.5 0 0 1-.5-.5zM.5 10a.5.5 0 0 1 .5.5v4a.5.5 0 0 0 .5.5h4a.5.5 0 0 1 0 1h-4A1.5 1.5 0 0 1 0 14.5v-4a.5.5 0 0 1 .5-.5zm15 0a.5.5 0 0 1 .5.5v4a1.5 1.5 0 0 1-1.5 1.5h-4a.5.5 0 0 1 0-1h4a.5.5 0 0 0 .5-.5v-4a.5.5 0 0 1 .5-.5z\" />\n                      </svg>\n                    </button>\n                  </div>\n                  <iframe title=\"3Dstream\" src={`${projectStream.stream.vagon_stream_url}?launchFlags=${simpleToken}%20-platform%20${devicePlatform}`} width=\"100%\" height=\"100%\" style={{ border: 0, margin:0, height: 'calc(100vh - 8px)' }} allowFullScreen={true} ></iframe>\n                </>\n                :\n                <><div className=\"text-center\">3d system is not available.</div></>\n              }\n            </div>\n            :\n            <><div className=\"text-center\">No data available.</div></>\n          }\n        </>\n      }\n\n      {/* <iframe title=\"3Dstream\" src={`https://furioos.cubedots.com/?playerId=${sdk}&token=${simpleToken}`} width=\"100%\" height=\"100%\" frameBorder=\"0\" style={{ border: 0 , height:'calc(100vh - 50px)'}} loading=\"lazy\" allowFullScreen=\"\" aria-hidden=\"false\" tabIndex=\"0\"></iframe> */}\n    </>\n  );\n}\n\nexport default ThreeDSystemPage;"]}}