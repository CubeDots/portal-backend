{"code":"(this[\"webpackJsonpmy-app\"]=this[\"webpackJsonpmy-app\"]||[]).push([[60],{474:function(e,t,s){\"use strict\";s.r(t);var a=s(3),n=s(4),c=s(1),r=s.n(c),o=s(11),i=s(15),l=s.n(i),d=s(57),m=s(27),j=s(0);t.default=function(){var e=Object(o.h)(),t=Object(o.i)(),s=t.token,i=t.email,b=r.a.useState(!1),u=Object(n.a)(b,2),p=u[0],O=u[1],h=r.a.useState({email:\"\",password:\"\",password_confirmation:\"\"}),f=Object(n.a)(h,2),w=f[0],x=f[1],v=r.a.useState(\"\"),N=Object(n.a)(v,2),g=N[0],y=N[1],S=r.a.useState({}),k=Object(n.a)(S,2),P=k[0],_=k[1];return Object(c.useEffect)((function(){window.scrollTo({top:0,left:0,behavior:\"smooth\"}),x((function(e){return Object(a.a)(Object(a.a)({},e),{},{email:i})}))}),[i]),Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(\"div\",{className:\"mt-70\",children:Object(j.jsx)(\"div\",{className:\"container\",children:Object(j.jsx)(\"div\",{className:\"row justify-content-center my-5\",children:Object(j.jsxs)(\"div\",{className:\"col-md-5\",children:[Object(j.jsx)(\"h3\",{children:\"Reset Password\"}),Object(j.jsxs)(\"form\",{onSubmit:function(t){t.preventDefault(),O(!0),console.log(\"formData \",i,w),w.email=i,w.token=s,l.a.post(m.a+\"auth/resetPassword\",w).then((function(t){O(!1),console.log(\"resetPassword res\",t.status,t.data),200===t.status&&(y(t.data.message),x((function(e){return Object(a.a)(Object(a.a)({},e),{},{email:\"\",password:\"\",password_confirmation:\"\"})})),setTimeout((function(){y(\"\"),e(\"/\")}),5e3))})).catch((function(e){O(!1),console.log(\"errors ### \",e),e&&422===e.response.status&&(console.log(\"errors data \",e.response.data.errors),console.log(\"error \\n\",e.response.data.message),_(e.response.data.errors),setTimeout((function(){_({}),y(\"\")}),5e3))}))},children:[Object(j.jsxs)(\"div\",{className:\"mb-3\",children:[g?Object(j.jsx)(\"p\",{className:P.length?\"text-danger\":\"text-success\",children:g}):\"\",Object(j.jsx)(\"ul\",{className:\"list-unstyled\",children:P&&Object.keys(P).map((function(e,t){return Object(j.jsx)(\"li\",{className:\"text-danger\",children:P[e][0]},t)}))})]}),Object(j.jsx)(\"div\",{className:\"mb-3\",children:Object(j.jsx)(\"input\",{type:\"email\",className:\"form-control\",name:\"email\",placeholder:\"Email\",value:i,readOnly:!0})}),Object(j.jsx)(\"div\",{className:\"mb-3\",children:Object(j.jsx)(\"input\",{type:\"password\",className:\"form-control\",name:\"password\",placeholder:\"New Password\",value:w.password,onChange:function(e){return x(Object(a.a)(Object(a.a)({},w),{},{password:e.target.value}))}})}),Object(j.jsx)(\"div\",{className:\"mb-3\",children:Object(j.jsx)(\"input\",{type:\"password\",className:\"form-control\",name:\"password_confirmation\",placeholder:\"Confirm Password\",value:w.password_confirmation,onChange:function(e){return x(Object(a.a)(Object(a.a)({},w),{},{password_confirmation:e.target.value}))}})}),p?Object(j.jsxs)(\"button\",{className:\"btn btn-primary\",type:\"button\",disabled:!0,children:[Object(j.jsx)(d.a,{as:\"span\",animation:\"border\",size:\"sm\",role:\"status\",\"aria-hidden\":\"true\"}),\"  Submitting...\"]}):Object(j.jsx)(\"button\",{className:\"btn btn-primary\",type:\"submit\",children:\"Submit\"})]})]})})})})})}}}]);","name":"static/js/60.9916c050.chunk.js","map":{"version":3,"sources":["static/js/60.9916c050.chunk.js"],"names":["this","push","module","__webpack_exports__","__webpack_require__","r","_var_www_html_cuengine_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__","_var_www_html_cuengine_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__","react__WEBPACK_IMPORTED_MODULE_2__","react__WEBPACK_IMPORTED_MODULE_2___default","n","react_router_dom__WEBPACK_IMPORTED_MODULE_3__","axios__WEBPACK_IMPORTED_MODULE_4__","axios__WEBPACK_IMPORTED_MODULE_4___default","react_bootstrap_Spinner__WEBPACK_IMPORTED_MODULE_5__","_common_Constants__WEBPACK_IMPORTED_MODULE_6__","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__","navigate","Object","_useParams","token","email","_React$useState","a","useState","_React$useState2","loading","setLoading","_React$useState3","password","password_confirmation","_React$useState4","formData","setFormData","_React$useState5","_React$useState6","formErrors","setFormErrors","_React$useState7","_React$useState8","formValidationErrors","setFormValidationErrors","window","scrollTo","top","left","behavior","prevState","children","className","onSubmit","e","preventDefault","console","log","post","then","res","status","data","message","fd","setTimeout","catch","error","response","errors","length","keys","map","index","type","name","placeholder","value","readOnly","onChange","target","disabled","as","animation","size","role"],"mappings":"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"},"input":"(this[\"webpackJsonpmy-app\"] = this[\"webpackJsonpmy-app\"] || []).push([[60],{\n\n/***/ 474:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _var_www_html_cuengine_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(3);\n/* harmony import */ var _var_www_html_cuengine_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(4);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(1);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(11);\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(15);\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var react_bootstrap_Spinner__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(57);\n/* harmony import */ var _common_Constants__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(27);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(0);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__);\nfunction RestPasswordPage(){var publicPath=\"https://cubedots.com\";var navigate=Object(react_router_dom__WEBPACK_IMPORTED_MODULE_3__[/* useNavigate */ \"h\"])();var _useParams=Object(react_router_dom__WEBPACK_IMPORTED_MODULE_3__[/* useParams */ \"i\"])(),token=_useParams.token,email=_useParams.email;var _React$useState=react__WEBPACK_IMPORTED_MODULE_2___default.a.useState(false),_React$useState2=Object(_var_www_html_cuengine_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(_React$useState,2),loading=_React$useState2[0],setLoading=_React$useState2[1];var _React$useState3=react__WEBPACK_IMPORTED_MODULE_2___default.a.useState({email:'',password:'',password_confirmation:''}),_React$useState4=Object(_var_www_html_cuengine_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(_React$useState3,2),formData=_React$useState4[0],setFormData=_React$useState4[1];var _React$useState5=react__WEBPACK_IMPORTED_MODULE_2___default.a.useState(''),_React$useState6=Object(_var_www_html_cuengine_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(_React$useState5,2),formErrors=_React$useState6[0],setFormErrors=_React$useState6[1];var _React$useState7=react__WEBPACK_IMPORTED_MODULE_2___default.a.useState({}),_React$useState8=Object(_var_www_html_cuengine_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(_React$useState7,2),formValidationErrors=_React$useState8[0],setFormValidationErrors=_React$useState8[1];Object(react__WEBPACK_IMPORTED_MODULE_2__[\"useEffect\"])(function(){window.scrollTo({top:0,left:0,behavior:'smooth'});setFormData(function(prevState){return Object(_var_www_html_cuengine_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(Object(_var_www_html_cuengine_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])({},prevState),{},{email:email});});},[email]);var onSubmit=function onSubmit(e){e.preventDefault();setLoading(true);console.log(\"formData \",email,formData);formData['email']=email;formData['token']=token;axios__WEBPACK_IMPORTED_MODULE_4___default.a.post(_common_Constants__WEBPACK_IMPORTED_MODULE_6__[/* API_ENDPOINT */ \"a\"]+\"auth/resetPassword\",formData).then(function(res){setLoading(false);console.log('resetPassword res',res.status,res.data);if(res.status===200){setFormErrors(res.data.message);setFormData(function(fd){return Object(_var_www_html_cuengine_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(Object(_var_www_html_cuengine_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])({},fd),{},{email:'',password:'',password_confirmation:''});});setTimeout(function(){setFormErrors('');navigate(\"/\");},5000);}}).catch(function(error){setLoading(false);console.log(\"errors ### \",error);if(error){if(error.response.status===422){console.log(\"errors data \",error.response.data.errors);//let errorm = error.response.data.errors[0];\nconsole.log(\"error \\n\",error.response.data.message);setFormValidationErrors(error.response.data.errors);//setFormErrors(error.response.data.message);\nsetTimeout(function(){setFormValidationErrors({});setFormErrors('');},5000);}}});};return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__[\"jsx\"])(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__[\"Fragment\"],{children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__[\"jsx\"])(\"div\",{className:\"mt-70\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__[\"jsx\"])(\"div\",{className:\"container\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__[\"jsx\"])(\"div\",{className:\"row justify-content-center my-5\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__[\"jsxs\"])(\"div\",{className:\"col-md-5\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__[\"jsx\"])(\"h3\",{children:\"Reset Password\"}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__[\"jsxs\"])(\"form\",{onSubmit:onSubmit,children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__[\"jsxs\"])(\"div\",{className:\"mb-3\",children:[formErrors?/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__[\"jsx\"])(\"p\",{className:formValidationErrors.length?'text-danger':'text-success',children:formErrors}):'',/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__[\"jsx\"])(\"ul\",{className:\"list-unstyled\",children:formValidationErrors&&Object.keys(formValidationErrors).map(function(error,index){return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__[\"jsx\"])(\"li\",{className:\"text-danger\",children:formValidationErrors[error][0]},index);})})]}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__[\"jsx\"])(\"div\",{className:\"mb-3\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__[\"jsx\"])(\"input\",{type:\"email\",className:\"form-control\",name:\"email\",placeholder:\"Email\",value:email,readOnly:true})}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__[\"jsx\"])(\"div\",{className:\"mb-3\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__[\"jsx\"])(\"input\",{type:\"password\",className:\"form-control\",name:\"password\",placeholder:\"New Password\",value:formData.password,onChange:function onChange(e){return setFormData(Object(_var_www_html_cuengine_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(Object(_var_www_html_cuengine_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])({},formData),{},{password:e.target.value}));}})}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__[\"jsx\"])(\"div\",{className:\"mb-3\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__[\"jsx\"])(\"input\",{type:\"password\",className:\"form-control\",name:\"password_confirmation\",placeholder:\"Confirm Password\",value:formData.password_confirmation,onChange:function onChange(e){return setFormData(Object(_var_www_html_cuengine_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(Object(_var_www_html_cuengine_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])({},formData),{},{password_confirmation:e.target.value}));}})}),loading?/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__[\"jsxs\"])(\"button\",{className:\"btn btn-primary\",type:\"button\",disabled:true,children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__[\"jsx\"])(react_bootstrap_Spinner__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"],{as:\"span\",animation:\"border\",size:\"sm\",role:\"status\",\"aria-hidden\":\"true\"}),\"  Submitting...\"]}):/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__[\"jsx\"])(\"button\",{className:\"btn btn-primary\",type:\"submit\",children:\"Submit\"})]})]})})})})});}/* harmony default export */ __webpack_exports__[\"default\"] = (RestPasswordPage);\n\n/***/ })\n\n}]);","inputSourceMap":{"version":3,"sources":["/var/www/html/cuengine-portal/src/pages/RestPasswordPage.js"],"names":["RestPasswordPage","publicPath","process","navigate","useNavigate","useParams","token","email","React","useState","loading","setLoading","password","password_confirmation","formData","setFormData","formErrors","setFormErrors","formValidationErrors","setFormValidationErrors","useEffect","window","scrollTo","top","left","behavior","prevState","onSubmit","e","preventDefault","console","log","axios","post","API_ENDPOINT","then","res","status","data","message","fd","setTimeout","catch","error","response","errors","length","Object","keys","map","index","target","value"],"mappings":"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","file":"x","sourcesContent":["import React, { useEffect } from 'react';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport axios from 'axios';\nimport Spinner from 'react-bootstrap/Spinner';\nimport { API_ENDPOINT } from \"../common/Constants\";\n\nfunction RestPasswordPage() {\n    let publicPath = process.env.PUBLIC_URL;\n\n    const navigate = useNavigate();\n    const { token, email } = useParams();\n\n    const [loading, setLoading] = React.useState(false);\n    const [formData, setFormData] = React.useState({ email: '', password: '', password_confirmation: '' });\n    const [formErrors, setFormErrors] = React.useState('');\n    const [formValidationErrors, setFormValidationErrors] = React.useState({});\n\n\n    useEffect(() => {\n        window.scrollTo({ top:0,left:0,behavior:'smooth'});\n        setFormData(prevState => ({\n            ...prevState,\n            email: email\n        }))\n    }, [email]);\n\n    const onSubmit = (e) => {\n        e.preventDefault()\n        setLoading(true);\n        console.log(\"formData \", email, formData);\n        formData['email'] = email;\n        formData['token'] = token;\n        axios.post(API_ENDPOINT + \"auth/resetPassword\", formData)\n            .then((res) => {\n                setLoading(false);\n                console.log('resetPassword res', res.status, res.data)\n                if (res.status === 200) {\n                    setFormErrors(res.data.message);\n                    setFormData(fd => ({ ...fd, email: '', password: '', password_confirmation: '' }));\n\n                    setTimeout(() => {\n                        setFormErrors('');\n                        navigate(\"/\");\n                    }, 5000);\n                }\n            }).catch((error) => {\n                setLoading(false);\n                console.log(\"errors ### \", error);\n                if(error){\n                    if (error.response.status === 422) {\n                        console.log(\"errors data \", error.response.data.errors);\n                        //let errorm = error.response.data.errors[0];\n                        console.log(\"error \\n\", error.response.data.message)\n                        setFormValidationErrors(error.response.data.errors);\n                        //setFormErrors(error.response.data.message);\n                        setTimeout(() => {\n                            setFormValidationErrors({});\n                            setFormErrors('');\n                        }, 5000);\n                    }\n                }\n            })\n    }\n\n\n    return (\n        <>\n            <div className=\"mt-70\">\n                <div className=\"container\">\n\n                    <div className=\"row justify-content-center my-5\">\n\n                        <div className=\"col-md-5\">\n                            <h3>Reset Password</h3>\n                            \n                            <form onSubmit={onSubmit}>\n                                <div className=\"mb-3\">\n\n                                    {formErrors ?\n                                        <p className={formValidationErrors.length ? 'text-danger' : 'text-success'}>{formErrors}</p>\n                                        : ''}\n                                    <ul className=\"list-unstyled\">\n                                        {formValidationErrors && Object.keys(formValidationErrors).map((error, index) => (\n                                            <li className=\"text-danger\" key={index}>{formValidationErrors[error][0]}</li>\n                                        ))}\n                                    </ul>\n                                </div>\n                                <div className=\"mb-3\">\n                                    <input type=\"email\" className=\"form-control\" name=\"email\" placeholder=\"Email\" value={email} readOnly={true} />\n                                </div>\n                                <div className=\"mb-3\">\n                                    <input type=\"password\" className=\"form-control\" name=\"password\" placeholder='New Password' value={formData.password} onChange={(e) => setFormData({ ...formData, password: e.target.value })} />\n                                </div>\n                                <div className=\"mb-3\">\n                                    <input type=\"password\" className=\"form-control\" name=\"password_confirmation\" placeholder='Confirm Password' value={formData.password_confirmation} onChange={(e) => setFormData({ ...formData, password_confirmation: e.target.value })} />\n                                </div>\n\n                                {loading ?\n                                    <button className=\"btn btn-primary\" type=\"button\" disabled >\n                                        <Spinner as=\"span\" animation=\"border\" size=\"sm\" role=\"status\" aria-hidden=\"true\" />  Submitting...\n                                    </button>\n                                    :\n                                    <button className=\"btn btn-primary\" type=\"submit\">Submit</button>\n                                }\n\n\n\n                            </form>\n\n                        </div>\n\n                    </div>\n                </div>\n            </div>\n        </>\n    );\n}\n\nexport default RestPasswordPage;"]}}