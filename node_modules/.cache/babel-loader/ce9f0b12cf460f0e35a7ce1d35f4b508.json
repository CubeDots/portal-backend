{"ast":null,"code":"import _regeneratorRuntime from\"/var/www/html/new_cubedots_portal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/var/www/html/new_cubedots_portal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _objectSpread from\"/var/www/html/new_cubedots_portal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/var/www/html/new_cubedots_portal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{Link}from'react-router-dom';import TimePicker from'react-time-picker';import DatePicker from'react-date-picker';import{useEffect,useState,useRef}from'react';import axios from'axios';import Spinner from'react-bootstrap/Spinner';import{useAuthUser,useIsAuthenticated}from'react-auth-kit';import SocialSharingComponent from\"../contact/SocialSharingComponent\";import moment from'moment';import SimpleReactValidator from'simple-react-validator';import{API_ENDPOINT}from\"../../common/Constants\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function EnquireAboutThisPropertyComponent(props){var simpleValidator=useRef(new SimpleReactValidator());var publicPath=process.env.PUBLIC_URL;var isAuthenticated=useIsAuthenticated();var auth=useAuthUser();var user=isAuthenticated()?auth().user:null;// const toDayDate = new Date();\nvar startOfMonth=moment().format('YYYY-MM-DD');var _useState=useState(new Date()),_useState2=_slicedToArray(_useState,2),toDayDate=_useState2[0],setToDayDate=_useState2[1];var _useState3=useState('10:00:00'),_useState4=_slicedToArray(_useState3,2),toTime=_useState4[0],setToTime=_useState4[1];// const [value, onChange] = useState('10:00');\nvar _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),countriesLoading=_useState6[0],setCountriesLoading=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),countries=_useState8[0],setCountries=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),loading=_useState10[0],setLoading=_useState10[1];var formColumns={project_interest:'',first_name:'',last_name:'',email:'',country:'',dial_code:'',mobile:'',message:'',appointment_date:'',appointment_time:'',terms:false};var _useState11=useState(formColumns),_useState12=_slicedToArray(_useState11,2),formData=_useState12[0],setFormData=_useState12[1];useEffect(function(){setLoading(false);fetchCountries();if(props.data.title){setFormData(formColumns);setFormData(function(formData){return _objectSpread(_objectSpread({},formData),{},{project_interest:props.data.title});});}if(user){//console.log(\"user\",user)\nsetFormData(function(fd){return _objectSpread(_objectSpread({},fd),{},{first_name:user.name.split(\" \")[0],last_name:user.name.split(\" \")[1],email:user.email});});}},[props.data,user]);function fetchCountries(){return _fetchCountries.apply(this,arguments);}function _fetchCountries(){_fetchCountries=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setCountriesLoading(true);_context.prev=1;_context.next=4;return axios.get(publicPath+\"/assets/data/countries.json\");case 4:res=_context.sent;if(res.data){//console.log(\"res.data \",res.data.data);\nsetCountriesLoading(false);setCountries(res.data.data);}_context.next=12;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);console.error(\"error \",_context.t0);setCountriesLoading(false);case 12:case\"end\":return _context.stop();}}},_callee,null,[[1,8]]);}));return _fetchCountries.apply(this,arguments);}var handleChangeCountry=function handleChangeCountry(e){e.persist();var selectedCountryName=e.target.value;setFormData(function(formData){return _objectSpread(_objectSpread({},formData),{},{country:selectedCountryName});});var countriesList=countries;var newDialCode=Object.keys(countriesList).filter(function(x){return countriesList[x].country_name===selectedCountryName;}).map(function(x){return countriesList[x].dial_code;});var dial_code=newDialCode.length?newDialCode[0]:'';setFormData(function(formData){return _objectSpread(_objectSpread({},formData),{},{dial_code:dial_code});});};var handleChangeTerms=function handleChangeTerms(status){console.log(\"terms \",status);setFormData(function(formData){return _objectSpread(_objectSpread({},formData),{},{terms:status});});};var resetFrom=function resetFrom(){setFormData({project_interest:'',first_name:'',last_name:'',email:'',country:'',occupation:'',dial_code:'',mobile:'',message:'',appointment_date:'',appointment_time:'',terms:false});document.getElementById(\"form2\").reset();};var onSubmit=function onSubmit(e){e.preventDefault();formData.appointment_date=toDayDate;e.preventDefault();formData.appointment_time=toTime;console.log(\"formData \",formData);if(formData.terms===false){alert(\"Please accept our Terms & Condition.\");return false;}setLoading(true);axios.post(API_ENDPOINT+'orgzit/projectEnquireRequest',formData).then(function(res){console.log('res ### ',res.status,res.data);if(res.status===200){setLoading(false);resetFrom();setTimeout(function(){alert(res.data.message);},1000);}}).catch(function(error){setLoading(false);console.log(\"errors ### \",error);if(error){if(error.response.status===422){var errors=error.response.data.errors;var msg=error.response.data.message+\"\\n\";Object.keys(errors).map(function(error,index){return msg+=errors[error][0]+\"\\n\";});alert(msg);}}});};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"enquireForm sticky-top\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"\",children:\"Enquire about this Property\"}),/*#__PURE__*/_jsxs(\"form\",{id:\"form2\",onSubmit:onSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"First Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",onKeyUp:function onKeyUp(){return simpleValidator.current.showMessageFor('first_name');},placeholder:\"First Name\",name:\"first_name\",value:formData.first_name,onChange:function onChange(e){return setFormData(_objectSpread(_objectSpread({},formData),{},{first_name:e.target.value}));},required:true}),/*#__PURE__*/_jsx(\"div\",{className:\"text-danger\",children:simpleValidator.current.message('first_name',formData.first_name,'alpha')})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Last Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"Last Name\",onKeyUp:function onKeyUp(){return simpleValidator.current.showMessageFor('last_name');},name:\"last_name\",value:formData.last_name,onChange:function onChange(e){return setFormData(_objectSpread(_objectSpread({},formData),{},{last_name:e.target.value}));},required:true}),/*#__PURE__*/_jsx(\"div\",{className:\"text-danger\",children:simpleValidator.current.message('last_name',formData.last_name,'alpha')})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Email Address\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-control\",placeholder:\"Email Address\",name:\"email\",onKeyUp:function onKeyUp(){return simpleValidator.current.showMessageFor('email');},value:formData.email,onChange:function onChange(e){return setFormData(_objectSpread(_objectSpread({},formData),{},{email:e.target.value}));},required:true}),/*#__PURE__*/_jsx(\"div\",{className:\"text-danger\",children:simpleValidator.current.message('email',formData.email,'email')})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Occupation\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-select\",placeholder:\"Occupation\",name:\"occupation\",onChange:function onChange(e){return setFormData(_objectSpread(_objectSpread({},formData),{},{occupation:e.target.value}));},defaultValue:formData.occupation,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Occupation\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Agency\",children:\"Agency\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Developer\",children:\"Developer\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Others\",children:\"Others\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Country\"}),countries.length>0?/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"select\",{className:\"form-select\",placeholder:\"Country\",name:\"country\",onChange:handleChangeCountry,defaultValue:formData.country_name,required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Country\"}),countries.length>0&&countries.map(function(row,index){return/*#__PURE__*/_jsx(\"option\",{value:row.country_name,children:row.country_name},index);})]})}):null]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Mobile\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"input-group-text\",id:\"basic-addon1\",children:formData.dial_code?formData.dial_code:'+91'}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"Mobile\",name:\"mobile\",onKeyUp:function onKeyUp(){return simpleValidator.current.showMessageFor('mobile');},value:formData.mobile,onChange:function onChange(e){return setFormData(_objectSpread(_objectSpread({},formData),{},{mobile:e.target.value}));},required:true})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-danger\",children:simpleValidator.current.message('mobile',formData.mobile,'phone')})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-12 mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Appointment Date\"}),/*#__PURE__*/_jsx(DatePicker,{className:\"form-control\",placeholder:\"Appointment Date\",name:\"appointment_date\",value:toDayDate,onChange:setToDayDate,format:\"dd/MM/yyyy\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-12 mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Appointment Time\"}),/*#__PURE__*/_jsx(TimePicker,{className:\"form-control\",value:toTime,onChange:setToTime,required:true})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Message\"}),/*#__PURE__*/_jsx(\"textarea\",{className:\"form-control\",placeholder:\"Write Your Message\",name:\"message\",defaultValue:formData.message,onChange:function onChange(e){return setFormData(_objectSpread(_objectSpread({},formData),{},{message:e.target.value}));}})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-check termAndConditionCheckbox\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"form-check-input\",type:\"checkbox\",id:\"flexCheckDefault\",defaultValue:formData.terms,onChange:function onChange(){return handleChangeTerms(!formData.terms);}}),/*#__PURE__*/_jsx(\"label\",{className:\"form-check-label\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"termsAndConditionSection\",children:[/*#__PURE__*/_jsx(\"small\",{children:\"By clicking the submit button below, I hereby agree to and accept the following terms and conditions policy.\"}),/*#__PURE__*/_jsx(\"small\",{children:/*#__PURE__*/_jsx(Link,{target:\"_blank\",to:\"/terms\",children:\"Terms & Conditions\"})})]})})]}),loading?/*#__PURE__*/_jsxs(\"button\",{className:\"btntheme\",type:\"button\",disabled:true,children:[/*#__PURE__*/_jsx(Spinner,{as:\"span\",animation:\"border\",size:\"sm\",role:\"status\",\"aria-hidden\":\"true\"}),\"  Submitting...\"]}):/*#__PURE__*/_jsx(\"button\",{className:\"btntheme\",type:\"submit\",children:\"Book Appointment\"})]}),/*#__PURE__*/_jsx(SocialSharingComponent,{})]})});}export default EnquireAboutThisPropertyComponent;","map":{"version":3,"sources":["/var/www/html/new_cubedots_portal/src/components/project-detail/EnquireAboutThisPropertyComponent.js"],"names":["Link","TimePicker","DatePicker","useEffect","useState","useRef","axios","Spinner","useAuthUser","useIsAuthenticated","SocialSharingComponent","moment","SimpleReactValidator","API_ENDPOINT","EnquireAboutThisPropertyComponent","props","simpleValidator","publicPath","process","env","PUBLIC_URL","isAuthenticated","auth","user","startOfMonth","format","Date","toDayDate","setToDayDate","toTime","setToTime","countriesLoading","setCountriesLoading","countries","setCountries","loading","setLoading","formColumns","project_interest","first_name","last_name","email","country","dial_code","mobile","message","appointment_date","appointment_time","terms","formData","setFormData","fetchCountries","data","title","fd","name","split","get","res","console","error","handleChangeCountry","e","persist","selectedCountryName","target","value","countriesList","newDialCode","Object","keys","filter","x","country_name","map","length","handleChangeTerms","status","log","resetFrom","occupation","document","getElementById","reset","onSubmit","preventDefault","alert","post","then","setTimeout","catch","response","errors","msg","index","current","showMessageFor","row"],"mappings":"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","sourcesContent":["import { Link } from 'react-router-dom';\nimport TimePicker from 'react-time-picker';\nimport DatePicker from 'react-date-picker';\nimport { useEffect, useState, useRef } from 'react';\nimport axios from 'axios';\nimport Spinner from 'react-bootstrap/Spinner';\nimport { useAuthUser, useIsAuthenticated, } from 'react-auth-kit';\nimport SocialSharingComponent from \"../contact/SocialSharingComponent\"\nimport moment from 'moment';\nimport SimpleReactValidator from 'simple-react-validator';\n\n\nimport { API_ENDPOINT } from \"../../common/Constants\";\n\nfunction EnquireAboutThisPropertyComponent(props) {\n    const simpleValidator = useRef(new SimpleReactValidator());\n    let publicPath = process.env.PUBLIC_URL;\n\n    const isAuthenticated = useIsAuthenticated();\n    const auth = useAuthUser();\n    const user = isAuthenticated() ? auth().user : null;\n   // const toDayDate = new Date();\n   const startOfMonth = moment().format('YYYY-MM-DD');\n    const [toDayDate, setToDayDate] = useState(new Date());\n    const [toTime, setToTime] = useState('10:00:00');\n\n    // const [value, onChange] = useState('10:00');\n\n    const [countriesLoading, setCountriesLoading] = useState(false);\n    const [countries, setCountries] = useState([]);\n\n    const [loading, setLoading] = useState(false);\n    const formColumns = { project_interest: '', first_name: '', last_name: '', email: '', country: '', dial_code: '', mobile: '', message: '', appointment_date: '', appointment_time: '', terms: false };\n    const [formData, setFormData] = useState(formColumns);\n\n    useEffect(() => {\n        setLoading(false);\n        fetchCountries();\n        if (props.data.title) {\n            setFormData(formColumns);\n            setFormData(formData => ({ ...formData, project_interest: props.data.title }));\n        }\n\n        if (user) {\n            //console.log(\"user\",user)\n            setFormData(fd => ({ ...fd, first_name: user.name.split(\" \")[0], last_name: user.name.split(\" \")[1], email: user.email }));\n        }\n\n    }, [props.data, user]);\n\n    async function fetchCountries() {\n        setCountriesLoading(true);\n        try {\n            const res = await axios.get(publicPath + \"/assets/data/countries.json\");\n            if (res.data) {\n                //console.log(\"res.data \",res.data.data);\n                setCountriesLoading(false);\n                setCountries(res.data.data);\n            }\n        } catch (error) {\n            console.error(\"error \", error);\n            setCountriesLoading(false);\n        }\n    }\n\n    const handleChangeCountry = (e) => {\n        e.persist();\n        let selectedCountryName = e.target.value;\n        setFormData(formData => ({ ...formData, country: selectedCountryName }));\n        let countriesList = countries;\n        let newDialCode = Object.keys(countriesList).filter((x) => {\n            return countriesList[x].country_name === selectedCountryName;\n        }).map((x) => {\n            return countriesList[x].dial_code;\n        });\n        let dial_code = newDialCode.length ? newDialCode[0] : '';\n        setFormData(formData => ({ ...formData, dial_code: dial_code }));\n    }\n\n    const handleChangeTerms = (status) => {\n        console.log(\"terms \", status);\n        setFormData(formData => ({ ...formData, terms: status }));\n    }\n\n    const resetFrom = () => {\n        setFormData({ project_interest: '', first_name: '', last_name: '', email: '', country: '', occupation: '', dial_code: '', mobile: '', message: '', appointment_date: '', appointment_time: '', terms: false });\n        document.getElementById(\"form2\").reset();\n    }\n\n    const onSubmit = (e) => {\n        e.preventDefault(); formData.appointment_date = toDayDate\n        e.preventDefault(); formData.appointment_time = toTime\n\n        console.log(\"formData \", formData);\n\n        if (formData.terms === false) {\n            alert(\"Please accept our Terms & Condition.\");\n            return false;\n        }\n\n        setLoading(true);\n\n        axios.post(API_ENDPOINT + 'orgzit/projectEnquireRequest', formData)\n            .then((res) => {\n                console.log('res ### ', res.status, res.data)\n                if (res.status === 200) {\n                    setLoading(false);\n                    resetFrom();\n                    setTimeout(() => {\n                        alert(res.data.message);\n                    }, 1000);\n                }\n            }).catch((error) => {\n                setLoading(false);\n                console.log(\"errors ### \", error);\n                if (error) {\n                    if (error.response.status === 422) {\n                        let errors = error.response.data.errors;\n                        let msg = error.response.data.message + \"\\n\";\n                        Object.keys(errors).map((error, index) => (\n                            msg += errors[error][0] + \"\\n\"\n                        ));\n                        alert(msg);\n                    }\n                }\n            })\n    }\n\n    return (\n\n        <>\n            <div className=\"enquireForm sticky-top\">\n                <h3 className=\"\">Enquire about this Property</h3>\n                <form id=\"form2\" onSubmit={onSubmit}>\n                    <div className=\"mb-3\">\n                        <label className=\"form-label\">First Name</label>\n                        <input type=\"text\" className=\"form-control\" onKeyUp={()=>simpleValidator.current.showMessageFor('first_name')} placeholder=\"First Name\" name=\"first_name\" value={formData.first_name} onChange={(e) => setFormData({ ...formData, first_name: e.target.value })} required />\n                        <div className='text-danger'>{simpleValidator.current.message('first_name', formData.first_name, 'alpha')}</div>\n                    </div>\n                    <div className=\"mb-3\">\n                        <label className=\"form-label\">Last Name</label>\n                        <input type=\"text\" className=\"form-control\" placeholder=\"Last Name\" onKeyUp={()=>simpleValidator.current.showMessageFor('last_name')} name=\"last_name\" value={formData.last_name} onChange={(e) => setFormData({ ...formData, last_name: e.target.value })} required />\n                        <div className='text-danger'>{simpleValidator.current.message('last_name', formData.last_name, 'alpha')}</div>\n                    </div>\n                \n                    <div className=\"mb-3\">\n                        <label className=\"form-label\">Email Address</label>\n                        <input type=\"email\" className=\"form-control\" placeholder=\"Email Address\" name=\"email\" onKeyUp={()=>simpleValidator.current.showMessageFor('email')} value={formData.email} onChange={(e) => setFormData({ ...formData, email: e.target.value })} required />\n                        <div className='text-danger'>{simpleValidator.current.message('email', formData.email, 'email')}</div>\n                    </div>\n                    <div className=\"mb-3\">\n                        <label className=\"form-label\">Occupation</label>\n                        <select className=\"form-select\" placeholder=\"Occupation\" name=\"occupation\" onChange={(e) => setFormData({ ...formData, occupation: e.target.value })} defaultValue={formData.occupation}>\n                            <option value=\"\">Select Occupation</option>\n                            <option value=\"Agency\">Agency</option>\n                            <option value=\"Developer\">Developer</option>\n                            <option value=\"Others\">Others</option>\n                        </select>\n                    </div>\n                    <div className=\"mb-3\">\n                        <label className=\"form-label\">Country</label>\n                        {countries.length > 0 ?\n                            <>\n                                <select className=\"form-select\" placeholder=\"Country\" name=\"country\" onChange={handleChangeCountry} defaultValue={formData.country_name} required>\n                                    <option value=\"\">Select Country</option>\n                                    {countries.length > 0 && countries.map((row, index) => <option value={row.country_name} key={index} >{row.country_name}</option>)}\n                                </select>\n                            </>\n                            : null}\n                    </div>\n                    <div className=\"mb-3\">\n                        <label className=\"form-label\">Mobile</label>\n                        <div className=\"input-group\">\n                            <span className=\"input-group-text\" id=\"basic-addon1\">{formData.dial_code ? formData.dial_code : '+91'}</span>\n                            <input type=\"text\" className=\"form-control\" placeholder=\"Mobile\" name=\"mobile\" onKeyUp={()=>simpleValidator.current.showMessageFor('mobile')} value={formData.mobile} onChange={(e) => setFormData({ ...formData, mobile: e.target.value })} required />\n                        </div>\n                        <div className='text-danger'>{simpleValidator.current.message('mobile', formData.mobile, 'phone')}</div>\n                    </div>\n                    <div className=\"row\">\n                        <div className=\"col-12 mb-3\">\n                            <label className=\"form-label\">Appointment Date</label>\n                              \n                                <DatePicker className=\"form-control\" placeholder=\"Appointment Date\" name=\"appointment_date\" value ={toDayDate} onChange={setToDayDate} format=\"dd/MM/yyyy\" required />\n                             \n\n                            {/* <input type=\"date\" className=\"form-control\" placeholder=\"Appointment Date\" name=\"appointment_date\" defaultValue={formData.appointment_date} onChange={(e) => setFormData({ ...formData, appointment_date: e.target.value })} /> */}\n                        </div>\n                        <div className=\"col-12 mb-3\">\n                            <label className=\"form-label\">Appointment Time</label>\n                            {/* <input type=\"time\" className=\"form-control\" placeholder=\"Appointment Time\" name=\"appointment_time\" defaultValue={formData.appointment_time} onChange={(e) => setFormData({ ...formData, appointment_time: e.target.value })} /> */}\n                            <TimePicker className=\"form-control\"  value ={toTime} onChange={setToTime} required/>\n                        </div>\n                    </div>\n                    <div className=\"row\">\n                        <div className=\"col mb-4\">\n                            <label className=\"form-label\">Message</label>\n                            <textarea className=\"form-control\" placeholder=\"Write Your Message\" name=\"message\" defaultValue={formData.message} onChange={(e) => setFormData({ ...formData, message: e.target.value })}></textarea>\n                        </div>\n                    </div>\n\n                    <div className=\"form-check termAndConditionCheckbox\">\n                        <input className=\"form-check-input\" type=\"checkbox\" id=\"flexCheckDefault\" defaultValue={formData.terms} onChange={() => handleChangeTerms(!formData.terms)} />\n                        <label className=\"form-check-label\" >\n                            <div className=\"termsAndConditionSection\">\n                                <small>By clicking the submit button below, I hereby agree to and accept the following terms and conditions policy.</small>\n                                <small><Link target=\"_blank\" to={\"/terms\"}>Terms & Conditions</Link></small>\n                            </div>\n                        </label>\n                    </div>\n                    {loading ?\n                        <button className=\"btntheme\" type=\"button\" disabled >\n                            <Spinner as=\"span\" animation=\"border\" size=\"sm\" role=\"status\" aria-hidden=\"true\" />  Submitting...\n                        </button>\n                        :\n                        <button className=\"btntheme\" type=\"submit\">Book Appointment</button>\n                    }\n\n\n                </form>\n\n                <SocialSharingComponent />\n\n            </div>\n        </>\n    );\n\n}\n\nexport default EnquireAboutThisPropertyComponent;"]},"metadata":{},"sourceType":"module"}