{"ast":null,"code":"var _jsxFileName = \"/var/www/html/cuengine-portal/src/components/home/HomeProjectsMapComponent.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { Link } from \"react-router-dom\";\nimport _ from \"lodash\";\nimport axios from \"axios\";\nimport { API_ENDPOINT } from \"../../common/Constants\"; // let publicPath = process.env.PUBLIC_URL;\n// const apidatass = [\n//   {\n//       \"id\":\"1\",\n//       \"img\":publicPath + \"/assets/images/home/01.jpg\",\n//       \"title\":\"Yamanevler\",\n//       \"category\":\"yaman\",\n//       \"slug\":\"yamanevler\",\n//       \"subtitle\":\"The ideal family-friendly residence\"\n//   },\n//   {\n//       \"id\":\"2\",\n//       \"img\":publicPath + \"/assets/images/home/02.jpg\",\n//       \"title\":\"Skyland\",\n//       \"category\":\"Skyland\",\n//       \"slug\":\"skyland\",\n//       \"subtitle\":\"Lorem ipsum dolor sit amet\"\n//   },\n//   {\n//       \"id\":\"3\",\n//       \"img\":publicPath + \"/assets/images/home/04.jpg\",\n//       \"title\":\"Alya 4 Mevsim\",\n//       \"slug\":\"alya4mevsim\",\n//       \"category\":\"alya\",\n//       \"subtitle\":\"Affordable luxury at its finest\"\n//   },\n//   {\n//       \"id\":\"4\",\n//       \"img\":publicPath + \"/assets/images/home/01.jpg\",\n//       \"title\":\"Acar Blu\",\n//       \"slug\":\"acar-blu\",\n//       \"category\":\"blu\",\n//       \"subtitle\":\"A life of prestige with unlimited privileges \"\n//   },\n//   {\n//       \"id\":\"5\",\n//       \"img\":publicPath + \"/assets/images/home/02.jpg\",\n//       \"title\":\"Nisantasi\",\n//       \"slug\":\"nisantasi\",\n//       \"category\":\"Nisantasi\",\n//       \"subtitle\":\"The icon of luxurious living\"\n//   }\n// ];\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function HomeProjectsMapComponent(props) {\n  _s();\n\n  let publicPath = process.env.PUBLIC_URL;\n  const [filterData, setFilterData] = useState(null);\n  const [projectsLoading, setProjectsLoading] = useState(false);\n  const [projects, setProjects] = useState([]);\n\n  async function fetchProject() {\n    setProjectsLoading(true);\n\n    try {\n      const res = await axios.get(API_ENDPOINT + \"projects/featuredHome\");\n\n      if (res.data) {\n        setProjectsLoading(false); //let featuredProjects = res.data.filter(obj => [\"skylandistanbul\", \"alya4mevsim\", \"nisantasi\", \"acar-blu\"].includes(obj.slug))\n\n        setProjects(res.data.data);\n      }\n    } catch (error) {\n      console.error(\"error \", error);\n      setProjectsLoading(false);\n    }\n  }\n\n  const svgLoad = () => {\n    const objTag = document.querySelector('object'); //console.log(\"objTag\", objTag);\n    // wait for SVG to load\n    //setTimeout(()=>{\n\n    objTag.addEventListener('load', () => {\n      // reference to SVG document\n      const svg = objTag.getSVGDocument(); //console.log(\"svg\", svg);\n      // make changes\n\n      Array.from(svg.getElementsByClassName('location')).forEach(p => {\n        p.setAttribute('cursor', 'pointer');\n        console.log(\"path -> \", p.getAttribute('id'), p); // let svg = p.querySelector('id');\n\n        p.addEventListener('mouseover', handlePlaceClick);\n      });\n    }); // },2000)\n  };\n\n  const handlePlaceClick = ev => {\n    console.log('ev===', ev);\n    let t = ev.target;\n    let currentId = ''; //let currentId = ev.getAttribute('location1');\n\n    console.log(\"handlePlaceClick\", t.getAttribute('location1'), t.parentNode, t.parentElement); //let mapdatafilter = mapData();\n    //console.log(\"mapdatafilter\", mapdatafilter);\n\n    let filterData = _.filter(projects, {\n      category: currentId\n    });\n\n    setFilterData(filterData[0]);\n    console.log(\"filterData\", projects);\n  };\n\n  useEffect(() => {\n    svgLoad();\n    fetchProject();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"mapHome\",\n    children: [/*#__PURE__*/_jsxDEV(\"object\", {\n      data: publicPath + \"/assets/images/map/Istanbulmap.svg\",\n      \"aria-label\": \"block view\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 7\n    }, this), filterData ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"col-md-2 projectDetailBox\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        alt: \"\",\n        className: \"img-fluid\",\n        src: filterData.img\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: `/projects/${filterData.slug}`,\n          children: filterData.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: filterData.small_description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 9\n    }, this) : '']\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 118,\n    columnNumber: 5\n  }, this);\n} // export function isSVGReady(doc) {\n//     let nodes = doc.querySelectorAll(\"path\");\n//     return nodes && nodes.length > 0;\n//   }\n\n_s(HomeProjectsMapComponent, \"cSLnQ8EvEJnThX40PiBKUOvBmdI=\");\n\n_c = HomeProjectsMapComponent;\n\nvar _c;\n\n$RefreshReg$(_c, \"HomeProjectsMapComponent\");","map":{"version":3,"sources":["/var/www/html/cuengine-portal/src/components/home/HomeProjectsMapComponent.js"],"names":["React","useEffect","useState","Link","_","axios","API_ENDPOINT","HomeProjectsMapComponent","props","publicPath","process","env","PUBLIC_URL","filterData","setFilterData","projectsLoading","setProjectsLoading","projects","setProjects","fetchProject","res","get","data","error","console","svgLoad","objTag","document","querySelector","addEventListener","svg","getSVGDocument","Array","from","getElementsByClassName","forEach","p","setAttribute","log","getAttribute","handlePlaceClick","ev","t","target","currentId","parentNode","parentElement","filter","category","img","slug","title","small_description"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Link } from \"react-router-dom\";\nimport _ from \"lodash\";\nimport axios from \"axios\";\nimport { API_ENDPOINT } from \"../../common/Constants\";\n\n// let publicPath = process.env.PUBLIC_URL;\n// const apidatass = [\n//   {\n//       \"id\":\"1\",\n//       \"img\":publicPath + \"/assets/images/home/01.jpg\",\n//       \"title\":\"Yamanevler\",\n//       \"category\":\"yaman\",\n//       \"slug\":\"yamanevler\",\n//       \"subtitle\":\"The ideal family-friendly residence\"\n//   },\n//   {\n//       \"id\":\"2\",\n//       \"img\":publicPath + \"/assets/images/home/02.jpg\",\n//       \"title\":\"Skyland\",\n//       \"category\":\"Skyland\",\n//       \"slug\":\"skyland\",\n//       \"subtitle\":\"Lorem ipsum dolor sit amet\"\n//   },\n//   {\n//       \"id\":\"3\",\n//       \"img\":publicPath + \"/assets/images/home/04.jpg\",\n//       \"title\":\"Alya 4 Mevsim\",\n//       \"slug\":\"alya4mevsim\",\n//       \"category\":\"alya\",\n//       \"subtitle\":\"Affordable luxury at its finest\"\n//   },\n//   {\n//       \"id\":\"4\",\n//       \"img\":publicPath + \"/assets/images/home/01.jpg\",\n//       \"title\":\"Acar Blu\",\n//       \"slug\":\"acar-blu\",\n//       \"category\":\"blu\",\n//       \"subtitle\":\"A life of prestige with unlimited privileges \"\n//   },\n//   {\n//       \"id\":\"5\",\n//       \"img\":publicPath + \"/assets/images/home/02.jpg\",\n//       \"title\":\"Nisantasi\",\n//       \"slug\":\"nisantasi\",\n//       \"category\":\"Nisantasi\",\n//       \"subtitle\":\"The icon of luxurious living\"\n//   }\n// ];\nexport default function HomeProjectsMapComponent(props) {\n  let publicPath = process.env.PUBLIC_URL;\n  const [filterData, setFilterData] = useState(null);\n\n  const [projectsLoading, setProjectsLoading] = useState(false);\n  const [projects, setProjects] = useState([]);\n\n  async function fetchProject() {\n      setProjectsLoading(true);\n      try {\n          const res = await axios.get(API_ENDPOINT + \"projects/featuredHome\");\n          if (res.data) {\n              setProjectsLoading(false);\n              //let featuredProjects = res.data.filter(obj => [\"skylandistanbul\", \"alya4mevsim\", \"nisantasi\", \"acar-blu\"].includes(obj.slug))\n              setProjects(res.data.data);\n          }\n      } catch (error) {\n          console.error(\"error \", error);\n          setProjectsLoading(false);\n      }\n  }\n  \n  const svgLoad = () => {\n    const objTag = document.querySelector('object');\n    //console.log(\"objTag\", objTag);\n    // wait for SVG to load\n    //setTimeout(()=>{\n    objTag.addEventListener('load', () => {\n\n      // reference to SVG document\n      const svg = objTag.getSVGDocument();\n      //console.log(\"svg\", svg);\n\n      // make changes\n      Array.from(svg.getElementsByClassName('location'))\n        .forEach(p => {\n          p.setAttribute('cursor', 'pointer')\n          console.log(\"path -> \", p.getAttribute('id') ,p);\n          // let svg = p.querySelector('id');\n          p.addEventListener('mouseover', handlePlaceClick)\n        }\n        )\n\n    });\n // },2000)\n  }\n  const handlePlaceClick = (ev) => {\n    console.log('ev===',ev);\n    let t = ev.target;\n    let currentId = '';\n    //let currentId = ev.getAttribute('location1');\n    console.log(\"handlePlaceClick\",t.getAttribute('location1') ,t.parentNode,t.parentElement);\n\n    //let mapdatafilter = mapData();\n\n    //console.log(\"mapdatafilter\", mapdatafilter);\n    let filterData = _.filter(projects, {\n      category: currentId\n    });\n    setFilterData(filterData[0]);\n    console.log(\"filterData\", projects);\n  }\n  useEffect(() => {\n      svgLoad();\n      fetchProject();\n  }, []);\n\n  return (\n    <div className='mapHome'>\n      <object\n        data={publicPath + \"/assets/images/map/Istanbulmap.svg\"}\n        aria-label=\"block view\"/>\n      {filterData ? \n        <div className='col-md-2 projectDetailBox'>\n          <img alt=\"\" className='img-fluid' src={filterData.img} />\n          <h2><Link to={`/projects/${filterData.slug}`}>{filterData.title}</Link></h2>\n          <p>{filterData.small_description}</p>\n        </div>\n      :\n      ''\n      }\n    </div>\n  );\n}\n\n// export function isSVGReady(doc) {\n//     let nodes = doc.querySelectorAll(\"path\");\n//     return nodes && nodes.length > 0;\n//   }"]},"metadata":{},"sourceType":"module"}