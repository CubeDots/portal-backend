{"ast":null,"code":"import _regeneratorRuntime from\"/var/www/html/cuengine-portal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/var/www/html/cuengine-portal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/var/www/html/cuengine-portal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useEffect,useState}from\"react\";import{useNavigate,useParams,Link}from'react-router-dom';import OverlayTrigger from'react-bootstrap/OverlayTrigger';import Popover from'react-bootstrap/Popover';import _ from'lodash';import axios from\"axios\";import CurrencyFormat from'react-currency-format';import UnitEnquireNowModal from\"../components/project-detail/UnitEnquireNowModal\";//import UnitList from '../components/UnitList';\nimport{useIsAuthenticated}from'react-auth-kit';import{API_ENDPOINT}from'../common/Constants';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function UnitsPage(){var publicPath=process.env.PUBLIC_URL;var navigate=useNavigate();var _useParams=useParams(),id=_useParams.id;var isAuthenticated=useIsAuthenticated();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),exchangeRatesLoading=_useState2[0],setExchangeRatesLoading=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),exchangeRates=_useState4[0],setExchangeRates=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isEnquireNowModalShow=_useState6[0],setIsEnquireNowModalShow=_useState6[1];var _useState7=useState({}),_useState8=_slicedToArray(_useState7,2),selectedUnit=_useState8[0],setSelectedUnit=_useState8[1];var _useState9=useState({block:'',floor:'',unit_type:'',area:'',price:''}),_useState10=_slicedToArray(_useState9,2),searchFormData=_useState10[0],setSearchFormData=_useState10[1];var _useState11=useState('id'),_useState12=_slicedToArray(_useState11,2),currentColumn=_useState12[0],setCurrentColumn=_useState12[1];var _useState13=useState('default'),_useState14=_slicedToArray(_useState13,2),currentSort=_useState14[0],setCurrentSort=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),unitsLoading=_useState16[0],setUnitsLoading=_useState16[1];var _useState17=useState({}),_useState18=_slicedToArray(_useState17,2),project=_useState18[0],setProject=_useState18[1];var _useState19=useState([]),_useState20=_slicedToArray(_useState19,2),unitsAll=_useState20[0],setUnitsAll=_useState20[1];var _useState21=useState([]),_useState22=_slicedToArray(_useState21,2),units=_useState22[0],setUnits=_useState22[1];var _useState23=useState([]),_useState24=_slicedToArray(_useState23,2),blocks=_useState24[0],setBlocks=_useState24[1];var _useState25=useState([]),_useState26=_slicedToArray(_useState25,2),floors=_useState26[0],setFloors=_useState26[1];var _useState27=useState([]),_useState28=_slicedToArray(_useState27,2),unitTypes=_useState28[0],setUnitTypes=_useState28[1];var _useState29=useState([]),_useState30=_slicedToArray(_useState29,2),areas=_useState30[0],setAreas=_useState30[1];var _useState31=useState([]),_useState32=_slicedToArray(_useState31,2),prices=_useState32[0],setPrices=_useState32[1];var _useState33=useState(0),_useState34=_slicedToArray(_useState33,2),areaMin=_useState34[0],setAreaMin=_useState34[1];var _useState35=useState(0),_useState36=_slicedToArray(_useState35,2),areaMax=_useState36[0],setAreaMax=_useState36[1];var _useState37=useState(0),_useState38=_slicedToArray(_useState37,2),priceMin=_useState38[0],setPriceMin=_useState38[1];var _useState39=useState(0),_useState40=_slicedToArray(_useState39,2),priceMax=_useState40[0],setPriceMax=_useState40[1];useEffect(function(){window.scrollTo({top:0,left:0,behavior:'smooth'});//console.log('unit page loaded')\nfetchUnits();fetchExchangeRates();// return () => { // ComponentWillUnmount in Class Component\n//     setSearchFormData({ block: '', floor: '', area: '', price: '' });\n// }\n//console.log(\"searchFormData \", searchFormData);\n// if(searchFormData){\n//     setTimeout(() => {\n//         searchNow();\n//     }, 1000);\n// }\n},[]);function fetchUnits(){return _fetchUnits.apply(this,arguments);}function _fetchUnits(){_fetchUnits=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res,_units,uniqueBlocks,uniqueFloors,uniqueUnitTypes,uniqueAreaMin,uniqueAreaMax,uniquePriceMin,uniquePriceMax;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setUnitsLoading(true);_context.prev=1;_context.next=4;return axios.get(API_ENDPOINT+\"projects/units/\"+id);case 4:res=_context.sent;if(res.data.data){//console.log('res.data.data ', res.data.data.data)\nsetUnitsLoading(false);_units=res.data.data.data;setProject(res.data.project);if(_units.length){setUnitsAll(_units);setUnits(_units);uniqueBlocks=_.chain(_units).map('block').groupBy().keys().reverse().sort(function(a,b){return a-b;}).value();uniqueFloors=_.chain(_units).map('floor').groupBy().keys().reverse().sort(function(a,b){return a-b;}).value();uniqueUnitTypes=_.chain(_units).map('unit_type').groupBy().keys().sort(function(a,b){return a.charAt(0)-b.charAt(0);}).value();//console.log(\"uniqueUnitTypes\",uniqueUnitTypes);\nuniqueAreaMin=_.chain(_units).map('built_up_area').minBy().value();uniqueAreaMax=_.chain(_units).map('built_up_area').maxBy().value();uniquePriceMin=_.chain(_units).map('price').minBy().value();uniquePriceMax=_.chain(_units).map('price').maxBy().value();//getArea(uniqueAreaMin,uniqueAreaMax);\n//console.log('uniq ', uniqueBlocks, uniqueFloors, uniqueAreaMin, uniqueAreaMax, uniquePriceMin, uniquePriceMax);\nsetBlocks(uniqueBlocks);setFloors(uniqueFloors);setUnitTypes(uniqueUnitTypes);setAreas(makeGroupArea(uniqueAreaMin,uniqueAreaMax));setPrices(makeGroupPrice(uniquePriceMin,uniquePriceMax));setAreaMin(uniqueAreaMin);setAreaMax(uniqueAreaMax);setPriceMin(uniquePriceMin);setPriceMax(uniquePriceMax);}}_context.next=12;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);console.error(\"error \",_context.t0);setUnitsLoading(false);case 12:case\"end\":return _context.stop();}}},_callee,null,[[1,8]]);}));return _fetchUnits.apply(this,arguments);}function fetchExchangeRates(){return _fetchExchangeRates.apply(this,arguments);}function _fetchExchangeRates(){_fetchExchangeRates=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:setExchangeRatesLoading(true);_context2.prev=1;_context2.next=4;return axios.get(API_ENDPOINT+\"exchangeRates/latest\");case 4:res=_context2.sent;if(res.data.data){setExchangeRatesLoading(false);setExchangeRates(res.data.data);}_context2.next=12;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](1);console.error(\"error \",_context2.t0);setExchangeRatesLoading(false);case 12:case\"end\":return _context2.stop();}}},_callee2,null,[[1,8]]);}));return _fetchExchangeRates.apply(this,arguments);}function makeGroupArea(min,max){var minarea=min;var maxarea=max+1;var tempArea=(maxarea-minarea)/4+1;var tempAreaSum=minarea;var buildupArea=[];for(var i=1;i<=4;i++){var mina=tempAreaSum;var maxa=i===4?maxarea:tempAreaSum+tempArea;buildupArea.push(parseInt(mina)+\" - \"+parseInt(maxa));tempAreaSum=parseInt(tempAreaSum+tempArea);}//console.log(\"buildupArea\", buildupArea);\nreturn buildupArea;}function makeGroupPrice(min,max){var minPrice=min;var maxPrice=max+1;var tempPrice=(maxPrice-minPrice)/4+1;var tempPriceSum=minPrice;var unitPrice=[];for(var i=1;i<=4;i++){var mina=tempPriceSum;var maxa=i===4?maxPrice:tempPriceSum+tempPrice;unitPrice.push(parseInt(mina)+\" - \"+parseInt(maxa));tempPriceSum=parseInt(tempPriceSum+tempPrice);}//console.log(\"unitPrice\", unitPrice);\nreturn unitPrice;}// const handleBlocks = (e) => {\n//     console.log('handleBlocks' ,e.target.value);\n//     let filterUnits = unitsAll.filter((item) => {\n//         return item.block === e.target.value\n//     });\n//     console.log(\"filterUnits\" ,unitsAll.length, filterUnits.length);\n//     setUnits(filterUnits);\n// }\n// const handleFloors = (e) => {\n//     console.log('handleFloors' ,e.target.value);\n// }\nvar handleChangeBlock=function handleChangeBlock(e){//e.persist();\n//console.log('handleChangeBlock',e.target.value);\n// setSearchFormData(searchFormData => ({ ...searchFormData, block: e.target.value }));\n// setTimeout(() => {\n//     searchNow();\n// }, 1000);\n};var handleChangeFloor=function handleChangeFloor(e){e.persist();//console.log('handleChangeFloor',e.target.value);\n//setSearchFormData(searchFormData => ({ ...searchFormData, floor: e.target.value }));\n};var handleChangeUnitType=function handleChangeUnitType(e){e.persist();//console.log('handleChangeFloor',e.target.value);\n//setSearchFormData(searchFormData => ({ ...searchFormData, floor: e.target.value }));\n};var handleChangeArea=function handleChangeArea(e){e.persist();//setSearchFormData(searchFormData => ({ ...searchFormData, area: e.target.value }));\n};var handleChangePrice=function handleChangePrice(e){e.persist();//setSearchFormData(searchFormData => ({ ...searchFormData, price: e.target.value }));\n};var searchNow=function searchNow(){//console.log(\"search \", searchFormData, searchFormData.block);\nvar block=document.querySelector('#block').value;var floor=document.querySelector('#floor').value;var unitType=document.querySelector('#unitType').value;var area=document.querySelector('#area').value;var price=document.querySelector('#price').value;// const block = searchFormData.block ; //document.querySelector('#block').value;\n// const floor = searchFormData.floor; //document.querySelector('#floor').value;\n// const area = searchFormData.area; //document.querySelector('#area').value;\n// const price = searchFormData.price; //document.querySelector('#price').value;\n//console.log('searchNow --', block, floor,unitType, area, prices);\nvar areaArray=area?area.split(' - '):[areaMin,areaMax];var priceArray=price?price.split(' - '):[priceMin,priceMax];// console.log('searchNow after' ,block,floor,areaArray,priceArray);\n//console.log(\"unitsAll\", unitsAll);\nvar filterUnits=unitsAll.filter(function(item){return block?item.block===block:true;}).filter(function(item){return floor?item.floor===floor:true;}).filter(function(item){return unitType?item.unit_type===unitType:true;}).filter(function(item){//console.log(\"item.area \",item.built_up_area);\nreturn areaArray.length>0?item.built_up_area>=areaArray[0]&&item.built_up_area<=areaArray[1]:true;}).filter(function(item){//console.log(\"item.price \",item.price);\nreturn priceArray.length>0?item.price>=priceArray[0]&&item.price<=priceArray[1]:true;});// console.log(\"filterUnits\" ,unitsAll.length, filterUnits.length);\nsetUnits(filterUnits);};var showEnquireNowModal=function showEnquireNowModal(r){//console.log(\"showEnquireNowModal clicked\");\nsetSelectedUnit(r);setIsEnquireNowModalShow(true);};var closeEnquireNowModalModal=function closeEnquireNowModalModal(){//console.log(\"closeEnquireNowModalModal trigger\");\nsetSelectedUnit(null);setIsEnquireNowModalShow(false);};var onSortChange=function onSortChange(c){setCurrentColumn(c);var nextSort;if(currentSort==='down')nextSort='up';else if(currentSort==='up')nextSort='down';else if(currentSort==='default')nextSort='down';// console.log(\"nextSort\",currentSort, \"nextSort\" ,nextSort);\nsetCurrentSort(nextSort);};function dynamicSort(property){var sortOrder=1;if(property[0]===\"-\"){sortOrder=-1;property=property.substr(1);}return function(a,b){/* next line works with strings and numbers, \n             * and you may want to customize it to your needs\n             */ // var result = (a[property] < b[property]) ? -1 : (a[property] > b[property]) ? 1 : 0;\nvar result=currentSort==='up'?a[property]-b[property]:b[property]-a[property];return result*sortOrder;};// return (a.price > b.price) ? 1 : ((b.price > a.price) ? -1 : 0);\n}var sortTypes={up:{class:'sort-up',fn:function fn(a,b){return a.net_worth-b.net_worth;}},down:{class:'sort-down',fn:function fn(a,b){return b.net_worth-a.net_worth;}},default:{class:'sort',fn:function fn(a,b){return a;}}};var openLogin=function openLogin(){//console.log(\"openLogin clicked\");\ndocument.querySelector('#loginButton').click();};var popover=function popover(currency_symbol,price){return/*#__PURE__*/_jsxs(Popover,{id:\"popover-basic\",children:[/*#__PURE__*/_jsxs(Popover.Header,{as:\"h3\",children:[\"Price in \",currency_symbol&&currency_symbol==='TL'?'TRY to USD':'USD to TRY',\" \"]}),/*#__PURE__*/_jsx(Popover.Body,{children:currency_symbol&&currency_symbol==='TL'?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"strong\",{children:/*#__PURE__*/_jsx(CurrencyFormat,{value:price*exchangeRates.try_to_usd,displayType:'text',thousandSeparator:true,decimalScale:2,suffix:' USD'})}),\" Approx.\"]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"strong\",{children:/*#__PURE__*/_jsx(CurrencyFormat,{value:price*exchangeRates.usd_to_try,displayType:'text',thousandSeparator:true,decimalScale:2,suffix:' TRY'})}),\" Approx.\"]})})]});};if(!isAuthenticated()){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row my-5 py-5\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col my-5 text-center\",children:[/*#__PURE__*/_jsxs(\"h4\",{children:[\"To view Inventory please \",/*#__PURE__*/_jsx(\"button\",{className:\"btntheme\",onClick:function onClick(){return openLogin();},children:\"Sign In here\"})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"br\",{})}),\"\\xA0\",/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:function onClick(){return navigate(-1);},children:\"Go back\"})]})})})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"projectList mt-70\",children:[/*#__PURE__*/_jsx(UnitEnquireNowModal,{show:isEnquireNowModalShow,onHide:closeEnquireNowModalModal,project:project,unit:selectedUnit}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row align-items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-auto\",children:/*#__PURE__*/_jsxs(\"button\",{className:\"cusocialBackBtn\",onClick:function onClick(){return navigate(-1);},children:[/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:\"16\",height:\"16\",fill:\"currentColor\",className:\"bi bi-arrow-left\",viewBox:\"0 0 16 16\",children:/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z\"})}),\"Back\"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col\",children:/*#__PURE__*/_jsx(\"h3\",{className:\"unitInventoryHeading\",children:\"Inventory\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"search\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"row mt-3 mb-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"searchUnitHeading\",children:/*#__PURE__*/_jsxs(\"h2\",{children:[\" \",project?project.title:'']})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"p\",{children:project?project.small_description:''})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"searchFilterBar\",children:/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"input-group select-group\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"input-group-addon\",children:/*#__PURE__*/_jsx(\"svg\",{version:\"1.1\",id:\"Capa_1\",x:\"0px\",y:\"0px\",viewBox:\"0 0 480 480\",children:/*#__PURE__*/_jsx(\"g\",{children:/*#__PURE__*/_jsx(\"g\",{children:/*#__PURE__*/_jsx(\"path\",{className:\"st0\",d:\"M440,464v-41.4c15.4-6.5,25-21.9,24-38.6c0-22.1-14.4-40-32-40s-32,17.9-32,40c-1,16.6,8.6,32.1,24,38.6V464 h-40V216c0-3-1.7-5.8-4.4-7.2L320,179.1V136c0-3.6-2.4-6.7-5.8-7.7L208,98V8c0-4.4-3.6-8-8-8H40c-4.4,0-8,3.6-8,8v456H0v16h480 v-16H440z M192,464H48v-16h72v-16H48v-32h72v-16H48v-32h72v-16H48v-32h72v-16H48v-32h72v-16H48v-32h72v-16H48v-32h72v-16H48v-32 h72V96H48V64h72V48H48V16h144V464z M304,464h-96v-16h56v-16h-56v-32h56v-16h-56v-32h56v-16h-56v-32h56v-16h-56v-32h56v-16h-56v-32 h56v-16h-56v-32h56v-16h-56v-29.4l96,27.4V464z M368,464h-48v-16h24v-16h-24v-32h24v-16h-24v-32h24v-16h-24v-32h24v-16h-24v-32h24 v-16h-24v-43.1l48,24V464z M424,404.6c-5.4-5.5-8.3-12.9-8-20.6c0-13,7.3-24,16-24s16,11,16,24c0.3,7.7-2.6,15.1-8,20.6V392h-16 V404.6z\"})})})})}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-select\",id:\"block\",placeholder:\"Block\",name:\"block\",onChange:handleChangeBlock,defaultValue:'',children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Block\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All\"}),blocks.length>0&&blocks.map(function(row,index){return/*#__PURE__*/_jsx(\"option\",{value:row,children:row},index);})]})]})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"input-group select-group\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"input-group-addon\",children:/*#__PURE__*/_jsx(\"svg\",{version:\"1.1\",id:\"Layer_1\",x:\"0px\",y:\"0px\",viewBox:\"0 0 512 512\",children:/*#__PURE__*/_jsx(\"g\",{transform:\"translate(1 1)\",children:/*#__PURE__*/_jsx(\"g\",{children:/*#__PURE__*/_jsx(\"g\",{children:/*#__PURE__*/_jsx(\"path\",{className:\"st0\",d:\"M50.2,468.4H255h204.8c5.1,0,8.5-3.4,8.5-8.5V306.1V152.5V50.1c0-5.1-3.4-8.5-8.5-8.5H297.6h-93.9H50.2 c-5.1,0-8.5,3.4-8.5,8.5v204.8v68.3v102.4v34.1C41.6,464.9,45,468.4,50.2,468.4z M58.7,331.8H144c-4.3,45.2-40.1,81.1-85.3,85.3 C58.7,417.1,58.7,331.8,58.7,331.8z M58.7,58.7h136.5v51.2h-8.5c-5.1,0-8.5,3.4-8.5,8.5s3.4,8.5,8.5,8.5h34.1 c5.1,0,8.5-3.4,8.5-8.5s-3.4-8.5-8.5-8.5h-8.5V58.7h76.8v93.9c0,5.1,3.4,8.5,8.5,8.5h34.1v8.5c0,5.1,3.4,8.5,8.5,8.5 s8.5-3.4,8.5-8.5v-34.1c0-5.1-3.4-8.5-8.5-8.5s-8.5,3.4-8.5,8.5v8.5h-25.6V58.7h145.1V144h-34.1v-8.5c0-5.1-3.4-8.5-8.5-8.5 s-8.5,3.4-8.5,8.5v34.1c0,5.1,3.4,8.5,8.5,8.5s8.5-3.4,8.5-8.5v-8.5h34.1v136.5H400v-8.5c0-5.1-3.4-8.5-8.5-8.5s-8.5,3.4-8.5,8.5 v34.1c0,5.1,3.4,8.5,8.5,8.5s8.5-3.4,8.5-8.5v-8.5h51.2v136.5H263.5V314.8h51.2v8.5c0,5.1,3.4,8.5,8.5,8.5s8.5-3.4,8.5-8.5v-34.1 c0-5.1-3.4-8.5-8.5-8.5s-8.5,3.4-8.5,8.5v8.5H255c-5.1,0-8.5,3.4-8.5,8.5v145.1H58.7v-17.4c57.4-4.3,102.4-52,102.4-110.6 c0-5.1-3.4-8.5-8.5-8.5H58.7v-51.2h145.1c5.1,0,8.5-3.4,8.5-8.5v-59.7h8.5c5.1,0,8.5-3.4,8.5-8.5s-3.4-8.5-8.5-8.5h-34.1 c-5.1,0-8.5,3.4-8.5,8.5s3.4,8.5,8.5,8.5h8.5v51.2H58.7V58.7z\"})})})})})}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-select\",id:\"floor\",placeholder:\"Floor\",name:\"floor\",onChange:handleChangeFloor,defaultValue:'',children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Floor\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All\"}),floors.length>0&&floors.map(function(row,index){return/*#__PURE__*/_jsx(\"option\",{value:row,children:row},index);})]})]})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"input-group select-group\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"input-group-addon\",children:/*#__PURE__*/_jsx(\"img\",{src:publicPath+\"/assets/images/unittype.svg\",width:16})}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-select\",id:\"unitType\",placeholder:\"unitType\",name:\"unitType\",onChange:handleChangeUnitType,defaultValue:'',children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Unit Type\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All\"}),unitTypes.length>0&&unitTypes.map(function(row,index){return/*#__PURE__*/_jsx(\"option\",{value:row,children:row},index);})]})]})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"input-group select-group\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"input-group-addon\",children:/*#__PURE__*/_jsx(\"img\",{src:publicPath+\"/assets/images/area.svg\",width:16})}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-select\",id:\"area\",placeholder:\"Area\",name:\"area\",onChange:handleChangeArea,defaultValue:'',children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Area\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All\"}),areas.length>0&&areas.map(function(row,index){return/*#__PURE__*/_jsxs(\"option\",{value:row,children:[row,\" sq.m.\"]},index);})]})]})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"input-group select-group\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"input-group-addon\",children:/*#__PURE__*/_jsx(\"img\",{src:publicPath+\"/assets/images/dollar.svg\",width:16})}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-select\",id:\"price\",placeholder:\"Price\",name:\"price\",onChange:handleChangePrice,defaultValue:'',children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Price\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All\"}),prices.length>0&&prices.map(function(row,index){return/*#__PURE__*/_jsx(\"option\",{value:row,children:row},index);})]})]})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btnSerach\",onClick:searchNow,children:\"Search\"})})]})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"projectListItems0 my-5\",children:unitsLoading?/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:\"Loading...\"})}):/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"container0\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-light\",children:[\"Total Units : \",units.length]}),/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"table-responsive\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table table-sm table-hover0 table-bordered0 apartmentDetails\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{align:\"center\",children:[/*#__PURE__*/_jsx(\"td\",{children:\"Apartment ID\"}),/*#__PURE__*/_jsx(\"td\",{children:\"Block\"}),/*#__PURE__*/_jsx(\"td\",{children:\"Floor\"}),/*#__PURE__*/_jsx(\"td\",{children:\"Bedroom\"}),/*#__PURE__*/_jsx(\"td\",{children:\"Unit Type\"}),/*#__PURE__*/_jsx(\"td\",{children:\"Built Up Area\"}),/*#__PURE__*/_jsx(\"td\",{children:\"Net Area\"}),/*#__PURE__*/_jsx(\"td\",{children:\"Direction\"}),/*#__PURE__*/_jsxs(\"td\",{onClick:function onClick(){return onSortChange('price');},children:[['sort-up','sort-down'].includes(sortTypes[currentSort].class)?sortTypes[currentSort].class==='sort-up'?'↑':'↓':'',\" Price\"]}),/*#__PURE__*/_jsx(\"td\",{children:\"Status\"}),/*#__PURE__*/_jsx(\"td\",{children:\"Action\"})]})}),/*#__PURE__*/_jsxs(\"tbody\",{children:[units.length<1?/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:11,align:\"center\",children:\"No units found.\"})}):/*#__PURE__*/_jsx(_Fragment,{}),units.sort(dynamicSort(currentColumn)).map(function(row){return/*#__PURE__*/_jsxs(\"tr\",{align:\"center\",children:[/*#__PURE__*/_jsx(\"td\",{children:row.apartment_id}),/*#__PURE__*/_jsx(\"td\",{children:row.block}),/*#__PURE__*/_jsx(\"td\",{children:row.floor}),/*#__PURE__*/_jsx(\"td\",{children:row.bedroom}),/*#__PURE__*/_jsx(\"td\",{children:row.unit_type}),/*#__PURE__*/_jsx(\"td\",{children:row.built_up_area}),/*#__PURE__*/_jsx(\"td\",{children:row.net_area}),/*#__PURE__*/_jsx(\"td\",{children:row.direction==='null'?'-':row.direction}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(OverlayTrigger,{trigger:\"click\",placement:\"right\",overlay:popover(project.currency_symbol,row.price),rootClose:\"true\",children:/*#__PURE__*/_jsx(CurrencyFormat,{value:row.price,displayType:'text',thousandSeparator:true,suffix:project?' '+project.currency_symbol:''})})}),/*#__PURE__*/_jsx(\"td\",{children:row.reserved>0?/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"span\",{className:\"badge rounded-pill bg-danger\",children:row.status})}):/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"span\",{className:\"badge rounded-pill bg-success\",children:row.status})})}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(Link,{className:\"btnView\",title:\"view\",to:\"/projects/\".concat(id,\"/unit/\").concat(row.cubedots_id),children:/*#__PURE__*/_jsxs(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:\"16\",height:\"16\",fill:\"currentColor\",className:\"bi bi-eye\",viewBox:\"0 0 16 16\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8zM1.173 8a13.133 13.133 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.133 13.133 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5c-2.12 0-3.879-1.168-5.168-2.457A13.134 13.134 0 0 1 1.172 8z\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5zM4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0z\"})]})}),\"\\xA0\\xA0\",/*#__PURE__*/_jsx(\"button\",{className:\"unitEnquitryBtn\",onClick:function onClick(){return showEnquireNowModal(row);},children:\"Enquire Now\"})]})]},row.id);})]})]})})})]})})})})]});}export default UnitsPage;","map":{"version":3,"sources":["/var/www/html/cuengine-portal/src/pages/UnitsPage.js"],"names":["useEffect","useState","useNavigate","useParams","Link","OverlayTrigger","Popover","_","axios","CurrencyFormat","UnitEnquireNowModal","useIsAuthenticated","API_ENDPOINT","UnitsPage","publicPath","process","env","PUBLIC_URL","navigate","id","isAuthenticated","exchangeRatesLoading","setExchangeRatesLoading","exchangeRates","setExchangeRates","isEnquireNowModalShow","setIsEnquireNowModalShow","selectedUnit","setSelectedUnit","block","floor","unit_type","area","price","searchFormData","setSearchFormData","currentColumn","setCurrentColumn","currentSort","setCurrentSort","unitsLoading","setUnitsLoading","project","setProject","unitsAll","setUnitsAll","units","setUnits","blocks","setBlocks","floors","setFloors","unitTypes","setUnitTypes","areas","setAreas","prices","setPrices","areaMin","setAreaMin","areaMax","setAreaMax","priceMin","setPriceMin","priceMax","setPriceMax","window","scrollTo","top","left","behavior","fetchUnits","fetchExchangeRates","get","res","data","length","uniqueBlocks","chain","map","groupBy","keys","reverse","sort","a","b","value","uniqueFloors","uniqueUnitTypes","charAt","uniqueAreaMin","minBy","uniqueAreaMax","maxBy","uniquePriceMin","uniquePriceMax","makeGroupArea","makeGroupPrice","console","error","min","max","minarea","maxarea","tempArea","tempAreaSum","buildupArea","i","mina","maxa","push","parseInt","minPrice","maxPrice","tempPrice","tempPriceSum","unitPrice","handleChangeBlock","e","handleChangeFloor","persist","handleChangeUnitType","handleChangeArea","handleChangePrice","searchNow","document","querySelector","unitType","areaArray","split","priceArray","filterUnits","filter","item","built_up_area","showEnquireNowModal","r","closeEnquireNowModalModal","onSortChange","c","nextSort","dynamicSort","property","sortOrder","substr","result","sortTypes","up","class","fn","net_worth","down","default","openLogin","click","popover","currency_symbol","try_to_usd","usd_to_try","title","small_description","row","index","includes","apartment_id","bedroom","net_area","direction","reserved","status","cubedots_id"],"mappings":"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","sourcesContent":["import { useEffect, useState } from \"react\";\nimport { useNavigate, useParams, Link } from 'react-router-dom';\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger';\nimport Popover from 'react-bootstrap/Popover'\nimport _ from 'lodash';\nimport axios from \"axios\";\nimport CurrencyFormat from 'react-currency-format';\nimport UnitEnquireNowModal from \"../components/project-detail/UnitEnquireNowModal\";\n//import UnitList from '../components/UnitList';\nimport { useIsAuthenticated } from 'react-auth-kit';\n\nimport { API_ENDPOINT } from '../common/Constants';\n\nfunction UnitsPage() {\n    let publicPath = process.env.PUBLIC_URL;\n    let navigate = useNavigate();\n    let { id } = useParams();\n    const isAuthenticated = useIsAuthenticated();\n\n    const [exchangeRatesLoading, setExchangeRatesLoading] = useState(false);\n    const [exchangeRates, setExchangeRates] = useState(null);\n\n    const [isEnquireNowModalShow, setIsEnquireNowModalShow] = useState(false);\n    const [selectedUnit, setSelectedUnit] = useState({});\n    const [searchFormData, setSearchFormData] = useState({ block: '', floor: '', unit_type: '', area: '', price: '' });\n\n    const [currentColumn, setCurrentColumn] = useState('id');\n    const [currentSort, setCurrentSort] = useState('default');\n\n    const [unitsLoading, setUnitsLoading] = useState(false);\n\n    const [project, setProject] = useState({});\n    const [unitsAll, setUnitsAll] = useState([]);\n    const [units, setUnits] = useState([]);\n\n    const [blocks, setBlocks] = useState([]);\n    const [floors, setFloors] = useState([]);\n    const [unitTypes, setUnitTypes] = useState([]);\n    const [areas, setAreas] = useState([]);\n    const [prices, setPrices] = useState([]);\n\n    const [areaMin, setAreaMin] = useState(0);\n    const [areaMax, setAreaMax] = useState(0);\n\n    const [priceMin, setPriceMin] = useState(0);\n    const [priceMax, setPriceMax] = useState(0);\n\n    useEffect(() => {\n        window.scrollTo({ top:0,left:0,behavior:'smooth'});\n        //console.log('unit page loaded')\n        fetchUnits();\n        fetchExchangeRates();\n        // return () => { // ComponentWillUnmount in Class Component\n        //     setSearchFormData({ block: '', floor: '', area: '', price: '' });\n        // }\n        //console.log(\"searchFormData \", searchFormData);\n        // if(searchFormData){\n        //     setTimeout(() => {\n        //         searchNow();\n        //     }, 1000);\n        // }\n    }, []);\n\n\n\n    async function fetchUnits() {\n        setUnitsLoading(true);\n        try {\n            const res = await axios.get(API_ENDPOINT + \"projects/units/\" + id);\n            if (res.data.data) {\n                //console.log('res.data.data ', res.data.data.data)\n                setUnitsLoading(false);\n                let units = res.data.data.data;\n                setProject(res.data.project);\n\n                if (units.length) {\n                    setUnitsAll(units);\n                    setUnits(units);\n                    let uniqueBlocks = _.chain(units).map('block').groupBy().keys().reverse().sort(function (a, b) { return a - b }).value();\n                    let uniqueFloors = _.chain(units).map('floor').groupBy().keys().reverse().sort(function (a, b) { return a - b }).value();\n                    let uniqueUnitTypes = _.chain(units).map('unit_type').groupBy().keys().sort(function (a, b) { return a.charAt(0) - b.charAt(0) }).value();\n                    //console.log(\"uniqueUnitTypes\",uniqueUnitTypes);\n                    let uniqueAreaMin = _.chain(units).map('built_up_area').minBy().value();\n                    let uniqueAreaMax = _.chain(units).map('built_up_area').maxBy().value();\n                    let uniquePriceMin = _.chain(units).map('price').minBy().value();\n                    let uniquePriceMax = _.chain(units).map('price').maxBy().value();\n                    //getArea(uniqueAreaMin,uniqueAreaMax);\n                    //console.log('uniq ', uniqueBlocks, uniqueFloors, uniqueAreaMin, uniqueAreaMax, uniquePriceMin, uniquePriceMax);\n\n                    setBlocks(uniqueBlocks);\n                    setFloors(uniqueFloors);\n                    setUnitTypes(uniqueUnitTypes);\n                    setAreas(makeGroupArea(uniqueAreaMin, uniqueAreaMax));\n                    setPrices(makeGroupPrice(uniquePriceMin, uniquePriceMax));\n\n                    setAreaMin(uniqueAreaMin);\n                    setAreaMax(uniqueAreaMax);\n\n                    setPriceMin(uniquePriceMin);\n                    setPriceMax(uniquePriceMax);\n                }\n\n            }\n        } catch (error) {\n            console.error(\"error \", error);\n            setUnitsLoading(false);\n        }\n    }\n\n    async function fetchExchangeRates() {\n        setExchangeRatesLoading(true);\n        try {\n            const res = await axios.get(API_ENDPOINT + \"exchangeRates/latest\");\n            if (res.data.data) {\n                setExchangeRatesLoading(false);\n                setExchangeRates(res.data.data);\n            }\n        } catch (error) {\n            console.error(\"error \", error);\n            setExchangeRatesLoading(false);\n        }\n    }\n\n    function makeGroupArea(min, max) {\n        let minarea = min;\n        let maxarea = max + 1;\n        let tempArea = (maxarea - minarea) / 4 + 1;\n        let tempAreaSum = minarea;\n        let buildupArea = [];\n        for (let i = 1; i <= 4; i++) {\n            let mina = tempAreaSum;\n            let maxa = i === 4 ? maxarea : tempAreaSum + tempArea;\n            buildupArea.push(parseInt(mina) + \" - \" + parseInt(maxa));\n            tempAreaSum = parseInt(tempAreaSum + tempArea);\n        }\n        //console.log(\"buildupArea\", buildupArea);\n        return buildupArea;\n    }\n\n    function makeGroupPrice(min, max) {\n        let minPrice = min;\n        let maxPrice = max + 1;\n        let tempPrice = (maxPrice - minPrice) / 4 + 1;\n        let tempPriceSum = minPrice;\n        let unitPrice = [];\n        for (let i = 1; i <= 4; i++) {\n            let mina = tempPriceSum;\n            let maxa = i === 4 ? maxPrice : tempPriceSum + tempPrice;\n            unitPrice.push(parseInt(mina) + \" - \" + parseInt(maxa));\n            tempPriceSum = parseInt(tempPriceSum + tempPrice);\n        }\n        //console.log(\"unitPrice\", unitPrice);\n        return unitPrice;\n    }\n\n    // const handleBlocks = (e) => {\n    //     console.log('handleBlocks' ,e.target.value);\n    //     let filterUnits = unitsAll.filter((item) => {\n    //         return item.block === e.target.value\n    //     });\n    //     console.log(\"filterUnits\" ,unitsAll.length, filterUnits.length);\n\n    //     setUnits(filterUnits);\n    // }\n    // const handleFloors = (e) => {\n    //     console.log('handleFloors' ,e.target.value);\n\n    // }\n\n    const handleChangeBlock = (e) => {\n        //e.persist();\n        //console.log('handleChangeBlock',e.target.value);\n        // setSearchFormData(searchFormData => ({ ...searchFormData, block: e.target.value }));\n        // setTimeout(() => {\n        //     searchNow();\n        // }, 1000);\n\n    }\n    const handleChangeFloor = (e) => {\n        e.persist();\n        //console.log('handleChangeFloor',e.target.value);\n        //setSearchFormData(searchFormData => ({ ...searchFormData, floor: e.target.value }));\n\n    }\n    const handleChangeUnitType = (e) => {\n        e.persist();\n        //console.log('handleChangeFloor',e.target.value);\n        //setSearchFormData(searchFormData => ({ ...searchFormData, floor: e.target.value }));\n\n    }\n\n\n    const handleChangeArea = (e) => {\n        e.persist();\n        //setSearchFormData(searchFormData => ({ ...searchFormData, area: e.target.value }));\n    }\n    const handleChangePrice = (e) => {\n        e.persist();\n        //setSearchFormData(searchFormData => ({ ...searchFormData, price: e.target.value }));\n    }\n\n    const searchNow = () => {\n        //console.log(\"search \", searchFormData, searchFormData.block);\n        const block = document.querySelector('#block').value;\n        const floor = document.querySelector('#floor').value;\n        const unitType = document.querySelector('#unitType').value;\n        const area = document.querySelector('#area').value;\n        const price = document.querySelector('#price').value;\n\n        // const block = searchFormData.block ; //document.querySelector('#block').value;\n        // const floor = searchFormData.floor; //document.querySelector('#floor').value;\n        // const area = searchFormData.area; //document.querySelector('#area').value;\n        // const price = searchFormData.price; //document.querySelector('#price').value;\n        //console.log('searchNow --', block, floor,unitType, area, prices);\n\n        let areaArray = area ? area.split(' - ') : [areaMin, areaMax];\n        let priceArray = price ? price.split(' - ') : [priceMin, priceMax];\n\n        // console.log('searchNow after' ,block,floor,areaArray,priceArray);\n        //console.log(\"unitsAll\", unitsAll);\n        let filterUnits = unitsAll.filter((item) => {\n            return block ? (item.block === block) : true\n        })\n            .filter((item) => {\n                return floor ? (item.floor === floor) : true\n            })\n            .filter((item) => {\n                return unitType ? (item.unit_type === unitType) : true\n            })\n            .filter((item) => {\n                //console.log(\"item.area \",item.built_up_area);\n                return areaArray.length > 0 ? (item.built_up_area >= areaArray[0] && item.built_up_area <= areaArray[1]) : true\n            })\n            .filter((item) => {\n                //console.log(\"item.price \",item.price);\n                return priceArray.length > 0 ? (item.price >= priceArray[0] && item.price <= priceArray[1]) : true\n            })\n        // console.log(\"filterUnits\" ,unitsAll.length, filterUnits.length);\n\n        setUnits(filterUnits);\n    }\n\n    const showEnquireNowModal = (r) => {\n        //console.log(\"showEnquireNowModal clicked\");\n        setSelectedUnit(r);\n        setIsEnquireNowModalShow(true);\n    }\n\n    const closeEnquireNowModalModal = () => {\n        //console.log(\"closeEnquireNowModalModal trigger\");\n        setSelectedUnit(null);\n        setIsEnquireNowModalShow(false);\n    }\n\n    const onSortChange = (c) => {\n        setCurrentColumn(c);\n        let nextSort;\n        if (currentSort === 'down') nextSort = 'up';\n        else if (currentSort === 'up') nextSort = 'down';\n        else if (currentSort === 'default') nextSort = 'down';\n        // console.log(\"nextSort\",currentSort, \"nextSort\" ,nextSort);\n        setCurrentSort(nextSort);\n    };\n\n    function dynamicSort(property) {\n        var sortOrder = 1;\n        if (property[0] === \"-\") {\n            sortOrder = -1;\n            property = property.substr(1);\n        }\n        return function (a, b) {\n            /* next line works with strings and numbers, \n             * and you may want to customize it to your needs\n             */\n            // var result = (a[property] < b[property]) ? -1 : (a[property] > b[property]) ? 1 : 0;\n            var result = currentSort === 'up' ? a[property] - b[property] : b[property] - a[property];\n            return result * sortOrder;\n        }\n        // return (a.price > b.price) ? 1 : ((b.price > a.price) ? -1 : 0);\n\n    }\n\n    const sortTypes = {\n        up: {\n            class: 'sort-up',\n            fn: (a, b) => a.net_worth - b.net_worth\n        },\n        down: {\n            class: 'sort-down',\n            fn: (a, b) => b.net_worth - a.net_worth\n        },\n        default: {\n            class: 'sort',\n            fn: (a, b) => a\n        }\n    };\n\n\n\n    const openLogin = () => {\n        //console.log(\"openLogin clicked\");\n        document.querySelector('#loginButton').click();\n    }\n\n    const popover = (currency_symbol, price) => (\n        <Popover id=\"popover-basic\">\n            <Popover.Header as=\"h3\">Price in {currency_symbol && currency_symbol === 'TL' ? 'TRY to USD' : 'USD to TRY'} </Popover.Header>\n            <Popover.Body>\n                {currency_symbol && currency_symbol === 'TL' ?\n                    <>\n                        {/* {exchangeRates.try_to_usd} <br />  */}\n                        <strong><CurrencyFormat value={price * exchangeRates.try_to_usd} displayType={'text'} thousandSeparator={true} decimalScale={2} suffix={' USD'} /></strong> Approx.\n                    </>\n                    :\n                    <>\n                        {/* {exchangeRates.usd_to_try} <br />  */}\n                        <strong><CurrencyFormat value={price * exchangeRates.usd_to_try} displayType={'text'} thousandSeparator={true} decimalScale={2} suffix={' TRY'} /></strong> Approx.\n                    </>\n                }\n            </Popover.Body>\n        </Popover>\n    );\n\n    if (!isAuthenticated()) {\n        return (\n            <>\n\n                <div className=\"container\">\n                    <div className=\"row my-5 py-5\">\n                        <div className=\"col my-5 text-center\">\n                            <h4>To view Inventory please <button className=\"btntheme\" onClick={() => openLogin()}>Sign In here</button></h4>\n                            <div><br /></div>\n\n                            &nbsp;\n                            <button className=\"btn btn-primary\" onClick={() => navigate(-1)}>Go back</button>\n                        </div>\n                    </div>\n                </div>\n\n\n            </>\n        );\n    }\n\n\n\n    return (\n        <div className=\"projectList mt-70\">\n            <UnitEnquireNowModal show={isEnquireNowModalShow} onHide={closeEnquireNowModalModal} project={project} unit={selectedUnit} />\n            <div className=\"container\">\n                <div className=\"row align-items-center\">\n                    <div className=\"col-auto\">\n                        <button className=\"cusocialBackBtn\" onClick={() => navigate(-1)}>\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" className=\"bi bi-arrow-left\" viewBox=\"0 0 16 16\">\n                                <path fillRule=\"evenodd\" d=\"M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z\" />\n                            </svg>Back\n                        </button>\n                    </div>\n                    <div className=\"col\"><h3 className=\"unitInventoryHeading\">Inventory</h3></div>\n                </div>\n            </div>\n            <div className=\"search\">\n                <div className=\"container\">\n                    <div className=\"row mt-3 mb-3\">\n                        <div className=\"col\">\n                            <div className=\"searchUnitHeading\"><h2> {project ? project.title : ''}</h2></div>\n                            <div><p>{project ? project.small_description : ''}</p></div>\n                        </div>\n                    </div>\n\n                    <div className=\"searchFilterBar\">\n                        <ul>\n                            {/* <li>\n                                <div className=\"input-group select-group\">\n                                    <span className=\"input-group-addon\">\n                                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" className=\"bi bi-image\" viewBox=\"0 0 16 16\">\n                                            <path d=\"M6.002 5.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z\" />\n                                            <path d=\"M2.002 1a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2h-12zm12 1a1 1 0 0 1 1 1v6.5l-3.777-1.947a.5.5 0 0 0-.577.093l-3.71 3.71-2.66-1.772a.5.5 0 0 0-.63.062L1.002 12V3a1 1 0 0 1 1-1h12z\" />\n                                        </svg>\n                                    </span>\n                                    <select className=\"form-control\">\n                                        <option default>Apartment Type</option>\n                                        <option value=\"A\">Option A</option>\n                                        <option value=\"B\">Option B</option>\n                                        <option value=\"C\">Option C</option>\n                                        <option value=\"D\">Option D</option>\n                                    </select>\n                                </div>\n                            </li> */}\n                            <li>\n                                <div className=\"input-group select-group\">\n                                    <span className=\"input-group-addon\">\n                                        <svg version=\"1.1\" id=\"Capa_1\" x=\"0px\" y=\"0px\" viewBox=\"0 0 480 480\">\n                                            <g>\n                                                <g>\n                                                    <path className=\"st0\" d=\"M440,464v-41.4c15.4-6.5,25-21.9,24-38.6c0-22.1-14.4-40-32-40s-32,17.9-32,40c-1,16.6,8.6,32.1,24,38.6V464\n                                                        h-40V216c0-3-1.7-5.8-4.4-7.2L320,179.1V136c0-3.6-2.4-6.7-5.8-7.7L208,98V8c0-4.4-3.6-8-8-8H40c-4.4,0-8,3.6-8,8v456H0v16h480\n                                                        v-16H440z M192,464H48v-16h72v-16H48v-32h72v-16H48v-32h72v-16H48v-32h72v-16H48v-32h72v-16H48v-32h72v-16H48v-32h72v-16H48v-32\n                                                        h72V96H48V64h72V48H48V16h144V464z M304,464h-96v-16h56v-16h-56v-32h56v-16h-56v-32h56v-16h-56v-32h56v-16h-56v-32h56v-16h-56v-32\n                                                        h56v-16h-56v-32h56v-16h-56v-29.4l96,27.4V464z M368,464h-48v-16h24v-16h-24v-32h24v-16h-24v-32h24v-16h-24v-32h24v-16h-24v-32h24\n                                                        v-16h-24v-43.1l48,24V464z M424,404.6c-5.4-5.5-8.3-12.9-8-20.6c0-13,7.3-24,16-24s16,11,16,24c0.3,7.7-2.6,15.1-8,20.6V392h-16\n                                                        V404.6z\"/>\n                                                </g>\n                                            </g>\n                                        </svg>\n                                    </span>\n\n                                    <select className=\"form-select\" id=\"block\" placeholder=\"Block\" name=\"block\" onChange={handleChangeBlock} defaultValue={''}>\n                                        <option value=\"\">Block</option>\n                                        <option value=\"\">All</option>\n                                        {blocks.length > 0 && blocks.map((row, index) => <option value={row} key={index} >{row}</option>)}\n                                    </select>\n\n                                </div>\n                            </li>\n                            <li>\n                                <div className=\"input-group select-group\">\n                                    <span className=\"input-group-addon\">\n                                    <svg version=\"1.1\" id=\"Layer_1\" x=\"0px\" y=\"0px\" viewBox=\"0 0 512 512\">\n                                        <g transform=\"translate(1 1)\">\n                                            <g>\n                                                <g>\n                                                    <path className=\"st0\" d=\"M50.2,468.4H255h204.8c5.1,0,8.5-3.4,8.5-8.5V306.1V152.5V50.1c0-5.1-3.4-8.5-8.5-8.5H297.6h-93.9H50.2\n                                                        c-5.1,0-8.5,3.4-8.5,8.5v204.8v68.3v102.4v34.1C41.6,464.9,45,468.4,50.2,468.4z M58.7,331.8H144c-4.3,45.2-40.1,81.1-85.3,85.3\n                                                        C58.7,417.1,58.7,331.8,58.7,331.8z M58.7,58.7h136.5v51.2h-8.5c-5.1,0-8.5,3.4-8.5,8.5s3.4,8.5,8.5,8.5h34.1\n                                                        c5.1,0,8.5-3.4,8.5-8.5s-3.4-8.5-8.5-8.5h-8.5V58.7h76.8v93.9c0,5.1,3.4,8.5,8.5,8.5h34.1v8.5c0,5.1,3.4,8.5,8.5,8.5\n                                                        s8.5-3.4,8.5-8.5v-34.1c0-5.1-3.4-8.5-8.5-8.5s-8.5,3.4-8.5,8.5v8.5h-25.6V58.7h145.1V144h-34.1v-8.5c0-5.1-3.4-8.5-8.5-8.5\n                                                        s-8.5,3.4-8.5,8.5v34.1c0,5.1,3.4,8.5,8.5,8.5s8.5-3.4,8.5-8.5v-8.5h34.1v136.5H400v-8.5c0-5.1-3.4-8.5-8.5-8.5s-8.5,3.4-8.5,8.5\n                                                        v34.1c0,5.1,3.4,8.5,8.5,8.5s8.5-3.4,8.5-8.5v-8.5h51.2v136.5H263.5V314.8h51.2v8.5c0,5.1,3.4,8.5,8.5,8.5s8.5-3.4,8.5-8.5v-34.1\n                                                        c0-5.1-3.4-8.5-8.5-8.5s-8.5,3.4-8.5,8.5v8.5H255c-5.1,0-8.5,3.4-8.5,8.5v145.1H58.7v-17.4c57.4-4.3,102.4-52,102.4-110.6\n                                                        c0-5.1-3.4-8.5-8.5-8.5H58.7v-51.2h145.1c5.1,0,8.5-3.4,8.5-8.5v-59.7h8.5c5.1,0,8.5-3.4,8.5-8.5s-3.4-8.5-8.5-8.5h-34.1\n                                                        c-5.1,0-8.5,3.4-8.5,8.5s3.4,8.5,8.5,8.5h8.5v51.2H58.7V58.7z\"/>\n                                                </g>\n                                            </g>\n                                        </g>\n                                    </svg>\n                                    </span>\n                                    <select className=\"form-select\" id=\"floor\" placeholder=\"Floor\" name=\"floor\" onChange={handleChangeFloor} defaultValue={''}>\n                                        <option value=\"\">Floor</option>\n                                        <option value=\"\">All</option>\n                                        {floors.length > 0 && floors.map((row, index) => <option value={row} key={index} >{row}</option>)}\n                                    </select>\n                                </div>\n                            </li>\n\n                            <li>\n                                <div className=\"input-group select-group\">\n                                    <span className=\"input-group-addon\">\n                                        <img src={publicPath + \"/assets/images/unittype.svg\"} width={16} />\n                                    </span>\n                                    <select className=\"form-select\" id=\"unitType\" placeholder=\"unitType\" name=\"unitType\" onChange={handleChangeUnitType} defaultValue={''}>\n                                        <option value=\"\">Unit Type</option>\n                                        <option value=\"\">All</option>\n                                        {unitTypes.length > 0 && unitTypes.map((row, index) => <option value={row} key={index} >{row}</option>)}\n                                    </select>\n                                </div>\n                            </li>\n\n\n                            <li>\n                                <div className=\"input-group select-group\">\n                                    <span className=\"input-group-addon\">\n                                        <img src={publicPath + \"/assets/images/area.svg\"} width={16} />\n                                    </span>\n\n                                    <select className=\"form-select\" id=\"area\" placeholder=\"Area\" name=\"area\" onChange={handleChangeArea} defaultValue={''}>\n                                        <option value=\"\">Area</option>\n                                        <option value=\"\">All</option>\n                                        {areas.length > 0 && areas.map((row, index) => <option value={row} key={index} >{row} sq.m.</option>)}\n                                    </select>\n\n                                </div>\n                            </li>\n                            <li>\n                                <div className=\"input-group select-group\">\n                                    <span className=\"input-group-addon\">\n                                        <img src={publicPath + \"/assets/images/dollar.svg\"} width={16} />\n                                    </span>\n                                    <select className=\"form-select\" id=\"price\" placeholder=\"Price\" name=\"price\" onChange={handleChangePrice} defaultValue={''}>\n                                        <option value=\"\">Price</option>\n                                        <option value=\"\">All</option>\n                                        {prices.length > 0 && prices.map((row, index) => <option value={row} key={index} >{row}</option>)}\n                                    </select>\n\n                                </div>\n                            </li>\n                            {/* <li>\n                                <div className=\"input-group select-group\">\n                                    <span className=\"input-group-addon\">\n                                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" className=\"bi bi-image\" viewBox=\"0 0 16 16\">\n                                            <path d=\"M6.002 5.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z\" />\n                                            <path d=\"M2.002 1a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2h-12zm12 1a1 1 0 0 1 1 1v6.5l-3.777-1.947a.5.5 0 0 0-.577.093l-3.71 3.71-2.66-1.772a.5.5 0 0 0-.63.062L1.002 12V3a1 1 0 0 1 1-1h12z\" />\n                                        </svg>\n                                    </span>\n                                    <select className=\"form-control\">\n                                        <option default>Phase</option>\n                                        <option value=\"A\">Option A</option>\n                                        <option value=\"B\">Option B</option>\n                                        <option value=\"C\">Option C</option>\n                                        <option value=\"D\">Option D</option>\n                                    </select>\n                                </div>\n                            </li> */}\n\n\n                            <li>\n                                <button type=\"button\" className=\"btnSerach\" onClick={searchNow}>Search</button>\n                            </li>\n                        </ul>\n                    </div>\n                </div>\n            </div>\n            {/* project list */}\n            <div className=\"container\">\n                <div className=\"projectListItems0 my-5\">\n                    {unitsLoading ?\n                        <>\n                            <div className=\"text-center\">Loading...</div>\n                        </>\n                        :\n                        <>\n                            <div className=\"container0\">\n                                <div className=\"text-light\">Total Units : {units.length}</div>\n                                <>\n                                    {/* <UnitList unit={row} key={i} /> */}\n                                    <div className=\"table-responsive\">\n                                        <table className=\"table table-sm table-hover0 table-bordered0 apartmentDetails\" >\n                                            <thead>\n                                                <tr align=\"center\">\n                                                    <td>Apartment ID</td>\n                                                    <td>Block</td>\n                                                    <td>Floor</td>\n                                                    <td>Bedroom</td>\n                                                    <td>Unit Type</td>\n                                                    <td>Built Up Area</td>\n                                                    <td>Net Area</td>\n                                                    <td>Direction</td>\n                                                    <td onClick={() => onSortChange('price')}>{['sort-up', 'sort-down'].includes(sortTypes[currentSort].class) ? (sortTypes[currentSort].class === 'sort-up' ? '↑' : '↓') : ''} Price</td>\n                                                    <td>Status</td>\n                                                    <td>Action</td>\n\n                                                </tr>\n                                            </thead>\n                                            <tbody>\n                                                {units.length < 1 ? <tr><td colSpan={11} align=\"center\">No units found.</td></tr> : <></>}\n                                                {units.sort(dynamicSort(currentColumn)).map((row) =>\n                                                    <tr key={row.id} align=\"center\">\n                                                        <td>{row.apartment_id}</td>\n                                                        <td>{row.block}</td>\n                                                        <td>{row.floor}</td>\n                                                        <td>{row.bedroom}</td>\n                                                        <td>{row.unit_type}</td>\n                                                        <td>{row.built_up_area}</td>\n                                                        <td>{row.net_area}</td>\n                                                        <td>{row.direction === 'null' ? '-' : row.direction}</td>\n                                                        <td>\n                                                            <OverlayTrigger trigger=\"click\" placement=\"right\" overlay={popover(project.currency_symbol, row.price)} rootClose=\"true\">\n                                                                <CurrencyFormat value={row.price} displayType={'text'} thousandSeparator={true} suffix={project ? ' ' + project.currency_symbol : ''} />\n                                                            </OverlayTrigger>\n                                                        </td>\n                                                        <td>\n                                                            {row.reserved > 0 ?\n                                                                <>\n                                                                    <span className=\"badge rounded-pill bg-danger\">{row.status}</span>\n                                                                </>\n                                                                :\n                                                                <>\n                                                                    <span className=\"badge rounded-pill bg-success\">{row.status}</span>\n                                                                </>\n                                                            }\n                                                        </td>\n                                                        <td>\n                                                            <Link className=\"btnView\" title=\"view\" to={`/projects/${id}/unit/${row.cubedots_id}`}>\n                                                                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" className=\"bi bi-eye\" viewBox=\"0 0 16 16\">\n                                                                    <path d=\"M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8zM1.173 8a13.133 13.133 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.133 13.133 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5c-2.12 0-3.879-1.168-5.168-2.457A13.134 13.134 0 0 1 1.172 8z\" />\n                                                                    <path d=\"M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5zM4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0z\" />\n                                                                </svg>\n                                                            </Link>\n                                                            &nbsp;&nbsp;\n                                                            <button className=\"unitEnquitryBtn\" onClick={() => showEnquireNowModal(row)}>\n                                                                Enquire Now\n                                                            </button>\n                                                        </td>\n                                                    </tr>\n                                                )}\n                                            </tbody>\n                                        </table>\n                                    </div>\n                                </>\n                            </div>\n\n                        </>\n                    }\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default UnitsPage;"]},"metadata":{},"sourceType":"module"}