{"ast":null,"code":"import _regeneratorRuntime from\"/var/www/html/cuengine-portal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/var/www/html/cuengine-portal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/var/www/html/cuengine-portal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useEffect,useState}from'react';import{useParams,useNavigate}from'react-router-dom';import\"react-multi-carousel/lib/styles.css\";import ReactPlayer from'react-player';import Moment from'react-moment';import axios from\"axios\";import{LazyLoadImage}from'react-lazy-load-image-component';import{useIsAuthenticated}from'react-auth-kit';import{API_ENDPOINT}from\"../common/Constants\";import SocialShareButtons from\"../components/update/SocialShareButtons\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function CuSocialDetailPage(props){var publicPath=process.env.PUBLIC_URL;var navigate=useNavigate();var _useParams=useParams(),category=_useParams.category,id=_useParams.id;var isAuthenticated=useIsAuthenticated();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),cuSocialLoading=_useState2[0],setCuSocialLoading=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),cuSocial=_useState4[0],setCuSocial=_useState4[1];function fetchCuSocial(){return _fetchCuSocial.apply(this,arguments);}function _fetchCuSocial(){_fetchCuSocial=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setCuSocialLoading(true);console.log(\"id \",id);_context.prev=2;_context.next=5;return axios.get(API_ENDPOINT+\"cusocial/show/\"+id);case 5:res=_context.sent;setCuSocialLoading(false);console.log(\"res.data.data\",res.data.data);if(res.data){setCuSocial(res.data.data);}_context.next=15;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](2);console.error(\"error \",_context.t0);setCuSocialLoading(false);case 15:case\"end\":return _context.stop();}}},_callee,null,[[2,11]]);}));return _fetchCuSocial.apply(this,arguments);}useEffect(function(){window.scrollTo({top:0,left:0,behavior:'smooth'});fetchCuSocial();},[]);var openLogin=function openLogin(){console.log(\"openLogin clicked\");document.querySelector('#loginButton').click();};if(!isAuthenticated()&&category==='offers'){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row my-5 py-5\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col my-5 text-center\",children:[/*#__PURE__*/_jsxs(\"h4\",{children:[\"To view Offers \",/*#__PURE__*/_jsx(\"button\",{className:\"btntheme\",onClick:function onClick(){return openLogin();},children:\"Login here\"})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"br\",{})}),\"\\xA0\",/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:function onClick(){return navigate(-1);},children:\"Go back\"})]})})})});}return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"CuSocialDetailPage mt-70\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row align-items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-auto\",children:/*#__PURE__*/_jsxs(\"button\",{className:\"cusocialBackBtn\",onClick:function onClick(){return navigate(-1);},children:[/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:\"16\",height:\"16\",fill:\"currentColor\",className:\"bi bi-arrow-left\",viewBox:\"0 0 16 16\",children:/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z\"})}),\" Back\"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col\",children:/*#__PURE__*/_jsx(\"h3\",{className:\"cuSocialDetailHeading\",children:\"CuSocial\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"container mt-2\",children:cuSocialLoading?/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col text-center\",children:\"Loading...\"})})}):/*#__PURE__*/_jsx(_Fragment,{children:cuSocial?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"cusocialHeadingSection\",children:/*#__PURE__*/_jsx(\"h1\",{children:cuSocial.title})}),/*#__PURE__*/_jsxs(\"div\",{children:[cuSocial.category.toUpperCase(),\" | \",/*#__PURE__*/_jsx(Moment,{fromNow:true,children:cuSocial.created_at})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-5\",children:cuSocial.category==='video'?/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(ReactPlayer,{url:cuSocial.youtube_url})})}):/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(LazyLoadImage,{alt:\"\",src:cuSocial.featured_image?cuSocial.media_s3_base_path+cuSocial.featured_image:publicPath+'/assets/images/newsfeed.jpeg',className:\"img-fluid\"})})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-7\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"cusocialDetailPara\",dangerouslySetInnerHTML:{__html:\"\".concat(cuSocial.long_description)}}),/*#__PURE__*/_jsx(SocialShareButtons,{data:cuSocial})]})]})]}):/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col text-center\",children:\"No data found.\"})})})})})]})});}export default CuSocialDetailPage;","map":{"version":3,"sources":["/var/www/html/cuengine-portal/src/pages/CuSocialDetailPage.js"],"names":["useEffect","useState","useParams","useNavigate","ReactPlayer","Moment","axios","LazyLoadImage","useIsAuthenticated","API_ENDPOINT","SocialShareButtons","CuSocialDetailPage","props","publicPath","process","env","PUBLIC_URL","navigate","category","id","isAuthenticated","cuSocialLoading","setCuSocialLoading","cuSocial","setCuSocial","fetchCuSocial","console","log","get","res","data","error","window","scrollTo","top","left","behavior","openLogin","document","querySelector","click","title","toUpperCase","created_at","youtube_url","featured_image","media_s3_base_path","__html","long_description"],"mappings":"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","sourcesContent":["import { useEffect, useState } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport \"react-multi-carousel/lib/styles.css\";\nimport ReactPlayer from 'react-player'\n\n\nimport Moment from 'react-moment';\nimport axios from \"axios\";\nimport { LazyLoadImage } from 'react-lazy-load-image-component';\nimport { useIsAuthenticated } from 'react-auth-kit';\n\nimport { API_ENDPOINT } from \"../common/Constants\";\nimport SocialShareButtons from \"../components/update/SocialShareButtons\";\n\n\nfunction CuSocialDetailPage(props) {\n    let publicPath = process.env.PUBLIC_URL;\n    let navigate = useNavigate();\n    let { category, id } = useParams();\n    const isAuthenticated = useIsAuthenticated();\n\n\n    const [cuSocialLoading, setCuSocialLoading] = useState(false);\n    const [cuSocial, setCuSocial] = useState(null);\n\n    async function fetchCuSocial() {\n        setCuSocialLoading(true);\n        console.log(\"id \", id);\n        try {\n            const res = await axios.get(API_ENDPOINT + \"cusocial/show/\" + id);\n            setCuSocialLoading(false);\n            console.log(\"res.data.data\", res.data.data);\n            if (res.data) {\n                setCuSocial(res.data.data);\n            }\n        } catch (error) {\n            console.error(\"error \", error);\n            setCuSocialLoading(false);\n        }\n    }\n\n    useEffect(() => {\n        window.scrollTo({ top:0,left:0,behavior:'smooth'});\n        fetchCuSocial();\n    }, []);\n\n\n    const openLogin = () => {\n        console.log(\"openLogin clicked\");\n        document.querySelector('#loginButton').click();\n    }\n\n    if (!isAuthenticated() && category === 'offers') {\n        return (\n            <>\n\n                <div className=\"container\">\n                    <div className=\"row my-5 py-5\">\n                        <div className=\"col my-5 text-center\">\n                            <h4>To view Offers <button className=\"btntheme\" onClick={() => openLogin()}>Login here</button></h4>\n                            <div><br /></div>\n                            \n                            &nbsp;\n                            <button className=\"btn btn-primary\" onClick={() => navigate(-1)}>Go back</button>\n                        </div>\n                    </div>\n                </div>\n\n\n            </>\n        );\n    }\n    \n\n    return (\n        <>\n            <div className=\"CuSocialDetailPage mt-70\">\n                <div className=\"container\">\n                    <div className=\"row align-items-center\">\n                        <div className=\"col-auto\">\n                            <button className=\"cusocialBackBtn\" onClick={() => navigate(-1)}>\n                                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" className=\"bi bi-arrow-left\" viewBox=\"0 0 16 16\">\n                                    <path fillRule=\"evenodd\" d=\"M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z\" />\n                                </svg> Back\n                            </button>\n                        </div>\n                        <div className=\"col\">\n                            <h3 className=\"cuSocialDetailHeading\">CuSocial</h3>\n                        </div>\n                    </div>\n                </div>\n\n\n                <div className=\"container mt-2\">\n\n                    {cuSocialLoading ?\n                        <>\n                            <div className=\"row\">\n                                <div className=\"col text-center\">Loading...</div>\n                            </div>\n                        </>\n                        :\n                        <>\n                            {cuSocial ?\n                                <>\n                                    <div className=\"row\">\n\n                                        <div className=\"col\">\n                                            <div className=\"cusocialHeadingSection\"><h1>{cuSocial.title}</h1></div>\n                                            <div>{cuSocial.category.toUpperCase()} | <Moment fromNow>{cuSocial.created_at}</Moment></div>\n                                        </div>\n                                    </div>\n                                    <div className=\"row\">\n                                        <div className=\"col-md-5\">\n                                            \n                                            {cuSocial.category === 'video' ?\n                                                <>\n                                                    <div>\n                                                        <ReactPlayer url={cuSocial.youtube_url} />\n                                                    </div>\n                                                </>\n                                                :\n                                                <>\n                                                    <div>\n                                                        <LazyLoadImage alt=\"\" src={cuSocial.featured_image ? cuSocial.media_s3_base_path + cuSocial.featured_image : publicPath + '/assets/images/newsfeed.jpeg'} className=\"img-fluid\" />\n                                                        {/* <ReactPlayer url={cuSocial.youtube_url} /> */}\n                                                    </div>\n                                                </>\n                                            }\n                                        </div>\n                                        <div className=\"col-md-7\">\n                                            <div className=\"cusocialDetailPara\" dangerouslySetInnerHTML={{ __html: `${cuSocial.long_description}` }} />\n                                            <SocialShareButtons data={cuSocial}/>\n                                        </div>\n                                    </div>\n                                </>\n                                :\n                                <>\n                                    <div className=\"row\">\n                                        <div className=\"col text-center\">No data found.</div>\n                                    </div>\n                                </>\n                            }\n\n                        </>\n\n                    }\n                </div>\n\n            </div>\n        </>\n    );\n}\nexport default CuSocialDetailPage;\n\n"]},"metadata":{},"sourceType":"module"}