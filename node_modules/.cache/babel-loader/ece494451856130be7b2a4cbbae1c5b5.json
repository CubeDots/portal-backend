{"ast":null,"code":"import _regeneratorRuntime from\"/var/www/html/cuengine-portal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/var/www/html/cuengine-portal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/var/www/html/cuengine-portal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import DataTable from'react-data-table-component';import{API_ENDPOINT}from\"../../common/Constants\";import{useAuthHeader}from'react-auth-kit';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";function MeetingsListPage(){var authHeader=useAuthHeader();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),meetingLoader=_useState2[0],setMeetingsLoader=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),meetings=_useState4[0],setMeetings=_useState4[1];var _useState5=useState(1),_useState6=_slicedToArray(_useState5,2),page=_useState6[0],setPage=_useState6[1];var countPerPage=20;useEffect(function(){fetchMeetingData();},[page]);function fetchMeetingData(){return _fetchMeetingData.apply(this,arguments);}function _fetchMeetingData(){_fetchMeetingData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var postData,res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setMeetingsLoader(true);postData={test:null,start_date:'2022-02-01T00:00:00.000Z',end_date:'2022-02-28T00:00:00.000Z'};_context.prev=2;setMeetingsLoader(true);_context.next=6;return axios.post(API_ENDPOINT+\"orgzit/meetinglist\",postData,{headers:{Authorization:authHeader()}});case 6:res=_context.sent;setMeetingsLoader(false);if(res.data.data)setMeetings(res.data.data);console.log(\"res meeting\",res.data);_context.next=15;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](2);//console.error(\"error \", error);\nsetMeetingsLoader(false);case 15:case\"end\":return _context.stop();}}},_callee,null,[[2,12]]);}));return _fetchMeetingData.apply(this,arguments);}var columns=React.useMemo(function(){return[{name:\"ID\",selector:\"id\",sortable:true},{name:\"CreatedDate\",selector:\"createdDate\",sortable:true},{name:\"CreatedTime\",selector:\"createdTime\",sortable:true},{name:\"MeetingWithCustomer\",selector:\"MeetingWithCustomer\",sortable:true},{name:\"MeetingLocation\",selector:\"MeetingLocation\",sortable:true},{name:\"MeetingType\",selector:\"MeetingType\",sortable:true},{name:\"MeetingTitle\",selector:\"MeetingTitle\",sortable:true}];},[]);//console.log(\"meetings =>  \",countPerPage, meetings.length,meetings);\nvar data=React.useMemo(function(){return meetings;},[]);return/*#__PURE__*/_jsx(DataTable,{title:\"Meetings List\",columns:columns,data:meetings,highlightOnHover:true,progressPending:meetingLoader,pagination:true,paginationServer:true,paginationTotalRows:meetings.length,paginationPerPage:countPerPage,paginationComponentOptions:{noRowsPerPage:true},onChangePage:function onChangePage(page){return setPage(1);}});}export default MeetingsListPage;","map":{"version":3,"sources":["/var/www/html/cuengine-portal/src/pages/dash/MeetingsListPage.js"],"names":["React","useState","useEffect","DataTable","API_ENDPOINT","useAuthHeader","axios","MeetingsListPage","authHeader","meetingLoader","setMeetingsLoader","meetings","setMeetings","page","setPage","countPerPage","fetchMeetingData","postData","test","start_date","end_date","post","headers","Authorization","res","data","console","log","columns","useMemo","name","selector","sortable","length","noRowsPerPage"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport DataTable from 'react-data-table-component';\nimport { API_ENDPOINT } from \"../../common/Constants\";\nimport { useAuthHeader } from 'react-auth-kit';\nimport axios from 'axios';\n\n\nfunction MeetingsListPage() {\n\n  const authHeader = useAuthHeader();\n  const [meetingLoader, setMeetingsLoader] = useState(false);\n  \n  const [meetings, setMeetings] = useState([]);\n  const [page, setPage] = useState(1);\n  const countPerPage = 20;\n\n  useEffect(() => {\n    fetchMeetingData();\n  }, [page]);\n\n  \n  async function fetchMeetingData() {\n    setMeetingsLoader(true);\n    let postData = {\n      test: null,\n      start_date: '2022-02-01T00:00:00.000Z',\n      end_date: '2022-02-28T00:00:00.000Z'\n    };\n    try {\n      setMeetingsLoader(true);\n      const res = await axios.post(API_ENDPOINT + \"orgzit/meetinglist\", postData, { headers: { Authorization: authHeader() } });\n      setMeetingsLoader(false);\n      if(res.data.data)\n      setMeetings(res.data.data);\n      console.log(\"res meeting\", res.data);\n    } catch (error) {\n      //console.error(\"error \", error);\n      setMeetingsLoader(false);\n    }\n\n  }\n\n  const columns = React.useMemo(() => [\n        { name: \"ID\", selector: \"id\", sortable: true },\n        { name: \"CreatedDate\", selector: \"createdDate\", sortable: true },\n        { name: \"CreatedTime\", selector: \"createdTime\", sortable: true },\n        { name: \"MeetingWithCustomer\", selector: \"MeetingWithCustomer\", sortable: true },\n        { name: \"MeetingLocation\", selector: \"MeetingLocation\", sortable: true },\n        { name: \"MeetingType\", selector: \"MeetingType\", sortable: true },\n        { name: \"MeetingTitle\", selector: \"MeetingTitle\", sortable: true }\n    \n  ], []);\n\n  //console.log(\"meetings =>  \",countPerPage, meetings.length,meetings);\n\n  const data = React.useMemo(() => meetings, []);\n  return <DataTable\n        title=\"Meetings List\"\n        columns={columns}\n        data={meetings}\n        highlightOnHover\n        progressPending={meetingLoader}\n        pagination\n        paginationServer\n        paginationTotalRows={meetings.length}\n        paginationPerPage={countPerPage}\n        paginationComponentOptions={{\n          noRowsPerPage: true\n        }}\n        onChangePage={page => setPage(1)}\n        \n      />;\n}\n\nexport default MeetingsListPage;"]},"metadata":{},"sourceType":"module"}