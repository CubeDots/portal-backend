{"ast":null,"code":"var _class, _temp;\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types'; // import {findDOMNode} from 'react-dom'\n\nvar Scroller = (_temp = _class = function (_Component) {\n  _inherits(Scroller, _Component); // timestamp of animation start, for performance tracking\n  // whether we're currently animating\n  // handle to requestAnimationFrame\n  // delta moved from start of swipe\n  // how many pages we have\n\n\n  function Scroller(props) {\n    _classCallCheck(this, Scroller);\n\n    var _this = _possibleConstructorReturn(this, _Component.call(this, props));\n\n    _this.containerEl = null;\n    _this.totalPages = 0;\n    _this.touchStartPosY = 0;\n    _this.touchMoveDelta = 0;\n    _this.isInSwipe = false;\n    _this.reqAnim = null;\n    _this.isTransitionEnabled = false;\n    _this.isAnimating = false;\n    _this.supportsPassive = false;\n    _this.animStartTs = Date.now();\n    _this.isScrolling = false;\n\n    _this.initSupportsPassive = function () {\n      var that = _this;\n\n      try {\n        var opts = Object.defineProperty({}, 'passive', {\n          get: function get() {\n            that.supportsPassive = true;\n          }\n        });\n        window.addEventListener('test', null, opts);\n      } catch (e) {}\n    };\n\n    _this.resize = function () {\n      var translateyStr = 'translatey(-' + window.innerHeight * (_this.state.curPage - 1) + 'px)';\n\n      _this.setStyles({\n        transform: translateyStr,\n        height: window.innerHeight + 'px'\n      });\n    };\n\n    _this.onWheel = function (event) {\n      if (!_this.props.isEnabled || _this.isAnimating) {\n        return;\n      }\n\n      var delta = 0;\n\n      if (event.wheelDelta) {\n        delta = event.wheelDelta / 120;\n\n        if (window.opera) {\n          delta = -delta;\n        }\n      } else if (event.detail) {\n        delta = -event.detail / 3;\n      } else if (event.deltaY) {\n        delta = -event.deltaY / 3;\n      }\n\n      if (delta) {\n        _this.handle(delta);\n      }\n    };\n\n    _this.handleSwipeEnd = function (delta) {\n      if (Math.abs(delta) > _this.props.swipeSensitivity) {\n        var duration = (1.0 - Math.abs(delta) / window.innerHeight) * _this.props.transDuration;\n\n        _this.enableTransition(duration);\n\n        if (delta < 0) {\n          if (_this.state.curPage < _this.totalPages) {\n            _this.turnTo(_this.state.curPage + 1);\n          } else {\n            _this.resetTranslateY();\n          }\n        } else {\n          /* eslint-disable no-lonely-if */\n          if (_this.state.curPage > 1) {\n            _this.turnTo(_this.state.curPage - 1);\n          } else {\n            _this.resetTranslateY();\n          }\n          /* eslint-enable no-lonely-if */\n\n        }\n      } else if (Math.abs(delta) > 10) {\n        _this.enableTransition(0.5 * _this.props.transDuration);\n\n        _this.resetTranslateY(true);\n      } else {\n        _this.resetTranslateY(false);\n      }\n    };\n\n    _this.updateTouchMove = function () {\n      var translatey = -(window.innerHeight * (_this.state.curPage - 1) - _this.touchMoveDelta);\n      var translateyStr = 'translatey(' + translatey + 'px)';\n\n      _this.setStyles({\n        transform: translateyStr\n      });\n\n      _this.reqAnim = requestAnimationFrame(_this.updateTouchMove);\n    };\n\n    _this.onTouchStart = function (e) {\n      if (!_this.props.isEnabled || _this.isAnimating || _this.isInSwipe) return;\n      _this.isInSwipe = true;\n      _this.reqAnim = requestAnimationFrame(_this.updateTouchMove);\n      _this.touchStartPosY = e.touches[0].clientY;\n\n      _this.disableTransition();\n    };\n\n    _this.onTouchMove = function (e) {\n      if (!_this.props.isEnabled || _this.isAnimating || !_this.isInSwipe) return;\n      var touchPosY = e.changedTouches[0].clientY;\n      _this.touchMoveDelta = touchPosY - _this.touchStartPosY; // const delta = touchPosY - this.touchStartPosY;\n      // const translatey = -(window.innerHeight * (this.state.curPage - 1) - delta);\n      // const translateyStr = `translatey(${translatey}px)`;\n      // this.setStyles({transform: translateyStr})\n    };\n\n    _this.onTouchEnd = function (e) {\n      cancelAnimationFrame(_this.reqAnim);\n      _this.touchMoveDelta = 0;\n      if (!_this.props.isEnabled || _this.isAnimating || !_this.isInSwipe) return;\n      _this.isInSwipe = false;\n      var touchEndY = e.changedTouches[0].clientY;\n      var delta = touchEndY - _this.touchStartPosY;\n\n      _this.handleSwipeEnd(delta);\n    };\n\n    _this.setStyles = function (style) {\n      // const container = this.containerEl;\n      // Object.keys(style).forEach(function (key) {\n      //   container.style[key] = style[key]\n      // })\n      Object.keys(style).forEach(function (key) {\n        _this.containerEl.style[key] = style[key];\n      });\n    };\n\n    _this.enableTransition = function () {\n      var duration = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _this.props.transDuration;\n\n      _this.setStyles({\n        transition: 'transform ' + duration + 's ' + _this.props.easing\n      });\n\n      _this.isTransitionEnabled = true;\n    };\n\n    _this.disableTransition = function () {\n      _this.setStyles({\n        transition: 'transform 0s'\n      });\n\n      _this.isTransitionEnabled = false;\n    };\n\n    _this.setIsAnimating = function (is) {\n      if (is) {\n        _this.isAnimating = true; // this.animStartTs = Date.now()\n        // console.log('Animating start');\n      } else {\n        _this.isAnimating = false; // console.log('Animating End after', (Date.now()-this.animStartTs))\n      }\n    };\n\n    _this.handleTransitionEnd = function (e) {\n      _this.setIsAnimating(false);\n\n      if (_this.isScrolling) {\n        _this.isScrolling = false;\n\n        _this.props.onAfterScroll(_this.state.curPage);\n      }\n    };\n\n    _this.totalPages = _this.props.children.length;\n    _this.state = {\n      curPage: _this.props.initialPage\n    };\n\n    _this.initSupportsPassive();\n\n    return _this;\n  } // whether the browser supports passive events\n  // whether we're currently in a swipe\n  // Y position of touch start\n  // the container element\n\n\n  Scroller.prototype.componentDidMount = function componentDidMount() {\n    // this.containerEl = this.refs.container\n    // this.containerEl = findDOMNode(this.refs['container']);\n    // console.log('Mount', this)\n    this.resize();\n    this.enableTransition();\n    this.addWheelEvent();\n    this.addTouchEvents();\n    window.addEventListener('resize', this.resize, false);\n    document.addEventListener('resize', this.resize, false);\n    window.fpTurnTo = document.fpTurnTo = this.turnTo.bind(this);\n  };\n\n  Scroller.prototype.componentWillUnmount = function componentWillUnmount() {\n    // cleanup\n    this.removeWheelEvent();\n    this.removeTouchEvents();\n    window.removeEventListener('resize', this.resize, false);\n    document.removeEventListener('resize', this.resize, false);\n    delete window.fpTurnTo;\n    delete document.fpTurnTo;\n  };\n\n  Scroller.prototype.componentDidUpdate = function componentDidUpdate(prevProps, prevState) {\n    if (this.props.children.length !== this.totalPages) {\n      this.totalPages = this.props.children.length;\n\n      if (this.state.curPage > this.totalPages) {\n        this.turnTo(this.totalPages);\n      }\n    }\n  }; //--------------\n  // Wheel stuff\n  //--------------\n\n\n  Scroller.prototype.handle = function handle(delta) {\n    if (delta < 0) {\n      if (this.state.curPage < this.totalPages) {\n        this.enableTransition();\n        this.turnTo(this.state.curPage + 1);\n      }\n    } else {\n      /* eslint-disable no-lonely-if */\n      if (this.state.curPage > 1) {\n        this.enableTransition();\n        this.turnTo(this.state.curPage - 1);\n      }\n      /* eslint-enable no-lonely-if */\n\n    }\n  };\n\n  Scroller.prototype.removeWheelEvent = function removeWheelEvent() {\n    window.removeEventListener('wheel', this.onWheel, this.supportsPassive ? {\n      passive: true\n    } : false);\n  };\n\n  Scroller.prototype.addWheelEvent = function addWheelEvent() {\n    window.addEventListener('wheel', this.onWheel, this.supportsPassive ? {\n      passive: true\n    } : false);\n  }; //----------------\n  // Touch stuff\n  //----------------\n\n\n  Scroller.prototype.resetTranslateY = function resetTranslateY(animate) {\n    var translatey = -(window.innerHeight * (this.state.curPage - 1));\n    var translateyStr = 'translatey(' + translatey + 'px)';\n    if (animate) this.setIsAnimating(true);\n    this.setStyles({\n      transform: translateyStr\n    });\n  };\n\n  Scroller.prototype.addTouchEvents = function addTouchEvents() {\n    document.addEventListener('touchstart', this.onTouchStart, this.supportsPassive ? {\n      passive: true\n    } : false);\n    document.addEventListener('touchmove', this.onTouchMove, this.supportsPassive ? {\n      passive: true\n    } : false);\n    document.addEventListener('touchend', this.onTouchEnd, this.supportsPassive ? {\n      passive: true\n    } : false);\n  };\n\n  Scroller.prototype.removeTouchEvents = function removeTouchEvents() {\n    document.removeEventListener('touchstart', this.onTouchStart, this.supportsPassive ? {\n      passive: true\n    } : false);\n    document.removeEventListener('touchmove', this.onTouchMove, this.supportsPassive ? {\n      passive: true\n    } : false);\n    document.removeEventListener('touchend', this.onTouchEnd, this.supportsPassive ? {\n      passive: true\n    } : false);\n  }; // assign styles to element\n\n\n  Scroller.prototype.turnTo = function turnTo(num) {\n    if (this.state.curPage === num) return;\n    this.isScrolling = true;\n    this.props.onBeforeScroll(this.state.curPage, num);\n    var translateyStr = 'translatey(-' + window.innerHeight * (num - 1) + 'px)';\n    this.setState({\n      curPage: num\n    });\n    if (this.isTransitionEnabled) this.setIsAnimating(true);\n    this.setStyles({\n      transform: translateyStr\n    }); // setTimeout(() => {\n    //   this.setIsAnimating(false);\n    // }, (TRANS_DURATION*1000 + 50));\n  };\n\n  Scroller.prototype.render = function render() {\n    var _this2 = this;\n\n    return React.createElement('div', {\n      onTransitionEnd: this.handleTransitionEnd,\n      ref: function ref(c) {\n        _this2.containerEl = c;\n      },\n      style: {\n        width: '100%',\n        height: '100%',\n        position: 'fixed'\n      }\n    }, this.props.children);\n  };\n\n  return Scroller;\n}(Component), _class.defaultProps = {\n  children: [],\n  easing: 'cubic-bezier(0.19, 1, 0.22, 1)',\n  initialPage: 1,\n  // 1-based !\n  isEnabled: true,\n  onAfterScroll: function onAfterScroll() {},\n  onBeforeScroll: function onBeforeScroll() {},\n  swipeSensitivity: 100,\n  // how much Y movement there should be to be considered a scroll\n  transDuration: 0.5 // seconds\n\n}, _temp);\nScroller.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  children: PropTypes.node,\n  easing: PropTypes.string,\n  initialPage: PropTypes.number,\n  isEnabled: PropTypes.bool,\n  onAfterScroll: PropTypes.func,\n  onBeforeScroll: PropTypes.func,\n  swipeSensitivity: PropTypes.number,\n  transDuration: PropTypes.number // seconds\n\n} : {};\nexport default Scroller;","map":{"version":3,"sources":["/var/www/html/cuengine-portal/node_modules/react-fully-scrolled/es/Scroller/Scroller.js"],"names":["_class","_temp","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","React","Component","PropTypes","Scroller","_Component","props","_this","containerEl","totalPages","touchStartPosY","touchMoveDelta","isInSwipe","reqAnim","isTransitionEnabled","isAnimating","supportsPassive","animStartTs","Date","now","isScrolling","initSupportsPassive","that","opts","defineProperty","get","window","addEventListener","e","resize","translateyStr","innerHeight","state","curPage","setStyles","transform","height","onWheel","event","isEnabled","delta","wheelDelta","opera","detail","deltaY","handle","handleSwipeEnd","Math","abs","swipeSensitivity","duration","transDuration","enableTransition","turnTo","resetTranslateY","updateTouchMove","translatey","requestAnimationFrame","onTouchStart","touches","clientY","disableTransition","onTouchMove","touchPosY","changedTouches","onTouchEnd","cancelAnimationFrame","touchEndY","style","keys","forEach","key","arguments","length","undefined","transition","easing","setIsAnimating","is","handleTransitionEnd","onAfterScroll","children","initialPage","componentDidMount","addWheelEvent","addTouchEvents","document","fpTurnTo","bind","componentWillUnmount","removeWheelEvent","removeTouchEvents","removeEventListener","componentDidUpdate","prevProps","prevState","passive","animate","num","onBeforeScroll","setState","render","_this2","createElement","onTransitionEnd","ref","c","width","position","defaultProps","propTypes","process","env","NODE_ENV","node","string","number","bool","func"],"mappings":"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","sourcesContent":["var _class, _temp;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n// import {findDOMNode} from 'react-dom'\n\nvar Scroller = (_temp = _class = function (_Component) {\n  _inherits(Scroller, _Component);\n\n  // timestamp of animation start, for performance tracking\n\n  // whether we're currently animating\n  // handle to requestAnimationFrame\n\n  // delta moved from start of swipe\n  // how many pages we have\n\n  function Scroller(props) {\n    _classCallCheck(this, Scroller);\n\n    var _this = _possibleConstructorReturn(this, _Component.call(this, props));\n\n    _this.containerEl = null;\n    _this.totalPages = 0;\n    _this.touchStartPosY = 0;\n    _this.touchMoveDelta = 0;\n    _this.isInSwipe = false;\n    _this.reqAnim = null;\n    _this.isTransitionEnabled = false;\n    _this.isAnimating = false;\n    _this.supportsPassive = false;\n    _this.animStartTs = Date.now();\n    _this.isScrolling = false;\n\n    _this.initSupportsPassive = function () {\n      var that = _this;\n      try {\n        var opts = Object.defineProperty({}, 'passive', {\n          get: function get() {\n            that.supportsPassive = true;\n          }\n        });\n        window.addEventListener('test', null, opts);\n      } catch (e) {}\n    };\n\n    _this.resize = function () {\n      var translateyStr = 'translatey(-' + window.innerHeight * (_this.state.curPage - 1) + 'px)';\n      _this.setStyles({\n        transform: translateyStr,\n        height: window.innerHeight + 'px'\n      });\n    };\n\n    _this.onWheel = function (event) {\n      if (!_this.props.isEnabled || _this.isAnimating) {\n        return;\n      }\n\n      var delta = 0;\n\n      if (event.wheelDelta) {\n        delta = event.wheelDelta / 120;\n        if (window.opera) {\n          delta = -delta;\n        }\n      } else if (event.detail) {\n        delta = -event.detail / 3;\n      } else if (event.deltaY) {\n        delta = -event.deltaY / 3;\n      }\n\n      if (delta) {\n        _this.handle(delta);\n      }\n    };\n\n    _this.handleSwipeEnd = function (delta) {\n      if (Math.abs(delta) > _this.props.swipeSensitivity) {\n        var duration = (1.0 - Math.abs(delta) / window.innerHeight) * _this.props.transDuration;\n\n        _this.enableTransition(duration);\n        if (delta < 0) {\n          if (_this.state.curPage < _this.totalPages) {\n            _this.turnTo(_this.state.curPage + 1);\n          } else {\n            _this.resetTranslateY();\n          }\n        } else {\n          /* eslint-disable no-lonely-if */\n          if (_this.state.curPage > 1) {\n            _this.turnTo(_this.state.curPage - 1);\n          } else {\n            _this.resetTranslateY();\n          }\n          /* eslint-enable no-lonely-if */\n        }\n      } else if (Math.abs(delta) > 10) {\n        _this.enableTransition(0.5 * _this.props.transDuration);\n        _this.resetTranslateY(true);\n      } else {\n        _this.resetTranslateY(false);\n      }\n    };\n\n    _this.updateTouchMove = function () {\n      var translatey = -(window.innerHeight * (_this.state.curPage - 1) - _this.touchMoveDelta);\n      var translateyStr = 'translatey(' + translatey + 'px)';\n\n      _this.setStyles({ transform: translateyStr });\n      _this.reqAnim = requestAnimationFrame(_this.updateTouchMove);\n    };\n\n    _this.onTouchStart = function (e) {\n      if (!_this.props.isEnabled || _this.isAnimating || _this.isInSwipe) return;\n\n      _this.isInSwipe = true;\n      _this.reqAnim = requestAnimationFrame(_this.updateTouchMove);\n\n      _this.touchStartPosY = e.touches[0].clientY;\n      _this.disableTransition();\n    };\n\n    _this.onTouchMove = function (e) {\n      if (!_this.props.isEnabled || _this.isAnimating || !_this.isInSwipe) return;\n\n      var touchPosY = e.changedTouches[0].clientY;\n      _this.touchMoveDelta = touchPosY - _this.touchStartPosY;\n\n      // const delta = touchPosY - this.touchStartPosY;\n\n      // const translatey = -(window.innerHeight * (this.state.curPage - 1) - delta);\n      // const translateyStr = `translatey(${translatey}px)`;\n\n      // this.setStyles({transform: translateyStr})\n    };\n\n    _this.onTouchEnd = function (e) {\n      cancelAnimationFrame(_this.reqAnim);\n      _this.touchMoveDelta = 0;\n\n      if (!_this.props.isEnabled || _this.isAnimating || !_this.isInSwipe) return;\n\n      _this.isInSwipe = false;\n\n      var touchEndY = e.changedTouches[0].clientY;\n      var delta = touchEndY - _this.touchStartPosY;\n\n      _this.handleSwipeEnd(delta);\n    };\n\n    _this.setStyles = function (style) {\n      // const container = this.containerEl;\n      // Object.keys(style).forEach(function (key) {\n      //   container.style[key] = style[key]\n      // })\n      Object.keys(style).forEach(function (key) {\n        _this.containerEl.style[key] = style[key];\n      });\n    };\n\n    _this.enableTransition = function () {\n      var duration = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _this.props.transDuration;\n\n      _this.setStyles({ transition: 'transform ' + duration + 's ' + _this.props.easing });\n      _this.isTransitionEnabled = true;\n    };\n\n    _this.disableTransition = function () {\n      _this.setStyles({ transition: 'transform 0s' });\n      _this.isTransitionEnabled = false;\n    };\n\n    _this.setIsAnimating = function (is) {\n      if (is) {\n        _this.isAnimating = true;\n        // this.animStartTs = Date.now()\n        // console.log('Animating start');\n      } else {\n        _this.isAnimating = false;\n        // console.log('Animating End after', (Date.now()-this.animStartTs))\n      }\n    };\n\n    _this.handleTransitionEnd = function (e) {\n      _this.setIsAnimating(false);\n      if (_this.isScrolling) {\n        _this.isScrolling = false;\n        _this.props.onAfterScroll(_this.state.curPage);\n      }\n    };\n\n    _this.totalPages = _this.props.children.length;\n\n    _this.state = {\n      curPage: _this.props.initialPage\n    };\n    _this.initSupportsPassive();\n    return _this;\n  } // whether the browser supports passive events\n  // whether we're currently in a swipe\n  // Y position of touch start\n  // the container element\n\n\n  Scroller.prototype.componentDidMount = function componentDidMount() {\n    // this.containerEl = this.refs.container\n    // this.containerEl = findDOMNode(this.refs['container']);\n    // console.log('Mount', this)\n    this.resize();\n\n    this.enableTransition();\n\n    this.addWheelEvent();\n    this.addTouchEvents();\n    window.addEventListener('resize', this.resize, false);\n    document.addEventListener('resize', this.resize, false);\n\n    window.fpTurnTo = document.fpTurnTo = this.turnTo.bind(this);\n  };\n\n  Scroller.prototype.componentWillUnmount = function componentWillUnmount() {\n    // cleanup\n    this.removeWheelEvent();\n    this.removeTouchEvents();\n    window.removeEventListener('resize', this.resize, false);\n    document.removeEventListener('resize', this.resize, false);\n\n    delete window.fpTurnTo;\n    delete document.fpTurnTo;\n  };\n\n  Scroller.prototype.componentDidUpdate = function componentDidUpdate(prevProps, prevState) {\n    if (this.props.children.length !== this.totalPages) {\n      this.totalPages = this.props.children.length;\n      if (this.state.curPage > this.totalPages) {\n        this.turnTo(this.totalPages);\n      }\n    }\n  };\n\n  //--------------\n  // Wheel stuff\n  //--------------\n\n  Scroller.prototype.handle = function handle(delta) {\n    if (delta < 0) {\n      if (this.state.curPage < this.totalPages) {\n        this.enableTransition();\n        this.turnTo(this.state.curPage + 1);\n      }\n    } else {\n      /* eslint-disable no-lonely-if */\n      if (this.state.curPage > 1) {\n        this.enableTransition();\n        this.turnTo(this.state.curPage - 1);\n      }\n      /* eslint-enable no-lonely-if */\n    }\n  };\n\n  Scroller.prototype.removeWheelEvent = function removeWheelEvent() {\n    window.removeEventListener('wheel', this.onWheel, this.supportsPassive ? { passive: true } : false);\n  };\n\n  Scroller.prototype.addWheelEvent = function addWheelEvent() {\n    window.addEventListener('wheel', this.onWheel, this.supportsPassive ? { passive: true } : false);\n  };\n\n  //----------------\n  // Touch stuff\n  //----------------\n\n  Scroller.prototype.resetTranslateY = function resetTranslateY(animate) {\n    var translatey = -(window.innerHeight * (this.state.curPage - 1));\n    var translateyStr = 'translatey(' + translatey + 'px)';\n\n    if (animate) this.setIsAnimating(true);\n    this.setStyles({ transform: translateyStr });\n  };\n\n  Scroller.prototype.addTouchEvents = function addTouchEvents() {\n    document.addEventListener('touchstart', this.onTouchStart, this.supportsPassive ? { passive: true } : false);\n    document.addEventListener('touchmove', this.onTouchMove, this.supportsPassive ? { passive: true } : false);\n    document.addEventListener('touchend', this.onTouchEnd, this.supportsPassive ? { passive: true } : false);\n  };\n\n  Scroller.prototype.removeTouchEvents = function removeTouchEvents() {\n    document.removeEventListener('touchstart', this.onTouchStart, this.supportsPassive ? { passive: true } : false);\n    document.removeEventListener('touchmove', this.onTouchMove, this.supportsPassive ? { passive: true } : false);\n    document.removeEventListener('touchend', this.onTouchEnd, this.supportsPassive ? { passive: true } : false);\n  };\n\n  // assign styles to element\n\n\n  Scroller.prototype.turnTo = function turnTo(num) {\n    if (this.state.curPage === num) return;\n    this.isScrolling = true;\n    this.props.onBeforeScroll(this.state.curPage, num);\n    var translateyStr = 'translatey(-' + window.innerHeight * (num - 1) + 'px)';\n\n    this.setState({\n      curPage: num\n    });\n\n    if (this.isTransitionEnabled) this.setIsAnimating(true);\n    this.setStyles({ transform: translateyStr });\n    // setTimeout(() => {\n    //   this.setIsAnimating(false);\n    // }, (TRANS_DURATION*1000 + 50));\n  };\n\n  Scroller.prototype.render = function render() {\n    var _this2 = this;\n\n    return React.createElement(\n      'div',\n      {\n        onTransitionEnd: this.handleTransitionEnd,\n        ref: function ref(c) {\n          _this2.containerEl = c;\n        },\n        style: {\n          width: '100%',\n          height: '100%',\n          position: 'fixed'\n        }\n      },\n      this.props.children\n    );\n  };\n\n  return Scroller;\n}(Component), _class.defaultProps = {\n  children: [],\n  easing: 'cubic-bezier(0.19, 1, 0.22, 1)',\n  initialPage: 1, // 1-based !\n  isEnabled: true,\n  onAfterScroll: function onAfterScroll() {},\n  onBeforeScroll: function onBeforeScroll() {},\n  swipeSensitivity: 100, // how much Y movement there should be to be considered a scroll\n  transDuration: 0.5 // seconds\n}, _temp);\nScroller.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  children: PropTypes.node,\n  easing: PropTypes.string,\n  initialPage: PropTypes.number,\n  isEnabled: PropTypes.bool,\n  onAfterScroll: PropTypes.func,\n  onBeforeScroll: PropTypes.func,\n  swipeSensitivity: PropTypes.number,\n  transDuration: PropTypes.number // seconds\n} : {};\n\n\nexport default Scroller;"]},"metadata":{},"sourceType":"module"}