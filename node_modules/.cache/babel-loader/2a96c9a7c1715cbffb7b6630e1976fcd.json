{"ast":null,"code":"import _regeneratorRuntime from\"/var/www/html/cuengine-portal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/var/www/html/cuengine-portal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/var/www/html/cuengine-portal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useRef,useState}from'react';import\"react-multi-carousel/lib/styles.css\";import{useParams,useNavigate,Link}from'react-router-dom';import{LazyLoadImage}from'react-lazy-load-image-component';import{Player,ControlBar,BigPlayButton}from'video-react';import Moment from'react-moment';import axios from\"axios\";import\"video-react/dist/video-react.css\";import{useIsAuthenticated}from'react-auth-kit';import UnauthenticatedPage from\"../errors/Unauthorized\";import{API_ENDPOINT}from\"../common/Constants\";import CharactersLimitComponent from\"../components/CharactersLimitComponent\";import VideoPopUp from\"../components/update/VideoPopUp\";import SocialShareButtons from\"../components/update/SocialShareButtons\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function CuSocialBlogPage(props){var publicPath=process.env.PUBLIC_URL;var category='blog';//useParams();\nvar navigate=useNavigate();var isAuthenticated=useIsAuthenticated();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isVideoModalShow=_useState2[0],setIsVideoModalShow=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),activeVideoData=_useState4[0],setActiveVideoData=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),cuSocialsLoading=_useState6[0],setCuSocialsLoading=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),cuSocials=_useState8[0],setCuSocials=_useState8[1];var showVideoModal=function showVideoModal(r){console.log(\"showVideoModal clicked\");setActiveVideoData(r);setIsVideoModalShow(true);};var closeVideoModal=function closeVideoModal(){console.log(\"closeVideoModal trigger\");setIsVideoModalShow(false);setActiveVideoData(null);};function fetchUpdates(_x){return _fetchUpdates.apply(this,arguments);}function _fetchUpdates(){_fetchUpdates=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(category){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setCuSocialsLoading(true);console.log('category ',category);_context.prev=2;_context.next=5;return axios.get(API_ENDPOINT+\"cusocial/latestByCategory/\"+category);case 5:res=_context.sent;if(res.data.data){setCuSocialsLoading(false);setCuSocials(res.data.data);}_context.next=13;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](2);console.error(\"error \",_context.t0);setCuSocialsLoading(false);case 13:case\"end\":return _context.stop();}}},_callee,null,[[2,9]]);}));return _fetchUpdates.apply(this,arguments);}useEffect(function(){window.scrollTo({top:0,left:0,behavior:'smooth'});fetchUpdates(category);},[category]);return/*#__PURE__*/_jsx(\"div\",{className:\"mt-70\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"CategoryUpdatesSection\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"cusocialBackBtn\",onClick:function onClick(){return navigate(-1);},children:[/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:\"16\",height:\"16\",fill:\"currentColor\",className:\"bi bi-arrow-left\",viewBox:\"0 0 16 16\",children:/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z\"})}),\" Back\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"bannerAboutUs\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"CuSocial\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"categoryHeading\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"\",children:\"Blog\"}),/*#__PURE__*/_jsx(\"div\",{children:cuSocialsLoading?/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:\"Loading...\"})}):/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{children:[cuSocials.length>0?/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:cuSocials.map(function(row,index){return/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4 col-sm-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:'text-light categoryBox '+category,children:[/*#__PURE__*/_jsx(\"div\",{className:\"categoryBoxImage\",children:/*#__PURE__*/_jsx(Link,{to:\"/cusocials/\".concat(category,\"/\").concat(row.slug),children:category==='video'?/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){return showVideoModal(row);},children:/*#__PURE__*/_jsxs(Player,{fluid:true,poster:publicPath+\"/assets/images/home/01.jpg\",playsInline:true,src:row.youtube_url,children:[/*#__PURE__*/_jsx(BigPlayButton,{position:\"center\"}),/*#__PURE__*/_jsx(ControlBar,{disableCompletely:true})]})}):/*#__PURE__*/_jsx(LazyLoadImage,{alt:\"\",src:row.media_s3_base_path+row.featured_image,className:\"img-fluid w-100\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"categoryComponentsDetails\",children:[/*#__PURE__*/_jsx(\"h5\",{children:/*#__PURE__*/_jsx(Link,{to:\"/cusocials/\".concat(category,\"/\").concat(row.slug),children:/*#__PURE__*/_jsx(CharactersLimitComponent,{isShowbutton:false,content:row.title,limit:40})})}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(CharactersLimitComponent,{isShowbutton:false,content:row.medium_description,limit:100})}),/*#__PURE__*/_jsx(Link,{to:\"/cusocials/\".concat(category,\"/\").concat(row.slug),className:\"blogBtn\",children:\"Read More\"}),/*#__PURE__*/_jsx(SocialShareButtons,{data:row})]})]})},row.id);})})}):/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:\"No data available.\"})}),/*#__PURE__*/_jsx(VideoPopUp,{show:isVideoModalShow,onHide:closeVideoModal,data:activeVideoData})]})})})]})})})})})]})});}export default CuSocialBlogPage;","map":{"version":3,"sources":["/var/www/html/cuengine-portal/src/pages/CuSocialBlogPage.js"],"names":["React","useEffect","useRef","useState","useParams","useNavigate","Link","LazyLoadImage","Player","ControlBar","BigPlayButton","Moment","axios","useIsAuthenticated","UnauthenticatedPage","API_ENDPOINT","CharactersLimitComponent","VideoPopUp","SocialShareButtons","CuSocialBlogPage","props","publicPath","process","env","PUBLIC_URL","category","navigate","isAuthenticated","isVideoModalShow","setIsVideoModalShow","activeVideoData","setActiveVideoData","cuSocialsLoading","setCuSocialsLoading","cuSocials","setCuSocials","showVideoModal","r","console","log","closeVideoModal","fetchUpdates","get","res","data","error","window","scrollTo","top","left","behavior","length","map","row","index","slug","youtube_url","media_s3_base_path","featured_image","title","medium_description","id"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\nimport \"react-multi-carousel/lib/styles.css\";\nimport { useParams, useNavigate, Link } from 'react-router-dom';\nimport { LazyLoadImage } from 'react-lazy-load-image-component';\nimport { Player, ControlBar, BigPlayButton } from 'video-react';\n\nimport Moment from 'react-moment';\nimport axios from \"axios\";\nimport \"video-react/dist/video-react.css\";\nimport { useIsAuthenticated } from 'react-auth-kit';\n\nimport UnauthenticatedPage from \"../errors/Unauthorized\";\nimport { API_ENDPOINT } from \"../common/Constants\";\nimport CharactersLimitComponent from \"../components/CharactersLimitComponent\";\nimport VideoPopUp from \"../components/update/VideoPopUp\";\nimport SocialShareButtons from \"../components/update/SocialShareButtons\";\n\n\nfunction CuSocialBlogPage(props) {\n    let publicPath = process.env.PUBLIC_URL;\n    let category  = 'blog'; //useParams();\n    const navigate = useNavigate();\n    const isAuthenticated = useIsAuthenticated();\n\n\n    const [isVideoModalShow, setIsVideoModalShow] = useState(false);\n    const [activeVideoData, setActiveVideoData] = useState(null);\n\n\n    const [cuSocialsLoading, setCuSocialsLoading] = useState(false);\n    const [cuSocials, setCuSocials] = useState([]);\n\n    const showVideoModal = (r) => {\n        console.log(\"showVideoModal clicked\");\n        setActiveVideoData(r);\n        setIsVideoModalShow(true);\n    }\n\n    const closeVideoModal = () => {\n        console.log(\"closeVideoModal trigger\");\n        setIsVideoModalShow(false);\n        setActiveVideoData(null);\n    }\n\n    async function fetchUpdates(category) {\n        setCuSocialsLoading(true);\n        console.log('category ', category);\n        try {\n            const res = await axios.get(API_ENDPOINT + \"cusocial/latestByCategory/\" + category);\n            if (res.data.data) {\n                setCuSocialsLoading(false);\n                setCuSocials(res.data.data);\n            }\n        } catch (error) {\n            console.error(\"error \", error);\n            setCuSocialsLoading(false);\n        }\n    }\n\n    useEffect(() => {\n        window.scrollTo({ top:0,left:0,behavior:'smooth'});\n        fetchUpdates(category);\n    }, [category]);\n\n\n\n    return (\n        <div className='mt-70'>\n            <div className='CategoryUpdatesSection'>\n\n                <div className='container'>\n                    <button className=\"cusocialBackBtn\" onClick={() => navigate(-1)}>\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" className=\"bi bi-arrow-left\" viewBox=\"0 0 16 16\">\n                            <path fillRule=\"evenodd\" d=\"M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z\" />\n                        </svg> Back\n                    </button>\n                    <div className=\"bannerAboutUs\">\n                        <h1>CuSocial</h1>\n                    </div>\n\n                </div>\n                <div className=\"container\">\n                    <div className=\"row\">\n                        <div className=\"col-md-12\">\n                            <div className=''>\n                                <div className=\"categoryHeading\">\n                                    <h3 className=\"\">Blog</h3>\n                                   \n                                    <div>\n                                        {cuSocialsLoading ?\n                                            <>\n                                                <div className=\"text-center\">Loading...</div>\n                                            </>\n                                            :\n                                            <>\n                                                <div>\n                                                    {cuSocials.length > 0 ?\n                                                        <>\n                                                            <div className=\"row\">\n                                                                {cuSocials.map((row, index) =>\n                                                                    <div className=\"col-md-4 col-sm-6\" key={row.id}>\n                                                                        <div className={'text-light categoryBox ' + category}>\n                                                                            <div className=\"categoryBoxImage\">\n                                                                                <Link to={`/cusocials/${category}/${row.slug}`}>\n                                                                                    {category === 'video' ?\n                                                                                        <div onClick={() => showVideoModal(row)}>\n                                                                                            <Player fluid={true} poster={publicPath + \"/assets/images/home/01.jpg\"}\n                                                                                                playsInline\n                                                                                                src={row.youtube_url}>\n                                                                                                <BigPlayButton position=\"center\" />\n                                                                                                <ControlBar disableCompletely={true} />\n                                                                                            </Player>\n                                                                                        </div>\n                                                                                        :\n                                                                                        <LazyLoadImage alt=\"\" src={row.media_s3_base_path + row.featured_image} className=\"img-fluid w-100\" />\n                                                                                    }\n                                                                                </Link>\n                                                                            </div>\n                                                                            <div className=\"categoryComponentsDetails\">\n                                                                                <h5>\n                                                                                    <Link to={`/cusocials/${category}/${row.slug}`}><CharactersLimitComponent isShowbutton={false} content={row.title} limit={40} /></Link>\n                                                                                </h5>\n                                                                                <p><CharactersLimitComponent isShowbutton={false} content={row.medium_description} limit={100} /></p>\n\n                                                                                <Link to={`/cusocials/${category}/${row.slug}`} className=\"blogBtn\">Read More</Link>\n\n                                                                                <SocialShareButtons data={row} />\n\n                                                                            </div>\n                                                                        </div>\n                                                                    </div>\n                                                                )}\n                                                            </div>\n                                                        </>\n                                                        :\n                                                        <><div className=\"text-center\">No data available.</div></>\n                                                    }\n                                                    <VideoPopUp show={isVideoModalShow} onHide={closeVideoModal} data={activeVideoData} />\n                                                </div>\n                                            </>\n                                        }\n\n\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n\n                    </div>\n                </div>\n\n            </div>\n        </div>\n    );\n}\nexport default CuSocialBlogPage;\n\n"]},"metadata":{},"sourceType":"module"}