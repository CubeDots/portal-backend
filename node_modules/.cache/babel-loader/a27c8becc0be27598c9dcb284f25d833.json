{"ast":null,"code":"import _regeneratorRuntime from\"/var/www/html/cuengine-portal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/var/www/html/cuengine-portal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/var/www/html/cuengine-portal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import axios from\"axios\";import{useAuthHeader}from'react-auth-kit';import'react-calendar/dist/Calendar.css';import{API_ENDPOINT}from\"../../common/Constants\";import moment from'moment';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function NotificationDataList(){var authHeader=useAuthHeader();var startOfMonth=moment().startOf('month').format('YYYY-MM-DD');var endOfMonth=moment().endOf('month').format('YYYY-MM-DD');var _useState=useState([new Date(startOfMonth),new Date(endOfMonth)]),_useState2=_slicedToArray(_useState,2),dateRange=_useState2[0],onChangeDateRange=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),dashboardSalesStatsLoader=_useState4[0],setDashboardSalesStatsLoader=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),dashboardSalesStats=_useState6[0],setDashboardSalesStats=_useState6[1];var _useState7=useState('future_today'),_useState8=_slicedToArray(_useState7,2),dropdownValue=_useState8[0],setDropdownValue=_useState8[1];useEffect(function(){//console.log(\"dateRange\",dateRange);\nif(dropdownValue){fetchDashboardAppointmentStatsData();}},[dropdownValue]);var _React$useState=React.useState([{lable:\"Today\",value:\"today\"},{lable:\"Tomorrow\",value:\"tomorrow\"},{lable:\"Yesterday\",value:\"yesterday\"},{lable:\"This Week\",value:\"thisweek\"},{lable:\"Next Week\",value:\"nextweek\"},{lable:\"Last Week\",value:\"lastweek\"},{lable:\"This Month\",value:\"thismonth\"},{lable:\"Next Month\",value:\"nextmonth\"},{lable:\"Last Month\",value:\"lastmonth\"}]),_React$useState2=_slicedToArray(_React$useState,1),fitems=_React$useState2[0];var handleChange=function handleChange(event){//console.log(event.target.value);\nsetDropdownValue(event.target.value);};/* SALES LIST */function fetchDashboardAppointmentStatsData(){return _fetchDashboardAppointmentStatsData.apply(this,arguments);}function _fetchDashboardAppointmentStatsData(){_fetchDashboardAppointmentStatsData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var postData,res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setDashboardSalesStatsLoader(true);//console.log(\"dateRange \",dateRange, dropdownValue );\npostData={start_date:dateRange[0],end_date:dateRange[1],ftype:dropdownValue};_context.prev=2;_context.next=5;return axios.post(API_ENDPOINT+\"orgzit/notifications\",postData,{headers:{Authorization:authHeader()}});case 5:res=_context.sent;setDashboardSalesStatsLoader(false);setDashboardSalesStats(res.data.data);_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](2);//console.error(\"error \", error);\nsetDashboardSalesStatsLoader(false);case 13:case\"end\":return _context.stop();}}},_callee,null,[[2,10]]);}));return _fetchDashboardAppointmentStatsData.apply(this,arguments);}return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"appoinmentAgentContent\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row align-items-baseline\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-6\",children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h6\",{children:\"Notifications\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-6 text-end\",children:/*#__PURE__*/_jsx(\"select\",{name:\"dfilter\",id:\"dfilter\",onChange:handleChange,children:fitems.map(function(item){return/*#__PURE__*/_jsxs(\"option\",{value:item.value,children:[\" \",item.lable,\" \"]},item.value);})})})]}),dashboardSalesStatsLoader?/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:\"Loading...\"}):null,dashboardSalesStats.length>0&&dashboardSalesStats.map(function(row,index){return/*#__PURE__*/_jsx(\"div\",{className:\"notificationBox\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"small\",{children:row.source}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsxs(\"small\",{children:[row.createdDate,\" \",row.createdTime]})})]})})});})]})});}export default NotificationDataList;","map":{"version":3,"sources":["/var/www/html/cuengine-portal/src/components/dashboard/NotificationDataList.js"],"names":["React","useState","useEffect","axios","useAuthHeader","API_ENDPOINT","moment","NotificationDataList","authHeader","startOfMonth","startOf","format","endOfMonth","endOf","Date","dateRange","onChangeDateRange","dashboardSalesStatsLoader","setDashboardSalesStatsLoader","dashboardSalesStats","setDashboardSalesStats","dropdownValue","setDropdownValue","fetchDashboardAppointmentStatsData","lable","value","fitems","handleChange","event","target","postData","start_date","end_date","ftype","post","headers","Authorization","res","data","map","item","length","row","index","source","createdDate","createdTime"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useAuthHeader } from 'react-auth-kit';\r\nimport 'react-calendar/dist/Calendar.css';\r\nimport { API_ENDPOINT } from \"../../common/Constants\";\r\nimport moment from 'moment';\r\n\r\nfunction NotificationDataList() {\r\n    const authHeader = useAuthHeader();\r\n    const startOfMonth = moment().startOf('month').format('YYYY-MM-DD');\r\n    const endOfMonth = moment().endOf('month').format('YYYY-MM-DD');\r\n    const [dateRange, onChangeDateRange] = useState([new Date(startOfMonth), new Date(endOfMonth)]);\r\n    const [dashboardSalesStatsLoader, setDashboardSalesStatsLoader] = useState(false);\r\n    const [dashboardSalesStats, setDashboardSalesStats] = useState([]);\r\n    const [dropdownValue, setDropdownValue] = useState('future_today');\r\n\r\n    useEffect(() => {\r\n        //console.log(\"dateRange\",dateRange);\r\n        if (dropdownValue) {\r\n            fetchDashboardAppointmentStatsData();\r\n        }\r\n    }, [dropdownValue]);\r\n\r\n    const [fitems] = React.useState([                \r\n        { lable: \"Today\", value: \"today\" },\r\n        { lable: \"Tomorrow\", value: \"tomorrow\" },\r\n        { lable: \"Yesterday\", value: \"yesterday\" },\r\n        { lable: \"This Week\", value: \"thisweek\" },\r\n        { lable: \"Next Week\", value: \"nextweek\" },\r\n        { lable: \"Last Week\", value: \"lastweek\" },\r\n        { lable: \"This Month\", value: \"thismonth\" },\r\n        { lable: \"Next Month\", value: \"nextmonth\" },\r\n        { lable: \"Last Month\", value: \"lastmonth\" }              \r\n    ]);\r\n\r\n    const handleChange = (event) => {\r\n        //console.log(event.target.value);\r\n        setDropdownValue(event.target.value);\r\n    }\r\n\r\n    /* SALES LIST */\r\n    async function fetchDashboardAppointmentStatsData() {\r\n        setDashboardSalesStatsLoader(true);\r\n        //console.log(\"dateRange \",dateRange, dropdownValue );\r\n        let postData = {\r\n            start_date: dateRange[0],\r\n            end_date: dateRange[1],\r\n            ftype: dropdownValue\r\n        };\r\n\r\n        try {\r\n            const res = await axios.post(API_ENDPOINT + \"orgzit/notifications\", postData, { headers: { Authorization: authHeader() } });\r\n            setDashboardSalesStatsLoader(false);\r\n            setDashboardSalesStats(res.data.data);\r\n\r\n        } catch (error) {\r\n            //console.error(\"error \", error);\r\n            setDashboardSalesStatsLoader(false);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n\r\n            <div className=\"appoinmentAgentContent\">\r\n                <div className=\"row align-items-baseline\">\r\n                    <div className=\"col-6\">\r\n                        <div>\r\n                            <h6>Notifications</h6>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"col-6 text-end\">\r\n                            <select name=\"dfilter\" id=\"dfilter\" onChange={handleChange}>\r\n                                {fitems.map(item => (\r\n                                    <option key={item.value} value={item.value} > {item.lable} </option>\r\n                                ))}\r\n                            </select>\r\n                    </div>\r\n                </div>\r\n                {dashboardSalesStatsLoader ? <div className=\"text-center\">Loading...</div> : null}\r\n                {dashboardSalesStats.length > 0 && dashboardSalesStats.map((row, index) =>\r\n                    <div className=\"notificationBox\">\r\n                            <div className=\"col\">\r\n                                <div>\r\n                                <small>{row.source}</small>\r\n                                    <p><small>{row.createdDate} {row.createdTime}</small></p>\r\n                                </div>\r\n                            </div>\r\n                    </div>\r\n                )}\r\n                {/*<div className=\"text-center\">\r\n                    <button className=\"notificationViewBtn\">View All</button>\r\n                </div>*/}\r\n            </div>            \r\n        </>\r\n    );\r\n}\r\n\r\nexport default NotificationDataList;"]},"metadata":{},"sourceType":"module"}