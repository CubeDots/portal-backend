{"ast":null,"code":"import _regeneratorRuntime from\"/var/www/html/cuengine-portal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/var/www/html/cuengine-portal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/var/www/html/cuengine-portal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useEffect,useState}from\"react\";import{useParams,useNavigate}from\"react-router-dom\";import axios from\"axios\";import{API_ENDPOINT}from'../common/Constants';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function TwoDSystemPage(){var _useParams=useParams(),id=_useParams.id;var navigate=useNavigate();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),projectLoading=_useState2[0],setProjectLoading=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),project=_useState4[0],setProject=_useState4[1];function fetchProject(){return _fetchProject.apply(this,arguments);}function _fetchProject(){_fetchProject=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setProjectLoading(true);_context.prev=1;_context.next=4;return axios.get(API_ENDPOINT+\"projects/show/\"+id);case 4:res=_context.sent;if(res.data.data){setProjectLoading(false);setProject(res.data.data);}_context.next=12;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);console.error(\"error \",_context.t0);setProjectLoading(false);case 12:case\"end\":return _context.stop();}}},_callee,null,[[1,8]]);}));return _fetchProject.apply(this,arguments);}function openFullscreen(){var elem=document.getElementsByTagName(\"iframe\")[0];//document.getElementById(\"twoDSales\");\nif(elem.requestFullscreen){elem.requestFullscreen();}else if(elem.webkitRequestFullscreen){/* Safari */elem.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT);}else if(elem.msRequestFullscreen){/* IE11 */elem.msRequestFullscreen();}else if(elem.mozRequestFullScreen){/* moz */elem.mozRequestFullScreen();}else if(elem.webkitEnterFullScreen){elem.webkitEnterFullScreen();}else{//elem.webkitEnterFullscreen();\nalert('The requested browser does not support full-screen mode.');}}useEffect(function(){window.scrollTo({top:0,left:0,behavior:'smooth'});fetchProject();// setTimeout(() => {\n//   openFullscreen();\n// }, 5000);\n},[]);return/*#__PURE__*/_jsx(_Fragment,{children:projectLoading?/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:\"Loading...\"})}):/*#__PURE__*/_jsx(_Fragment,{children:project?/*#__PURE__*/_jsx(\"div\",{children:project.is_2d_enabled?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-auto twoDbackBtn\",children:[/*#__PURE__*/_jsx(\"button\",{title:\"Back\",className:\"cusocialBackBtn\",onClick:function onClick(){return navigate(-1);},children:/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:\"16\",height:\"16\",fill:\"currentColor\",className:\"bi bi-arrow-left\",viewBox:\"0 0 16 16\",children:/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z\"})})}),\"\\xA0\",/*#__PURE__*/_jsx(\"button\",{title:\"FullScreen\",className:\"cusocialBackBtn\",onClick:function onClick(){return openFullscreen();},children:/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:\"16\",height:\"16\",fill:\"currentColor\",className:\"bi bi-fullscreen\",viewBox:\"0 0 16 16\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M1.5 1a.5.5 0 0 0-.5.5v4a.5.5 0 0 1-1 0v-4A1.5 1.5 0 0 1 1.5 0h4a.5.5 0 0 1 0 1h-4zM10 .5a.5.5 0 0 1 .5-.5h4A1.5 1.5 0 0 1 16 1.5v4a.5.5 0 0 1-1 0v-4a.5.5 0 0 0-.5-.5h-4a.5.5 0 0 1-.5-.5zM.5 10a.5.5 0 0 1 .5.5v4a.5.5 0 0 0 .5.5h4a.5.5 0 0 1 0 1h-4A1.5 1.5 0 0 1 0 14.5v-4a.5.5 0 0 1 .5-.5zm15 0a.5.5 0 0 1 .5.5v4a1.5 1.5 0 0 1-1.5 1.5h-4a.5.5 0 0 1 0-1h4a.5.5 0 0 0 .5-.5v-4a.5.5 0 0 1 .5-.5z\"})})})]}),/*#__PURE__*/_jsx(\"iframe\",{id:\"twoDSales\",title:\"2DSales\",src:\"\".concat(project.portal_2d_url),width:\"100%\",height:\"100%\",frameBorder:\"0\",style:{border:0,height:'100vh'},loading:\"lazy\",allowFullScreen:true})]}):/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:\"2d system is not available.\"})})}):/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:\"No data available.\"})})})});}export default TwoDSystemPage;","map":{"version":3,"sources":["/var/www/html/cuengine-portal/src/pages/TwoDSystemPage.js"],"names":["useEffect","useState","useParams","useNavigate","axios","API_ENDPOINT","TwoDSystemPage","id","navigate","projectLoading","setProjectLoading","project","setProject","fetchProject","get","res","data","console","error","openFullscreen","elem","document","getElementsByTagName","requestFullscreen","webkitRequestFullscreen","Element","ALLOW_KEYBOARD_INPUT","msRequestFullscreen","mozRequestFullScreen","webkitEnterFullScreen","alert","window","scrollTo","top","left","behavior","is_2d_enabled","portal_2d_url","border","height"],"mappings":"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","sourcesContent":["import { useEffect, useState } from \"react\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { API_ENDPOINT } from '../common/Constants';\n\n\nfunction TwoDSystemPage() {\n  let { id } = useParams();\n  let navigate = useNavigate();\n  const [projectLoading, setProjectLoading] = useState(false);\n  const [project, setProject] = useState(null);\n\n  async function fetchProject() {\n    setProjectLoading(true);\n    try {\n      const res = await axios.get(API_ENDPOINT + \"projects/show/\" + id);\n      if (res.data.data) {\n        setProjectLoading(false);\n        setProject(res.data.data);\n      }\n    } catch (error) {\n      console.error(\"error \", error);\n      setProjectLoading(false);\n    }\n  }\n\n\n\n  function openFullscreen() {\n    var elem = document.getElementsByTagName(\"iframe\")[0];//document.getElementById(\"twoDSales\");\n\n    if (elem.requestFullscreen) {\n      elem.requestFullscreen();\n    } else if (elem.webkitRequestFullscreen) { /* Safari */\n      elem.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT);\n    } else if (elem.msRequestFullscreen) { /* IE11 */\n      elem.msRequestFullscreen();\n    } else if (elem.mozRequestFullScreen) { /* moz */\n      elem.mozRequestFullScreen();\n    } else if (elem.webkitEnterFullScreen) {\n      elem.webkitEnterFullScreen();\n    } else {\n      //elem.webkitEnterFullscreen();\n      alert('The requested browser does not support full-screen mode.');\n    }\n  }\n\n\n  useEffect(() => {\n    window.scrollTo({ top:0,left:0,behavior:'smooth'});\n    fetchProject();\n    // setTimeout(() => {\n    //   openFullscreen();\n    // }, 5000);\n  }, []);\n\n  return (\n    <>\n      {projectLoading ?\n        <>\n          <div className=\"text-center\">Loading...</div>\n        </>\n        :\n        <>\n          {project ?\n            <div>\n              {project.is_2d_enabled ?\n                <>\n                  <div className=\"col-auto twoDbackBtn\">\n                    <button title=\"Back\" className=\"cusocialBackBtn\" onClick={() => navigate(-1)}>\n                      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" className=\"bi bi-arrow-left\" viewBox=\"0 0 16 16\">\n                        <path fillRule=\"evenodd\" d=\"M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z\" />\n                      </svg>\n                    </button>\n                    &nbsp;\n                    <button title=\"FullScreen\" className=\"cusocialBackBtn\" onClick={() => openFullscreen()}>\n                      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" className=\"bi bi-fullscreen\" viewBox=\"0 0 16 16\">\n                        <path d=\"M1.5 1a.5.5 0 0 0-.5.5v4a.5.5 0 0 1-1 0v-4A1.5 1.5 0 0 1 1.5 0h4a.5.5 0 0 1 0 1h-4zM10 .5a.5.5 0 0 1 .5-.5h4A1.5 1.5 0 0 1 16 1.5v4a.5.5 0 0 1-1 0v-4a.5.5 0 0 0-.5-.5h-4a.5.5 0 0 1-.5-.5zM.5 10a.5.5 0 0 1 .5.5v4a.5.5 0 0 0 .5.5h4a.5.5 0 0 1 0 1h-4A1.5 1.5 0 0 1 0 14.5v-4a.5.5 0 0 1 .5-.5zm15 0a.5.5 0 0 1 .5.5v4a1.5 1.5 0 0 1-1.5 1.5h-4a.5.5 0 0 1 0-1h4a.5.5 0 0 0 .5-.5v-4a.5.5 0 0 1 .5-.5z\" />\n                      </svg>\n                    </button>\n                  </div>\n                  <iframe id=\"twoDSales\" title=\"2DSales\" src={`${project.portal_2d_url}`} width=\"100%\" height=\"100%\" frameBorder=\"0\" style={{ border: 0, height: '100vh' }} loading=\"lazy\" allowFullScreen></iframe></>\n                :\n                <><div className=\"text-center\">2d system is not available.</div></>\n              }\n            </div>\n            :\n            <><div className=\"text-center\">No data available.</div></>\n          }\n        </>\n      }\n    </>\n  );\n}\n\nexport default TwoDSystemPage;"]},"metadata":{},"sourceType":"module"}