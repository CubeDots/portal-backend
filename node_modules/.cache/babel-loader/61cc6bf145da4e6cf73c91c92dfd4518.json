{"ast":null,"code":"import _regeneratorRuntime from\"/var/www/html/cuengine-portal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/var/www/html/cuengine-portal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/var/www/html/cuengine-portal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import axios from\"axios\";import{useAuthHeader}from'react-auth-kit';import{API_ENDPOINT}from\"../../common/Constants\";import DataTable from'react-data-table-component';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function InvitationsDashPage(){var authHeader=useAuthHeader();// const [invitationsLoader, setInvitationsLoader] = useState(false);\n// const [invitations, setInvitations] = useState([]);\n// const [pageno, setPage] = useState(1);\n// const countPerPage = 3;\nvar _useState=useState(''),_useState2=_slicedToArray(_useState,2),searchTerm=_useState2[0],setSearchTerm=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),data=_useState4[0],setData=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),loading=_useState6[0],setLoading=_useState6[1];var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),totalRows=_useState8[0],setTotalRows=_useState8[1];var _useState9=useState(10),_useState10=_slicedToArray(_useState9,2),perPage=_useState10[0],setPerPage=_useState10[1];useEffect(function(){//fetchInvitationData();\nfetchUsers(1);},[]);var postData={test:null,start_date:'2022-02-01T00:00:00.000Z',end_date:'2022-02-28T00:00:00.000Z'};// async function fetchInvitationData() {\n//   setInvitationsLoader(true);\n//   try {\n//     const res = await axios.post(API_ENDPOINT + \"orgzit/payplans\", postData, { headers: { Authorization: authHeader() } });\n//     setInvitationsLoader(false);\n//     setInvitations(res.data.data);\n//   } catch (error) {\n//     console.error(\"error \", error);\n//     setInvitationsLoader(false);\n//   }5\nvar fetchUsers=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(page){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setLoading(true);_context.next=3;return axios.post(\"\".concat(API_ENDPOINT,\"orgzit/payplans?page=\").concat(page,\"&per_page=\").concat(perPage,\"&delay=1\"),postData,{headers:{Authorization:authHeader()}});case 3:response=_context.sent;setData(response.data.data);setTotalRows(response.data.total);setLoading(false);case 7:case\"end\":return _context.stop();}}},_callee);}));return function fetchUsers(_x){return _ref.apply(this,arguments);};}();var handlePageChange=function handlePageChange(page){fetchUsers(page);};var handlePerRowsChange=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(newPerPage,page){var response;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:setLoading(true);_context2.next=3;return axios.post(\"\".concat(API_ENDPOINT,\"orgzit/payplans?page=\").concat(page,\"&per_page=\").concat(newPerPage,\"&delay=1\"),postData,{headers:{Authorization:authHeader()}});case 3:response=_context2.sent;setData(response.data.data);setPerPage(newPerPage);setLoading(false);case 7:case\"end\":return _context2.stop();}}},_callee2);}));return function handlePerRowsChange(_x2,_x3){return _ref2.apply(this,arguments);};}();var columns=[{name:\"ID\",sortable:true,selector:function selector(row){return row.id;}},{name:\"SalesPerson\",sortable:true,selector:function selector(row){return row.SalesPerson;}},{name:\"ProjectName\",sortable:true,selector:function selector(row){return row.ProjectName;}},{name:\"PaymentType\",sortable:true,selector:function selector(row){return row.PaymentType;}},{name:\"PaymentStatus\",sortable:true,selector:function selector(row){return row.PaymentStatus;}},{name:\"PaymentCurrency\",sortable:true,selector:function selector(row){return row.PaymentCurrency;}},{name:\"ExpectedPaymentDate\",sortable:true,selector:function selector(row){return row.ExpectedPaymentDate;}},{name:\"ExpectedPaymentAmount\",sortable:true,selector:function selector(row){return row.ExpectedPaymentAmount;}}];return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(DataTable,{title:\"Appointments\",columns:columns,data:data.filter(function(item){if(searchTerm===\"\"){return item;}else if(item.id&&item.id.includes(searchTerm)){return item;}else{return item;}}),progressPending:loading,pagination:true,paginationServer:true,paginationTotalRows:totalRows,onChangeRowsPerPage:handlePerRowsChange,onChangePage:handlePageChange,paginationPerPage:10,paginationComponentOptions:{noRowsPerPage:true}})});}export default InvitationsDashPage;","map":{"version":3,"sources":["/var/www/html/cuengine-portal/src/pages/dash/InvitationsDashPage.js"],"names":["React","useEffect","useState","axios","useAuthHeader","API_ENDPOINT","DataTable","InvitationsDashPage","authHeader","searchTerm","setSearchTerm","data","setData","loading","setLoading","totalRows","setTotalRows","perPage","setPerPage","fetchUsers","postData","test","start_date","end_date","page","post","headers","Authorization","response","total","handlePageChange","handlePerRowsChange","newPerPage","columns","name","sortable","selector","row","id","SalesPerson","ProjectName","PaymentType","PaymentStatus","PaymentCurrency","ExpectedPaymentDate","ExpectedPaymentAmount","filter","item","includes","noRowsPerPage"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { useAuthHeader } from 'react-auth-kit';\nimport { API_ENDPOINT } from \"../../common/Constants\";\nimport DataTable from 'react-data-table-component';\n\n\nfunction InvitationsDashPage() {\n\n  const authHeader = useAuthHeader();\n  // const [invitationsLoader, setInvitationsLoader] = useState(false);\n  // const [invitations, setInvitations] = useState([]);\n  // const [pageno, setPage] = useState(1);\n  // const countPerPage = 3;\n\n  const [searchTerm, setSearchTerm] = useState('');\n  const [data, setData] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [totalRows, setTotalRows] = useState(0);\n  const [perPage, setPerPage] = useState(10);\n\n\n  useEffect(() => {\n    //fetchInvitationData();\n    fetchUsers(1);\n  }, []);\n\n  let postData = {\n    test: null,\n    start_date: '2022-02-01T00:00:00.000Z',\n    end_date: '2022-02-28T00:00:00.000Z'\n  };\n  // async function fetchInvitationData() {\n  //   setInvitationsLoader(true);\n\n\n  //   try {\n  //     const res = await axios.post(API_ENDPOINT + \"orgzit/payplans\", postData, { headers: { Authorization: authHeader() } });\n  //     setInvitationsLoader(false);\n  //     setInvitations(res.data.data);\n\n  //   } catch (error) {\n  //     console.error(\"error \", error);\n  //     setInvitationsLoader(false);\n  //   }5\n  const fetchUsers = async page => {\n    setLoading(true);\n\n    const response = await axios.post(`${API_ENDPOINT}orgzit/payplans?page=${page}&per_page=${perPage}&delay=1`, postData, { headers: { Authorization: authHeader() } });\n\n    setData(response.data.data);\n    setTotalRows(response.data.total);\n    setLoading(false);\n  };\n\n  const handlePageChange = page => {\n    fetchUsers(page);\n  };\n\n  const handlePerRowsChange = async (newPerPage, page) => {\n    setLoading(true);\n    const response = await axios.post(`${API_ENDPOINT}orgzit/payplans?page=${page}&per_page=${newPerPage}&delay=1`, postData, { headers: { Authorization: authHeader() } });\n    setData(response.data.data);\n    setPerPage(newPerPage);\n    setLoading(false);\n  };\n\n  const columns = [\n    { name: \"ID\", sortable: true, selector: row => row.id },\n    { name: \"SalesPerson\", sortable: true, selector: row => row.SalesPerson },\n    { name: \"ProjectName\", sortable: true, selector: row => row.ProjectName },\n    { name: \"PaymentType\", sortable: true, selector: row => row.PaymentType },\n    { name: \"PaymentStatus\", sortable: true, selector: row => row.PaymentStatus },\n    { name: \"PaymentCurrency\", sortable: true, selector: row => row.PaymentCurrency },\n    { name: \"ExpectedPaymentDate\", sortable: true, selector: row => row.ExpectedPaymentDate },\n    { name: \"ExpectedPaymentAmount\", sortable: true, selector: row => row.ExpectedPaymentAmount },\n  ];\n\n  return (\n    <>\n      {/* <div>\n        <div className=\"col mobileInputSection\">\n          <label className=\"form-label\">Mobile</label>\n          <div className=\"input-group\">\n            <span className=\"input-group-text\" id=\"basic-addon1\">Search</span>\n            <input type=\"text\" className=\"form-control \" placeholder=\"Search\" name=\"search\" defaultValue={searchTerm} onChange={(e) => setSearchTerm(  e.target.value)} />\n          </div>\n        </div>\n      </div> */}\n      <DataTable\n        title=\"Appointments\"\n        columns={columns}\n        data={data.filter((item) => {\n          if (searchTerm === \"\") {\n            return item;\n          } else if (\n            item.id && item.id.includes(searchTerm)\n          ) {\n            return item;\n          } else {\n            return item;\n          }\n        })}\n        progressPending={loading}\n        pagination\n        paginationServer\n        paginationTotalRows={totalRows}\n        onChangeRowsPerPage={handlePerRowsChange}\n        onChangePage={handlePageChange}\n        paginationPerPage={10}\n        paginationComponentOptions={{\n          noRowsPerPage: true\n        }}\n      />\n\n\n    </>\n  );\n}\n\nexport default InvitationsDashPage;"]},"metadata":{},"sourceType":"module"}