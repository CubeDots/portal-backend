{"ast":null,"code":"import _regeneratorRuntime from\"/var/www/html/cuengine-portal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/var/www/html/cuengine-portal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/var/www/html/cuengine-portal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState,useEffect}from\"react\";import axios from\"axios\";import{useAuthHeader}from'react-auth-kit';import DateRangePicker from'@wojtekmaj/react-daterange-picker';import'react-calendar/dist/Calendar.css';import Modal from'react-bootstrap/Modal';import moment from'moment';import CurrencyFormat from'react-currency-format';import{API_ENDPOINT}from\"../../common/Constants\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function MonthlyPaymentPlanList(){var authHeader=useAuthHeader();var startOfMonth=moment().startOf('month').format('YYYY-MM-DD');var endOfMonth=moment().endOf('month').format('YYYY-MM-DD');var _useState=useState([new Date(startOfMonth),new Date(endOfMonth)]),_useState2=_slicedToArray(_useState,2),dateRange=_useState2[0],onChangeDateRange=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),dashboardSalesStatsLoader=_useState4[0],setDashboardSalesStatsLoader=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),dashboardSalesStats=_useState6[0],setDashboardSalesStats=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),showModal=_useState8[0],setShowModal=_useState8[1];var handleClose=function handleClose(){return setShowModal(false);};var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),activeRow=_useState10[0],setActiveRow=_useState10[1];var handleShowModal=function handleShowModal(r){setShowModal(true);setActiveRow(r);};var handleCloseModal=function handleCloseModal(r){setShowModal(false);setActiveRow(null);};useEffect(function(){fetchDashboardPaymentPlanStatsData();},[]);/* SALES LIST */function fetchDashboardPaymentPlanStatsData(){return _fetchDashboardPaymentPlanStatsData.apply(this,arguments);}function _fetchDashboardPaymentPlanStatsData(){_fetchDashboardPaymentPlanStatsData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var postData,res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setDashboardSalesStatsLoader(true);postData={test:null,start_date:dateRange[0],end_date:dateRange[1]};_context.prev=2;_context.next=5;return axios.post(API_ENDPOINT+\"orgzit/payplans\",postData,{headers:{Authorization:authHeader()}});case 5:res=_context.sent;setDashboardSalesStatsLoader(false);setDashboardSalesStats(res.data.data);_context.next=14;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](2);console.error(\"error \",_context.t0);setDashboardSalesStatsLoader(false);case 14:case\"end\":return _context.stop();}}},_callee,null,[[2,10]]);}));return _fetchDashboardPaymentPlanStatsData.apply(this,arguments);}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\" p-3 mb-2 w-100 bg-light text-black text-left border admDashBoardSalesMonthList\",id:\"admDashBoardSalesMonthList\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4\",children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h2\",{className:\"agentDashboardHeading\",children:\"Monthly Payment Plans List\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"dateAndGoBox\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"\",children:/*#__PURE__*/_jsx(\"div\",{className:\"wiseFilter\",children:/*#__PURE__*/_jsx(DateRangePicker,{onChange:onChangeDateRange,value:dateRange,format:\"dd/MM/yyyy\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"ms-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"wiseFilter\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\" goBtn\",onClick:fetchDashboardPaymentPlanStatsData,children:\"Go\"})})})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"table-responsive\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table table-sm\",children:[/*#__PURE__*/_jsxs(\"thead\",{children:[/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"9\"})}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"#\"}),/*#__PURE__*/_jsx(\"td\",{children:\"Project Name\"}),/*#__PURE__*/_jsx(\"td\",{children:\"Sales Person\"}),/*#__PURE__*/_jsx(\"td\",{children:\"Payment Type\"}),/*#__PURE__*/_jsx(\"td\",{children:\"Payment Status\"}),/*#__PURE__*/_jsx(\"td\",{children:\"Currency\"}),/*#__PURE__*/_jsx(\"td\",{children:\"Expected Payment Amount\"}),/*#__PURE__*/_jsx(\"td\",{children:\"Expected Payment Date\"}),/*#__PURE__*/_jsx(\"td\",{children:\"View\"})]})]}),/*#__PURE__*/_jsxs(\"tbody\",{children:[dashboardSalesStatsLoader?/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"9\",align:\"center\",children:\"Loading...\"})}):null,!dashboardSalesStatsLoader&&dashboardSalesStats.length>0&&dashboardSalesStats.map(function(row,index){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:row.id}),/*#__PURE__*/_jsx(\"td\",{children:row.ProjectName}),/*#__PURE__*/_jsx(\"td\",{children:row.SalesPerson}),/*#__PURE__*/_jsx(\"td\",{children:row.PaymentType}),/*#__PURE__*/_jsx(\"td\",{children:row.PaymentStatus}),/*#__PURE__*/_jsx(\"td\",{children:row.PaymentCurrency}),/*#__PURE__*/_jsx(\"td\",{children:row.ExpectedPaymentAmount}),/*#__PURE__*/_jsx(\"td\",{children:row.ExpectedPaymentDate}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-sm\",onClick:function onClick(){return handleShowModal(row);},children:/*#__PURE__*/_jsxs(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:\"16\",height:\"16\",fill:\"currentColor\",className:\"bi bi-eye\",viewBox:\"0 0 16 16\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8zM1.173 8a13.133 13.133 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.133 13.133 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5c-2.12 0-3.879-1.168-5.168-2.457A13.134 13.134 0 0 1 1.172 8z\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5zM4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0z\"})]})})})]},index);}),!dashboardSalesStatsLoader&&dashboardSalesStats.length===0?/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"9\",align:\"center\",children:\"No data available.\"})}):null]})]})})]}),/*#__PURE__*/_jsxs(Modal,{show:showModal,onHide:function onHide(){return handleCloseModal();},backdrop:\"static\",keyboard:false,\"aria-labelledby\":\"contained-modal-title-vcenter\",centered:true,children:[/*#__PURE__*/_jsx(Modal.Header,{className:\"p-2\",closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{children:activeRow?/*#__PURE__*/_jsxs(_Fragment,{children:['Payment Detail of ',/*#__PURE__*/_jsx(\"strong\",{children:activeRow.SalesPerson})]}):''})}),/*#__PURE__*/_jsxs(Modal.Body,{children:[console.log('activeRow',activeRow),activeRow?/*#__PURE__*/_jsx(\"div\",{className:\"table-responsive\",children:/*#__PURE__*/_jsx(\"table\",{className:\"table table-sm\",children:/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{width:\"50%\",children:\"ID\"}),/*#__PURE__*/_jsxs(\"td\",{children:[\"#\",activeRow.id]})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"SalesPerson\"}),/*#__PURE__*/_jsx(\"td\",{children:activeRow.SalesPerson})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"ProjectName\"}),/*#__PURE__*/_jsx(\"td\",{children:activeRow.ProjectName})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"PaymentType\"}),/*#__PURE__*/_jsx(\"td\",{children:activeRow.PaymentType})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"PaymentStatus\"}),/*#__PURE__*/_jsx(\"td\",{children:activeRow.PaymentStatus})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"ExpectedPaymentAmount\"}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(CurrencyFormat,{value:activeRow.ExpectedPaymentAmount,displayType:'text',thousandSeparator:true,prefix:activeRow.PaymentCurrency?activeRow.PaymentCurrency:''})})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"ExpectedPaymentDate\"}),/*#__PURE__*/_jsx(\"td\",{children:activeRow.ExpectedPaymentDate})]})]})})}):'No data available.']})]})]});}export default MonthlyPaymentPlanList;","map":{"version":3,"sources":["/var/www/html/cuengine-portal/src/components/dashboard/MonthlyPaymentPlanList.js"],"names":["useState","useEffect","axios","useAuthHeader","DateRangePicker","Modal","moment","CurrencyFormat","API_ENDPOINT","MonthlyPaymentPlanList","authHeader","startOfMonth","startOf","format","endOfMonth","endOf","Date","dateRange","onChangeDateRange","dashboardSalesStatsLoader","setDashboardSalesStatsLoader","dashboardSalesStats","setDashboardSalesStats","showModal","setShowModal","handleClose","activeRow","setActiveRow","handleShowModal","r","handleCloseModal","fetchDashboardPaymentPlanStatsData","postData","test","start_date","end_date","post","headers","Authorization","res","data","console","error","length","map","row","index","id","ProjectName","SalesPerson","PaymentType","PaymentStatus","PaymentCurrency","ExpectedPaymentAmount","ExpectedPaymentDate","log"],"mappings":"ybAAA,OAASA,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,aAAT,KAA8B,gBAA9B,CACA,MAAOC,CAAAA,eAAP,KAA4B,mCAA5B,CACA,MAAO,kCAAP,CACA,MAAOC,CAAAA,KAAP,KAAkB,uBAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,QAAnB,CACA,MAAOC,CAAAA,cAAP,KAA2B,uBAA3B,CACA,OAASC,YAAT,KAA6B,wBAA7B,C,6IAGA,QAASC,CAAAA,sBAAT,EAAkC,CAC9B,GAAMC,CAAAA,UAAU,CAAGP,aAAa,EAAhC,CACA,GAAMQ,CAAAA,YAAY,CAAGL,MAAM,GAAGM,OAAT,CAAiB,OAAjB,EAA0BC,MAA1B,CAAiC,YAAjC,CAArB,CACA,GAAMC,CAAAA,UAAU,CAAGR,MAAM,GAAGS,KAAT,CAAe,OAAf,EAAwBF,MAAxB,CAA+B,YAA/B,CAAnB,CACA,cAAuCb,QAAQ,CAAC,CAAC,GAAIgB,CAAAA,IAAJ,CAASL,YAAT,CAAD,CAAyB,GAAIK,CAAAA,IAAJ,CAASF,UAAT,CAAzB,CAAD,CAA/C,wCAAOG,SAAP,eAAkBC,iBAAlB,eAEA,eAAkElB,QAAQ,CAAC,KAAD,CAA1E,yCAAOmB,yBAAP,eAAkCC,4BAAlC,eACA,eAAsDpB,QAAQ,CAAC,EAAD,CAA9D,yCAAOqB,mBAAP,eAA4BC,sBAA5B,eAEA,eAAkCtB,QAAQ,CAAC,KAAD,CAA1C,yCAAOuB,SAAP,eAAkBC,YAAlB,eACA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,SAAMD,CAAAA,YAAY,CAAC,KAAD,CAAlB,EAApB,CACA,eAAkCxB,QAAQ,CAAC,IAAD,CAA1C,0CAAO0B,SAAP,gBAAkBC,YAAlB,gBACA,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACC,CAAD,CAAO,CAC3BL,YAAY,CAAC,IAAD,CAAZ,CACAG,YAAY,CAACE,CAAD,CAAZ,CACH,CAHD,CAIA,GAAMC,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,CAACD,CAAD,CAAO,CAC5BL,YAAY,CAAC,KAAD,CAAZ,CACAG,YAAY,CAAC,IAAD,CAAZ,CACH,CAHD,CAKA1B,SAAS,CAAC,UAAM,CACZ8B,kCAAkC,GACrC,CAFQ,CAEN,EAFM,CAAT,CAIA,gBAzB8B,QA0BfA,CAAAA,kCA1Be,gNA0B9B,oJACIX,4BAA4B,CAAC,IAAD,CAA5B,CACIY,QAFR,CAEmB,CACXC,IAAI,CAAE,IADK,CAEXC,UAAU,CAAEjB,SAAS,CAAC,CAAD,CAFV,CAGXkB,QAAQ,CAAElB,SAAS,CAAC,CAAD,CAHR,CAFnB,uCAS0Bf,CAAAA,KAAK,CAACkC,IAAN,CAAW5B,YAAY,CAAG,iBAA1B,CAA6CwB,QAA7C,CAAuD,CAAEK,OAAO,CAAE,CAAEC,aAAa,CAAE5B,UAAU,EAA3B,CAAX,CAAvD,CAT1B,QASc6B,GATd,eAUQnB,4BAA4B,CAAC,KAAD,CAA5B,CACAE,sBAAsB,CAACiB,GAAG,CAACC,IAAJ,CAASA,IAAV,CAAtB,CAXR,iFAcQC,OAAO,CAACC,KAAR,CAAc,QAAd,cACAtB,4BAA4B,CAAC,KAAD,CAA5B,CAfR,qEA1B8B,qEA4C9B,mBACI,wCACI,aAAK,SAAS,CAAC,iFAAf,CAAiG,EAAE,CAAC,4BAApG,wBACI,aAAK,SAAS,CAAC,KAAf,wBACI,YAAK,SAAS,CAAC,UAAf,uBACI,kCACI,WAAI,SAAS,CAAC,uBAAd,wCADJ,EADJ,EADJ,cAMI,YAAK,SAAS,CAAC,UAAf,uBACI,aAAK,SAAS,CAAC,cAAf,wBACI,YAAK,SAAS,CAAC,EAAf,uBACI,YAAK,SAAS,CAAC,YAAf,uBACI,KAAC,eAAD,EAAiB,QAAQ,CAAEF,iBAA3B,CAA8C,KAAK,CAAED,SAArD,CAAgE,MAAM,CAAC,YAAvE,EADJ,EADJ,EADJ,cAMI,YAAK,SAAS,CAAC,MAAf,uBACI,YAAK,SAAS,CAAC,YAAf,uBACI,eAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,QAAhC,CAAyC,OAAO,CAAEc,kCAAlD,gBADJ,EADJ,EANJ,GADJ,EANJ,GADJ,cAiCI,YAAK,SAAS,CAAC,kBAAf,uBACI,eAAO,SAAS,CAAC,gBAAjB,wBACI,sCACI,iCAAI,WAAI,OAAO,CAAC,GAAZ,EAAJ,EADJ,cAEI,mCACI,yBADJ,cAEI,oCAFJ,cAGI,oCAHJ,cAII,oCAJJ,cAKI,sCALJ,cAMI,gCANJ,cAOI,+CAPJ,cAQI,6CARJ,cASI,4BATJ,GAFJ,GADJ,cAeI,yBACKZ,yBAAyB,cAAI,iCAAI,WAAI,OAAO,CAAC,GAAZ,CAAgB,KAAK,CAAC,QAAtB,wBAAJ,EAAJ,CAA+D,IAD7F,CAEK,CAACA,yBAAD,EAA8BE,mBAAmB,CAACsB,MAApB,CAA6B,CAA3D,EAAgEtB,mBAAmB,CAACuB,GAApB,CAAwB,SAACC,GAAD,CAAMC,KAAN,qBACrF,mCACI,oBAAKD,GAAG,CAACE,EAAT,EADJ,cAEI,oBAAKF,GAAG,CAACG,WAAT,EAFJ,cAGI,oBAAKH,GAAG,CAACI,WAAT,EAHJ,cAII,oBAAKJ,GAAG,CAACK,WAAT,EAJJ,cAKI,oBAAKL,GAAG,CAACM,aAAT,EALJ,cAMI,oBAAKN,GAAG,CAACO,eAAT,EANJ,cAOI,oBAAKP,GAAG,CAACQ,qBAAT,EAPJ,cAQI,oBAAKR,GAAG,CAACS,mBAAT,EARJ,cASI,iCACI,eAAQ,SAAS,CAAC,YAAlB,CAA+B,OAAO,CAAE,yBAAM1B,CAAAA,eAAe,CAACiB,GAAD,CAArB,EAAxC,uBACI,aAAK,KAAK,CAAC,4BAAX,CAAwC,KAAK,CAAC,IAA9C,CAAmD,MAAM,CAAC,IAA1D,CAA+D,IAAI,CAAC,cAApE,CAAmF,SAAS,CAAC,WAA7F,CAAyG,OAAO,CAAC,WAAjH,wBACI,aAAM,CAAC,CAAC,uUAAR,EADJ,cAEI,aAAM,CAAC,CAAC,wFAAR,EAFJ,GADJ,EADJ,EATJ,GAASC,KAAT,CADqF,EAAxB,CAFrE,CAsBK,CAAC3B,yBAAD,EAA8BE,mBAAmB,CAACsB,MAApB,GAA+B,CAA7D,cAAkE,iCAAI,WAAI,OAAO,CAAC,GAAZ,CAAgB,KAAK,CAAC,QAAtB,gCAAJ,EAAlE,CAAqI,IAtB1I,GAfJ,GADJ,EAjCJ,GADJ,cA8EI,MAAC,KAAD,EAAO,IAAI,CAAEpB,SAAb,CAAwB,MAAM,CAAE,wBAAMO,CAAAA,gBAAgB,EAAtB,EAAhC,CAA0D,QAAQ,CAAC,QAAnE,CAA4E,QAAQ,CAAE,KAAtF,CAA6F,kBAAgB,+BAA7G,CAA6I,QAAQ,KAArJ,wBACI,KAAC,KAAD,CAAO,MAAP,EAAc,SAAS,CAAC,KAAxB,CAA8B,WAAW,KAAzC,uBACI,KAAC,KAAD,CAAO,KAAP,WACKJ,SAAS,cACN,2BAAG,oBAAH,cAAwB,wBAASA,SAAS,CAACuB,WAAnB,EAAxB,GADM,CAEJ,EAHV,EADJ,EADJ,cAQI,MAAC,KAAD,CAAO,IAAP,YACKR,OAAO,CAACc,GAAR,CAAY,WAAZ,CAAyB7B,SAAzB,CADL,CAEKA,SAAS,cACN,YAAK,SAAS,CAAC,kBAAf,uBACI,cAAO,SAAS,CAAC,gBAAjB,uBACI,sCACI,mCACI,WAAI,KAAK,CAAC,KAAV,gBADJ,cAEI,0BAAQA,SAAS,CAACqB,EAAlB,GAFJ,GADJ,cAKI,mCACI,mCADJ,cAEI,oBAAKrB,SAAS,CAACuB,WAAf,EAFJ,GALJ,cASI,mCACI,mCADJ,cAEI,oBAAKvB,SAAS,CAACsB,WAAf,EAFJ,GATJ,cAaI,mCACI,mCADJ,cAEI,oBAAKtB,SAAS,CAACwB,WAAf,EAFJ,GAbJ,cAiBI,mCACI,qCADJ,cAEI,oBAAKxB,SAAS,CAACyB,aAAf,EAFJ,GAjBJ,cAsBI,mCACI,6CADJ,cAEI,iCAEI,KAAC,cAAD,EAAgB,KAAK,CAAEzB,SAAS,CAAC2B,qBAAjC,CAAwD,WAAW,CAAE,MAArE,CAA6E,iBAAiB,CAAE,IAAhG,CAAsG,MAAM,CAAE3B,SAAS,CAAC0B,eAAV,CAA4B1B,SAAS,CAAC0B,eAAtC,CAAwD,EAAtK,EAFJ,EAFJ,GAtBJ,cA6BI,mCACI,2CADJ,cAEI,oBAAK1B,SAAS,CAAC4B,mBAAf,EAFJ,GA7BJ,GADJ,EADJ,EADM,CAwCJ,oBA1CV,GARJ,GA9EJ,GADJ,CAwIH,CAED,cAAe7C,CAAAA,sBAAf","sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useAuthHeader } from 'react-auth-kit';\r\nimport DateRangePicker from '@wojtekmaj/react-daterange-picker';\r\nimport 'react-calendar/dist/Calendar.css';\r\nimport Modal from 'react-bootstrap/Modal';\r\nimport moment from 'moment';\r\nimport CurrencyFormat from 'react-currency-format';\r\nimport { API_ENDPOINT } from \"../../common/Constants\";\r\n\r\n\r\nfunction MonthlyPaymentPlanList() {\r\n    const authHeader = useAuthHeader();\r\n    const startOfMonth = moment().startOf('month').format('YYYY-MM-DD');\r\n    const endOfMonth = moment().endOf('month').format('YYYY-MM-DD');\r\n    const [dateRange, onChangeDateRange] = useState([new Date(startOfMonth), new Date(endOfMonth)]);\r\n\r\n    const [dashboardSalesStatsLoader, setDashboardSalesStatsLoader] = useState(false);\r\n    const [dashboardSalesStats, setDashboardSalesStats] = useState([]);\r\n\r\n    const [showModal, setShowModal] = useState(false);\r\n    const handleClose = () => setShowModal(false);\r\n    const [activeRow, setActiveRow] = useState(null);\r\n    const handleShowModal = (r) => {\r\n        setShowModal(true);\r\n        setActiveRow(r);\r\n    };\r\n    const handleCloseModal = (r) => {\r\n        setShowModal(false);\r\n        setActiveRow(null);\r\n    };\r\n\r\n    useEffect(() => {\r\n        fetchDashboardPaymentPlanStatsData();\r\n    }, []);\r\n\r\n    /* SALES LIST */\r\n    async function fetchDashboardPaymentPlanStatsData() {\r\n        setDashboardSalesStatsLoader(true);\r\n        let postData = {\r\n            test: null,\r\n            start_date: dateRange[0],\r\n            end_date: dateRange[1]\r\n        };\r\n\r\n        try {\r\n            const res = await axios.post(API_ENDPOINT + \"orgzit/payplans\", postData, { headers: { Authorization: authHeader() } });\r\n            setDashboardSalesStatsLoader(false);\r\n            setDashboardSalesStats(res.data.data);\r\n\r\n        } catch (error) {\r\n            console.error(\"error \", error);\r\n            setDashboardSalesStatsLoader(false);\r\n        }\r\n    }\r\n    return (\r\n        <>\r\n            <div className=\" p-3 mb-2 w-100 bg-light text-black text-left border admDashBoardSalesMonthList\" id=\"admDashBoardSalesMonthList\">\r\n                <div className=\"row\">\r\n                    <div className=\"col-md-4\">\r\n                        <div>\r\n                            <h2 className=\"agentDashboardHeading\">Monthly Payment Plans List</h2>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"col-md-8\">\r\n                        <div className=\"dateAndGoBox\">\r\n                            <div className=\"\">\r\n                                <div className=\"wiseFilter\">\r\n                                    <DateRangePicker onChange={onChangeDateRange} value={dateRange} format=\"dd/MM/yyyy\" />\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"ms-2\">\r\n                                <div className=\"wiseFilter\">\r\n                                    <button type=\"button\" className=\" goBtn\" onClick={fetchDashboardPaymentPlanStatsData}>Go</button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                    </div>\r\n\r\n                </div>\r\n                {/* <div className=\"tableFilterPanel\">\r\n                    <h2>Monthly PaymentPlan Plans List</h2>\r\n                    <span className=\"wiseFilter\">\r\n                        <DateRangePicker onChange={onChangeDateRange} value={dateRange}  />\r\n                    </span>\r\n                    <span className=\"wiseFilter\">\r\n                    <button type=\"button\" className=\"btn btn-primary\" onClick={fetchDashboardPaymentPlanStatsData}>Go</button>\r\n                    </span>                    \r\n                </div> */}\r\n                <div className=\"table-responsive\">\r\n                    <table className=\"table table-sm\">\r\n                        <thead>\r\n                            <tr><td colSpan=\"9\"></td></tr>\r\n                            <tr>\r\n                                <td>#</td>\r\n                                <td>Project Name</td>\r\n                                <td>Sales Person</td>\r\n                                <td>Payment Type</td>\r\n                                <td>Payment Status</td>\r\n                                <td>Currency</td>\r\n                                <td>Expected Payment Amount</td>\r\n                                <td>Expected Payment Date</td>\r\n                                <td>View</td>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {dashboardSalesStatsLoader ? (<tr><td colSpan=\"9\" align=\"center\">Loading...</td></tr>) : null}\r\n                            {!dashboardSalesStatsLoader && dashboardSalesStats.length > 0 && dashboardSalesStats.map((row, index) =>\r\n                                <tr key={index}>\r\n                                    <td>{row.id}</td>\r\n                                    <td>{row.ProjectName}</td>\r\n                                    <td>{row.SalesPerson}</td>\r\n                                    <td>{row.PaymentType}</td>\r\n                                    <td>{row.PaymentStatus}</td>\r\n                                    <td>{row.PaymentCurrency}</td>\r\n                                    <td>{row.ExpectedPaymentAmount}</td>\r\n                                    <td>{row.ExpectedPaymentDate}</td>\r\n                                    <td>\r\n                                        <button className=\"btn btn-sm\" onClick={() => handleShowModal(row)} >\r\n                                            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" className=\"bi bi-eye\" viewBox=\"0 0 16 16\">\r\n                                                <path d=\"M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8zM1.173 8a13.133 13.133 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.133 13.133 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5c-2.12 0-3.879-1.168-5.168-2.457A13.134 13.134 0 0 1 1.172 8z\" />\r\n                                                <path d=\"M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5zM4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0z\" />\r\n                                            </svg>\r\n                                        </button>\r\n                                    </td>\r\n                                </tr>\r\n                            )}\r\n                            {!dashboardSalesStatsLoader && dashboardSalesStats.length === 0 ? (<tr><td colSpan=\"9\" align=\"center\">No data available.</td></tr>) : null}\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n\r\n            <Modal show={showModal} onHide={() => handleCloseModal()} backdrop=\"static\" keyboard={false} aria-labelledby=\"contained-modal-title-vcenter\" centered>\r\n                <Modal.Header className='p-2' closeButton>\r\n                    <Modal.Title>\r\n                        {activeRow ?\r\n                            <>{'Payment Detail of '}<strong>{activeRow.SalesPerson}</strong></>\r\n                            : ''}\r\n                    </Modal.Title>\r\n                </Modal.Header>\r\n                <Modal.Body>\r\n                    {console.log('activeRow', activeRow)}\r\n                    {activeRow ?\r\n                        <div className=\"table-responsive\">\r\n                            <table className=\"table table-sm\">\r\n                                <tbody>\r\n                                    <tr>\r\n                                        <th width=\"50%\">ID</th>\r\n                                        <td  >#{activeRow.id}</td>\r\n                                    </tr>\r\n                                    <tr>\r\n                                        <th>SalesPerson</th>\r\n                                        <td>{activeRow.SalesPerson}</td>\r\n                                    </tr>\r\n                                    <tr>\r\n                                        <th>ProjectName</th>\r\n                                        <td>{activeRow.ProjectName}</td>\r\n                                    </tr>\r\n                                    <tr>\r\n                                        <th>PaymentType</th>\r\n                                        <td>{activeRow.PaymentType}</td>\r\n                                    </tr>\r\n                                    <tr>\r\n                                        <th>PaymentStatus</th>\r\n                                        <td>{activeRow.PaymentStatus}</td>\r\n                                    </tr>\r\n\r\n                                    <tr>\r\n                                        <th>ExpectedPaymentAmount</th>\r\n                                        <td>\r\n\r\n                                            <CurrencyFormat value={activeRow.ExpectedPaymentAmount} displayType={'text'} thousandSeparator={true} prefix={activeRow.PaymentCurrency ? activeRow.PaymentCurrency : ''} />\r\n                                        </td>\r\n                                    </tr>\r\n                                    <tr>\r\n                                        <th>ExpectedPaymentDate</th>\r\n                                        <td>{activeRow.ExpectedPaymentDate}</td>\r\n                                    </tr>\r\n\r\n                                </tbody>\r\n                            </table>\r\n                        </div>\r\n                        : 'No data available.'}\r\n\r\n                </Modal.Body>\r\n            </Modal>\r\n\r\n        </>\r\n    );\r\n}\r\n\r\nexport default MonthlyPaymentPlanList;"]},"metadata":{},"sourceType":"module"}