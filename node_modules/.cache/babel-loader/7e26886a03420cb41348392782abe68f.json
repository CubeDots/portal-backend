{"ast":null,"code":"import _regeneratorRuntime from\"/var/www/html/cuengine-portal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/var/www/html/cuengine-portal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/var/www/html/cuengine-portal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import Carousel from\"react-multi-carousel\";import React,{useEffect,useState}from\"react\";import axios from\"axios\";import VideoPopUp from\"../update/VideoPopUp\";import{youtube_parser}from'../../common/Constants';import{API_ENDPOINT}from\"../../common/Constants\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EventComponent(props){var publicPath=process.env.PUBLIC_URL;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),eventsLoading=_useState2[0],setEventsLoading=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),events=_useState4[0],setEvents=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isVideoModalShow=_useState6[0],setIsVideoModalShow=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),activeVideoData=_useState8[0],setActiveVideoData=_useState8[1];function fetchEvents(){return _fetchEvents.apply(this,arguments);}function _fetchEvents(){_fetchEvents=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setEventsLoading(true);_context.prev=1;_context.next=4;return axios.get(API_ENDPOINT+\"cuevent/latestHome\");case 4:res=_context.sent;//const res = await axios.get(publicPath + \"/assets/data/events.json\");\nif(res.data.data){setEventsLoading(false);setEvents(res.data.data);}_context.next=12;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);console.error(\"error \",_context.t0);setEventsLoading(false);case 12:case\"end\":return _context.stop();}}},_callee,null,[[1,8]]);}));return _fetchEvents.apply(this,arguments);}var showVideoModal=function showVideoModal(r){console.log(\"showVideoModal clicked\");setActiveVideoData(r);setIsVideoModalShow(true);};var closeVideoModal=function closeVideoModal(){console.log(\"closeVideoModal trigger\");setIsVideoModalShow(false);setActiveVideoData(null);};useEffect(function(){// window.scrollTo({ top:0,left:0,behavior:'smooth'});\nfetchEvents();},[]);if(eventsLoading)return\"Please wait...\";var responsive={desktop:{breakpoint:{max:3000,min:1024},items:2,paritialVisibilityGutter:60},tablet:{breakpoint:{max:1024,min:464},items:2,paritialVisibilityGutter:50},mobile:{breakpoint:{max:464,min:0},items:1,paritialVisibilityGutter:0}};return/*#__PURE__*/_jsx(_Fragment,{children:eventsLoading?/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:\"Loading...\"})}):/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Carousel,{ssr:true,partialVisbile:true,itemClass:\"image-item\",responsive:responsive,autoPlay:props.deviceType!==\"mobile\"?true:false,children:events&&events.map(function(image,index){return/*#__PURE__*/_jsxs(\"div\",{className:\"eventContent \",children:[/*#__PURE__*/_jsx(\"img\",{onClick:function onClick(){return showVideoModal(image);},src:'https://img.youtube.com/vi/'+youtube_parser(image.youtube_url)+'/maxresdefault.jpg',alt:\"\",className:\"img-fluid\"}),/*#__PURE__*/_jsx(\"p\",{children:image.title}),/*#__PURE__*/_jsx(\"div\",{className:\"eventContentPlayBtn\",children:/*#__PURE__*/_jsx(\"img\",{onClick:function onClick(){return showVideoModal(image);},src:publicPath+\"/assets/images/Play_button.svg\"})})]},index);})}),/*#__PURE__*/_jsx(VideoPopUp,{show:isVideoModalShow,onHide:closeVideoModal,data:activeVideoData})]})})});}export default EventComponent;","map":{"version":3,"sources":["/var/www/html/cuengine-portal/src/components/home/EventComponent.js"],"names":["Carousel","React","useEffect","useState","axios","VideoPopUp","youtube_parser","API_ENDPOINT","EventComponent","props","publicPath","process","env","PUBLIC_URL","eventsLoading","setEventsLoading","events","setEvents","isVideoModalShow","setIsVideoModalShow","activeVideoData","setActiveVideoData","fetchEvents","get","res","data","console","error","showVideoModal","r","log","closeVideoModal","responsive","desktop","breakpoint","max","min","items","paritialVisibilityGutter","tablet","mobile","deviceType","map","image","index","youtube_url","title"],"mappings":"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","sourcesContent":["import Carousel from \"react-multi-carousel\";\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport VideoPopUp from \"../update/VideoPopUp\";\nimport { youtube_parser } from '../../common/Constants'\nimport { API_ENDPOINT } from \"../../common/Constants\";\n\nfunction EventComponent(props) {\n    let publicPath = process.env.PUBLIC_URL;\n    const [eventsLoading, setEventsLoading] = useState(false);\n    const [events, setEvents] = useState([]);\n    const [isVideoModalShow, setIsVideoModalShow] = useState(false);\n    const [activeVideoData, setActiveVideoData] = useState(null);\n    async function fetchEvents() {\n        setEventsLoading(true);\n        try {\n            const res = await axios.get(API_ENDPOINT + \"cuevent/latestHome\");\n            //const res = await axios.get(publicPath + \"/assets/data/events.json\");\n            if (res.data.data) {\n                setEventsLoading(false);\n                setEvents(res.data.data);\n            }\n        } catch (error) {\n            console.error(\"error \", error);\n            setEventsLoading(false);\n        }\n    }\n    const showVideoModal = (r) => {\n        console.log(\"showVideoModal clicked\");\n        setActiveVideoData(r);\n        setIsVideoModalShow(true);\n    }\n\n    const closeVideoModal = () => {\n        console.log(\"closeVideoModal trigger\");\n        setIsVideoModalShow(false);\n        setActiveVideoData(null);\n    }\n    useEffect(() => {\n        // window.scrollTo({ top:0,left:0,behavior:'smooth'});\n        fetchEvents();\n    }, []);\n    if (eventsLoading)\n        return (\"Please wait...\");\n\n    const responsive = {\n        desktop: {\n            breakpoint: { max: 3000, min: 1024 },\n            items: 2,\n            paritialVisibilityGutter: 60\n        },\n        tablet: {\n            breakpoint: { max: 1024, min: 464 },\n            items: 2,\n            paritialVisibilityGutter: 50\n        },\n        mobile: {\n            breakpoint: { max: 464, min: 0 },\n            items: 1,\n            paritialVisibilityGutter: 0\n        }\n    };\n    return (\n        <>\n            {eventsLoading ?\n                <>\n                    <div className=\"text-center\">Loading...</div>\n                </>\n                :\n                <>\n                    <div>\n\n\n                        <Carousel\n                            ssr\n                            partialVisbile\n                            itemClass=\"image-item\"\n                            responsive={responsive}\n                            autoPlay={props.deviceType !== \"mobile\" ? true : false}>\n                            {events && events.map((image, index) => {\n                                return (\n                                    <div key={index} className=\"eventContent \">\n                                        <img onClick={() => showVideoModal(image)} src={'https://img.youtube.com/vi/' + youtube_parser(image.youtube_url) + '/maxresdefault.jpg'} alt=\"\" className='img-fluid' />\n                                        {/* <iframe draggable={false} style={{ width: \"100%\" }} src={image.link} title=\"YouTube video player\" frameBorder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowFullScreen></iframe> */}\n                                        <p>{image.title}</p>\n                                        <div className=\"eventContentPlayBtn\">\n                                           <img  onClick={() => showVideoModal(image)} src={publicPath + \"/assets/images/Play_button.svg\"} />\n                                        </div>\n                                    </div>\n                                );\n                            })}\n                        </Carousel>\n\n                        <VideoPopUp show={isVideoModalShow} onHide={closeVideoModal} data={activeVideoData} />\n                    </div>\n                </>\n            }\n        </>\n\n    )\n}\nexport default EventComponent;"]},"metadata":{},"sourceType":"module"}